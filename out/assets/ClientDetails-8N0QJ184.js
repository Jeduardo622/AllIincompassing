import{r as b,j as e,I as W,a as $,A as Y,e as ie,n as Z,_ as L,U as K,a0 as de,c as B,a4 as ue,ae as be,a5 as pe,F as G,P as R,d as H,u as O,b as le,a3 as Ne,af as se,a9 as ne,l as F,K as xe,ag as re,ac as he,ad as ge,ah as fe}from"./vendor-CkTWaQD2.js";import{a as De}from"./fetchers-BMhPL40Q.js";import{u as Q,s as v,a as q,f as j}from"./reports-B0fjwS8-.js";import{C as Ce,u as ve}from"./clientPayload-B4PX1WHY.js";import{u as ke,a as Ae}from"./hooks-BqhDJIKU.js";import{u as J}from"./organization-IJZMqQph.js";import{f as ye}from"./dates-C30WUoI7.js";import{c as Ie,u as Ee}from"./mutations-B419dxIF.js";import{d as je,b as Ue}from"./router-BMrycgU4.js";import"./maps-DwSjqVUD.js";import"./select-CDRQddG6.js";import"./supabase-BgfCgt6W.js";import"./types-BkL5HcP5.js";import"./servicePreferences-Du7bLh4_.js";import"./validation-aamM88qh.js";function Ve({isOpen:i,onClose:m,onSubmit:o,currentUser:c="Current User"}){const[x,u]=b.useState(""),[r,h]=b.useState(!1),[l,a]=b.useState("open");if(!i)return null;const d=()=>{x.trim()&&(o({content:x,is_visible_to_parent:r,status:l}),u(""),h(!1),a("open"))};return e.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxDEV("div",{className:"bg-white dark:bg-dark-lighter rounded-lg shadow-xl w-full max-w-lg p-6",children:[e.jsxDEV("div",{className:"flex justify-between items-center mb-4",children:[e.jsxDEV("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Add Note"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/AddGeneralNoteModal.tsx",lineNumber:43,columnNumber:11},this),e.jsxDEV("button",{type:"button",onClick:m,className:"text-gray-400 hover:text-gray-500 dark:text-gray-500 dark:hover:text-gray-400",children:e.jsxDEV(W,{className:"w-5 h-5"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/AddGeneralNoteModal.tsx",lineNumber:51,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/AddGeneralNoteModal.tsx",lineNumber:46,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/AddGeneralNoteModal.tsx",lineNumber:42,columnNumber:9},this),e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{htmlFor:"note-content",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Note Content"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/AddGeneralNoteModal.tsx",lineNumber:57,columnNumber:13},this),e.jsxDEV("textarea",{id:"note-content",value:x,onChange:f=>u(f.target.value),rows:5,className:"w-full rounded-md border-gray-300 dark:border-gray-600 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-dark dark:text-gray-200",placeholder:"Enter your note here..."},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/AddGeneralNoteModal.tsx",lineNumber:60,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/AddGeneralNoteModal.tsx",lineNumber:56,columnNumber:11},this),e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV("input",{type:"checkbox",id:"visible-to-parent",checked:r,onChange:f=>h(f.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/AddGeneralNoteModal.tsx",lineNumber:71,columnNumber:13},this),e.jsxDEV("label",{htmlFor:"visible-to-parent",className:"ml-2 block text-sm text-gray-900 dark:text-gray-100",children:"Visible to parent"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/AddGeneralNoteModal.tsx",lineNumber:78,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/AddGeneralNoteModal.tsx",lineNumber:70,columnNumber:11},this),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Status"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/AddGeneralNoteModal.tsx",lineNumber:84,columnNumber:13},this),e.jsxDEV("div",{className:"flex space-x-4",children:[e.jsxDEV("button",{type:"button",onClick:()=>a("resolved"),className:`flex items-center px-3 py-2 rounded-md ${l==="resolved"?"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-300":"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-300"}`,children:[e.jsxDEV($,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/AddGeneralNoteModal.tsx",lineNumber:97,columnNumber:17},this),"Resolved"]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/AddGeneralNoteModal.tsx",lineNumber:88,columnNumber:15},this),e.jsxDEV("button",{type:"button",onClick:()=>a("open"),className:`flex items-center px-3 py-2 rounded-md ${l==="open"?"bg-amber-100 text-amber-800 dark:bg-amber-900/20 dark:text-amber-300":"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-300"}`,children:[e.jsxDEV(Y,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/AddGeneralNoteModal.tsx",lineNumber:109,columnNumber:17},this),"Open Issue"]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/AddGeneralNoteModal.tsx",lineNumber:100,columnNumber:15},this),e.jsxDEV("button",{type:"button",onClick:()=>a("follow-up"),className:`flex items-center px-3 py-2 rounded-md ${l==="follow-up"?"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-300":"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-300"}`,children:[e.jsxDEV(ie,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/AddGeneralNoteModal.tsx",lineNumber:121,columnNumber:17},this),"Follow-up"]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/AddGeneralNoteModal.tsx",lineNumber:112,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/AddGeneralNoteModal.tsx",lineNumber:87,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/AddGeneralNoteModal.tsx",lineNumber:83,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/AddGeneralNoteModal.tsx",lineNumber:55,columnNumber:9},this),e.jsxDEV("div",{className:"flex justify-end space-x-3 mt-6",children:[e.jsxDEV("button",{type:"button",onClick:m,className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-dark border border-gray-300 dark:border-gray-600 rounded-md shadow-sm hover:bg-gray-50 dark:hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancel"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/AddGeneralNoteModal.tsx",lineNumber:129,columnNumber:11},this),e.jsxDEV("button",{type:"button",onClick:d,disabled:!x.trim(),className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:"Add Note"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/AddGeneralNoteModal.tsx",lineNumber:136,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/AddGeneralNoteModal.tsx",lineNumber:128,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/AddGeneralNoteModal.tsx",lineNumber:41,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/AddGeneralNoteModal.tsx",lineNumber:40,columnNumber:5},this)}function Te({client:i,viewerRole:m}){const{profile:o,user:c}=Q(),[x,u]=b.useState(!1),[r,h]=b.useState(!1),[l,a]=b.useState(!1),f=(m??o?.role)==="client",{data:k=[],isLoading:U}=ke(i.id),{data:D=[],isLoading:T}=Ae(i.id),A=Z(),y=L({mutationFn:async t=>ve(j,i.id,t),onSuccess:()=>{A.invalidateQueries({queryKey:["client",i.id]}),u(!1),q("Client updated successfully")},onError:t=>{v(t)}}),V=L({mutationFn:async t=>{const s={client_id:i.id,content:t.content,status:t.status,is_visible_to_parent:t.is_visible_to_parent,is_visible_to_therapist:!0,created_by:c?.id??null},{error:n}=await j.from("client_notes").insert(s);if(n)throw n},onSuccess:()=>{A.invalidateQueries({queryKey:["client-notes",i.id,"all"]}),A.invalidateQueries({queryKey:["client-notes",i.id,"parent"]}),h(!1),q("Note added successfully")},onError:t=>{v(t)}}),w=L({mutationFn:async t=>{const s=new Date().toISOString(),n={client_id:i.id,category:t.category,description:t.description,status:t.status,priority:t.priority,date_opened:s,last_action:s,created_by:c?.id??null},{error:N}=await j.from("client_issues").insert(n);if(N)throw N},onSuccess:()=>{A.invalidateQueries({queryKey:["client-issues",i.id]}),a(!1),q("Issue added successfully")},onError:t=>{v(t)}}),E=L({mutationFn:async({issueId:t,newStatus:s})=>{const{error:n}=await j.from("client_issues").update({status:s,last_action:new Date().toISOString()}).eq("id",t);if(n)throw n},onSuccess:()=>{A.invalidateQueries({queryKey:["client-issues",i.id]}),q("Issue status updated")},onError:t=>{v(t)}}),I=async t=>{await V.mutateAsync(t)},_=async t=>{await w.mutateAsync(t)},S=(t,s)=>{E.mutate({issueId:t,newStatus:s})},M=y.error instanceof Error?y.error.message:y.error?"Failed to update client":null,z=t=>{switch(t?.toLowerCase()){case"resolved":return e.jsxDEV($,{className:"w-5 h-5 text-green-500"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ProfileTab.tsx",lineNumber:169,columnNumber:16},this);case"open":return e.jsxDEV(Y,{className:"w-5 h-5 text-amber-500"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ProfileTab.tsx",lineNumber:171,columnNumber:16},this);case"follow-up":return e.jsxDEV(ie,{className:"w-5 h-5 text-blue-500"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ProfileTab.tsx",lineNumber:173,columnNumber:16},this);default:return null}},P=t=>{switch(t?.toLowerCase()){case"high":return"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-300";case"medium":return"bg-amber-100 text-amber-800 dark:bg-amber-900/20 dark:text-amber-300";case"low":return"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-300"}},p=t=>{switch(t?.toLowerCase()){case"open":return"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-300";case"in progress":return"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-300";case"resolved":return"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-300"}};return e.jsxDEV("div",{className:"space-y-8",children:[e.jsxDEV("div",{className:"bg-white dark:bg-dark-lighter rounded-lg border dark:border-gray-700 p-6",children:[e.jsxDEV("div",{className:"flex justify-between items-start mb-4",children:[e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV("div",{className:"h-16 w-16 rounded-full bg-blue-100 dark:bg-blue-900/20 flex items-center justify-center",children:e.jsxDEV(K,{className:"h-8 w-8 text-blue-600 dark:text-blue-400"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ProfileTab.tsx",lineNumber:214,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ProfileTab.tsx",lineNumber:213,columnNumber:13},this),e.jsxDEV("div",{className:"ml-4",children:[e.jsxDEV("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:i.full_name},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ProfileTab.tsx",lineNumber:217,columnNumber:15},this),e.jsxDEV("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Client ID: ",i.client_id]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ProfileTab.tsx",lineNumber:218,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ProfileTab.tsx",lineNumber:216,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ProfileTab.tsx",lineNumber:212,columnNumber:11},this),!f&&e.jsxDEV("button",{onClick:()=>u(!0),className:"px-3 py-1.5 text-sm font-medium text-white bg-blue-600 rounded-md shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 flex items-center",type:"button",children:[e.jsxDEV(de,{className:"w-4 h-4 mr-1"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ProfileTab.tsx",lineNumber:229,columnNumber:15},this),"Edit"]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ProfileTab.tsx",lineNumber:224,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ProfileTab.tsx",lineNumber:211,columnNumber:9},this),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-6",children:[e.jsxDEV("div",{className:"flex items-start",children:[e.jsxDEV(B,{className:"w-5 h-5 text-gray-400 mt-0.5 mr-2"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ProfileTab.tsx",lineNumber:237,columnNumber:13},this),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Date of Birth"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ProfileTab.tsx",lineNumber:239,columnNumber:15},this),e.jsxDEV("p",{className:"text-sm text-gray-900 dark:text-white",children:i.date_of_birth?new Date(i.date_of_birth).toLocaleDateString():"N/A"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ProfileTab.tsx",lineNumber:240,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ProfileTab.tsx",lineNumber:238,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ProfileTab.tsx",lineNumber:236,columnNumber:11},this),e.jsxDEV("div",{className:"flex items-start",children:[e.jsxDEV(ue,{className:"w-5 h-5 text-gray-400 mt-0.5 mr-2"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ProfileTab.tsx",lineNumber:247,columnNumber:13},this),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Email"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ProfileTab.tsx",lineNumber:249,columnNumber:15},this),e.jsxDEV("p",{className:"text-sm text-gray-900 dark:text-white",children:i.email||"N/A"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ProfileTab.tsx",lineNumber:250,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ProfileTab.tsx",lineNumber:248,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ProfileTab.tsx",lineNumber:246,columnNumber:11},this),e.jsxDEV("div",{className:"flex items-start",children:[e.jsxDEV(be,{className:"w-5 h-5 text-gray-400 mt-0.5 mr-2"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ProfileTab.tsx",lineNumber:255,columnNumber:13},this),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Phone"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ProfileTab.tsx",lineNumber:257,columnNumber:15},this),e.jsxDEV("p",{className:"text-sm text-gray-900 dark:text-white",children:i.phone||"N/A"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ProfileTab.tsx",lineNumber:258,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ProfileTab.tsx",lineNumber:256,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ProfileTab.tsx",lineNumber:254,columnNumber:11},this),e.jsxDEV("div",{className:"flex items-start",children:[e.jsxDEV(pe,{className:"w-5 h-5 text-gray-400 mt-0.5 mr-2"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ProfileTab.tsx",lineNumber:263,columnNumber:13},this),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Address"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ProfileTab.tsx",lineNumber:265,columnNumber:15},this),e.jsxDEV("p",{className:"text-sm text-gray-900 dark:text-white",children:i.address_line1?e.jsxDEV(e.Fragment,{children:[i.address_line1,i.address_line2?e.jsxDEV(e.Fragment,{children:[e.jsxDEV("br",{},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ProfileTab.tsx",lineNumber:270,columnNumber:47},this),i.address_line2]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ProfileTab.tsx",lineNumber:270,columnNumber:45},this):null,e.jsxDEV("br",{},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ProfileTab.tsx",lineNumber:271,columnNumber:21},this),i.city,", ",i.state," ",i.zip_code]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ProfileTab.tsx",lineNumber:268,columnNumber:19},this):"N/A"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ProfileTab.tsx",lineNumber:266,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ProfileTab.tsx",lineNumber:264,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ProfileTab.tsx",lineNumber:262,columnNumber:11},this),e.jsxDEV("div",{className:"flex items-start",children:[e.jsxDEV(K,{className:"w-5 h-5 text-gray-400 mt-0.5 mr-2"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ProfileTab.tsx",lineNumber:282,columnNumber:13},this),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Gender"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ProfileTab.tsx",lineNumber:284,columnNumber:15},this),e.jsxDEV("p",{className:"text-sm text-gray-900 dark:text-white",children:i.gender||"N/A"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ProfileTab.tsx",lineNumber:285,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ProfileTab.tsx",lineNumber:283,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ProfileTab.tsx",lineNumber:281,columnNumber:11},this),e.jsxDEV("div",{className:"flex items-start",children:[e.jsxDEV(G,{className:"w-5 h-5 text-gray-400 mt-0.5 mr-2"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ProfileTab.tsx",lineNumber:290,columnNumber:13},this),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"CIN Number"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ProfileTab.tsx",lineNumber:292,columnNumber:15},this),e.jsxDEV("p",{className:"text-sm text-gray-900 dark:text-white",children:i.cin_number||"N/A"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ProfileTab.tsx",lineNumber:293,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ProfileTab.tsx",lineNumber:291,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ProfileTab.tsx",lineNumber:289,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ProfileTab.tsx",lineNumber:235,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ProfileTab.tsx",lineNumber:210,columnNumber:7},this),e.jsxDEV("div",{className:"bg-white dark:bg-dark-lighter rounded-lg border dark:border-gray-700 p-6",children:[e.jsxDEV("div",{className:"flex justify-between items-center mb-4",children:[e.jsxDEV("h2",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Notes"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ProfileTab.tsx",lineNumber:302,columnNumber:11},this),!f&&e.jsxDEV("button",{onClick:()=>h(!0),className:"px-3 py-1.5 text-sm font-medium text-white bg-blue-600 rounded-md shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 flex items-center",type:"button",disabled:V.isPending,children:V.isPending?e.jsxDEV("span",{className:"flex items-center gap-2",children:[e.jsxDEV("span",{className:"h-3 w-3 animate-spin rounded-full border-b-2 border-white"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ProfileTab.tsx",lineNumber:312,columnNumber:19},this),"Saving…"]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ProfileTab.tsx",lineNumber:311,columnNumber:17},this):e.jsxDEV(e.Fragment,{children:[e.jsxDEV(R,{className:"w-4 h-4 mr-1"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ProfileTab.tsx",lineNumber:317,columnNumber:19},this),"Add Note"]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ProfileTab.tsx",lineNumber:316,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ProfileTab.tsx",lineNumber:304,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ProfileTab.tsx",lineNumber:301,columnNumber:9},this),e.jsxDEV("div",{className:"space-y-4",children:U?e.jsxDEV("div",{className:"flex items-center justify-center py-8",children:e.jsxDEV("div",{className:"h-6 w-6 animate-spin rounded-full border-b-2 border-blue-600"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ProfileTab.tsx",lineNumber:328,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ProfileTab.tsx",lineNumber:327,columnNumber:13},this):k.length===0?e.jsxDEV("p",{className:"text-center text-gray-500 dark:text-gray-400 py-8",children:"No notes found."},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ProfileTab.tsx",lineNumber:331,columnNumber:13},this):k.map(t=>e.jsxDEV("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:[e.jsxDEV("div",{className:"flex justify-between items-start mb-2",children:[e.jsxDEV("div",{className:"flex items-center",children:[z(t.status),e.jsxDEV("span",{className:"ml-2 font-medium text-gray-900 dark:text-white",children:t.createdByName??t.createdBy??"Care team member"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ProfileTab.tsx",lineNumber:341,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ProfileTab.tsx",lineNumber:339,columnNumber:19},this),e.jsxDEV("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:t.createdAt?new Date(t.createdAt).toLocaleString():"—"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ProfileTab.tsx",lineNumber:345,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ProfileTab.tsx",lineNumber:338,columnNumber:17},this),e.jsxDEV("p",{className:"text-gray-700 dark:text-gray-300 whitespace-pre-wrap",children:t.content||"No note content provided."},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ProfileTab.tsx",lineNumber:349,columnNumber:17},this),e.jsxDEV("div",{className:"mt-2 flex items-center gap-2",children:[t.isVisibleToParent&&e.jsxDEV("span",{className:"text-xs bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-300 px-2 py-0.5 rounded",children:"Visible to parent"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ProfileTab.tsx",lineNumber:354,columnNumber:21},this),!t.isVisibleToTherapist&&e.jsxDEV("span",{className:"text-xs bg-amber-100 text-amber-800 dark:bg-amber-900/20 dark:text-amber-300 px-2 py-0.5 rounded",children:"Hidden from therapist"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ProfileTab.tsx",lineNumber:359,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ProfileTab.tsx",lineNumber:352,columnNumber:17},this)]},t.id,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ProfileTab.tsx",lineNumber:334,columnNumber:15},this))},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ProfileTab.tsx",lineNumber:325,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ProfileTab.tsx",lineNumber:300,columnNumber:7},this),e.jsxDEV("div",{className:"bg-white dark:bg-dark-lighter rounded-lg border dark:border-gray-700 p-6",children:[e.jsxDEV("div",{className:"flex justify-between items-center mb-4",children:[e.jsxDEV("h2",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Issues Log"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ProfileTab.tsx",lineNumber:373,columnNumber:11},this),!f&&e.jsxDEV("button",{onClick:()=>a(!0),className:"px-3 py-1.5 text-sm font-medium text-white bg-blue-600 rounded-md shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 flex items-center",type:"button",disabled:w.isPending,children:w.isPending?e.jsxDEV("span",{className:"flex items-center gap-2",children:[e.jsxDEV("span",{className:"h-3 w-3 animate-spin rounded-full border-b-2 border-white"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ProfileTab.tsx",lineNumber:383,columnNumber:19},this),"Saving…"]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ProfileTab.tsx",lineNumber:382,columnNumber:17},this):e.jsxDEV(e.Fragment,{children:[e.jsxDEV(R,{className:"w-4 h-4 mr-1"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ProfileTab.tsx",lineNumber:388,columnNumber:19},this),"Add Issue"]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ProfileTab.tsx",lineNumber:387,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ProfileTab.tsx",lineNumber:375,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ProfileTab.tsx",lineNumber:372,columnNumber:9},this),T?e.jsxDEV("div",{className:"flex items-center justify-center py-8",children:e.jsxDEV("div",{className:"h-6 w-6 animate-spin rounded-full border-b-2 border-blue-600"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ProfileTab.tsx",lineNumber:398,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ProfileTab.tsx",lineNumber:397,columnNumber:11},this):D.length===0?e.jsxDEV("p",{className:"text-center text-gray-500 dark:text-gray-400 py-8",children:"No active issues tracked."},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ProfileTab.tsx",lineNumber:401,columnNumber:11},this):e.jsxDEV("div",{className:"overflow-x-auto",children:e.jsxDEV("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[e.jsxDEV("thead",{className:"bg-gray-50 dark:bg-gray-800",children:e.jsxDEV("tr",{children:[e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Category"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ProfileTab.tsx",lineNumber:407,columnNumber:19},this),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Description"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ProfileTab.tsx",lineNumber:410,columnNumber:19},this),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Status"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ProfileTab.tsx",lineNumber:413,columnNumber:19},this),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Priority"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ProfileTab.tsx",lineNumber:416,columnNumber:19},this),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Date Opened"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ProfileTab.tsx",lineNumber:419,columnNumber:19},this),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Last Action"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ProfileTab.tsx",lineNumber:422,columnNumber:19},this),!f&&e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Actions"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ProfileTab.tsx",lineNumber:426,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ProfileTab.tsx",lineNumber:406,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ProfileTab.tsx",lineNumber:405,columnNumber:15},this),e.jsxDEV("tbody",{className:"bg-white dark:bg-dark-lighter divide-y divide-gray-200 dark:divide-gray-700",children:D.map(t=>e.jsxDEV("tr",{children:[e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white",children:t.category??"—"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ProfileTab.tsx",lineNumber:435,columnNumber:21},this),e.jsxDEV("td",{className:"px-6 py-4 whitespace-normal text-sm text-gray-500 dark:text-gray-300",children:t.description??"—"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ProfileTab.tsx",lineNumber:438,columnNumber:21},this),e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxDEV("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${p(t.status)}`,children:t.status??"Unknown"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ProfileTab.tsx",lineNumber:442,columnNumber:23},this)},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ProfileTab.tsx",lineNumber:441,columnNumber:21},this),e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxDEV("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${P(t.priority)}`,children:t.priority??"Unassigned"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ProfileTab.tsx",lineNumber:447,columnNumber:23},this)},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ProfileTab.tsx",lineNumber:446,columnNumber:21},this),e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300",children:t.dateOpened?new Date(t.dateOpened).toLocaleDateString():"—"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ProfileTab.tsx",lineNumber:451,columnNumber:21},this),e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300",children:t.lastAction?new Date(t.lastAction).toLocaleDateString():"—"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ProfileTab.tsx",lineNumber:454,columnNumber:21},this),!f&&e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300",children:e.jsxDEV("div",{className:"flex space-x-2",children:[e.jsxDEV("button",{onClick:()=>S(t.id,"Open"),className:"px-2 py-1 text-xs font-medium text-blue-600 hover:text-blue-800 disabled:opacity-50",type:"button",disabled:E.isPending,children:"Open"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ProfileTab.tsx",lineNumber:460,columnNumber:27},this),e.jsxDEV("button",{onClick:()=>S(t.id,"In Progress"),className:"px-2 py-1 text-xs font-medium text-blue-600 hover:text-blue-800 disabled:opacity-50",type:"button",disabled:E.isPending,children:"In Progress"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ProfileTab.tsx",lineNumber:468,columnNumber:27},this),e.jsxDEV("button",{onClick:()=>S(t.id,"Resolved"),className:"px-2 py-1 text-xs font-medium text-green-600 hover:text-green-800 disabled:opacity-50",type:"button",disabled:E.isPending,children:"Resolved"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ProfileTab.tsx",lineNumber:476,columnNumber:27},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ProfileTab.tsx",lineNumber:459,columnNumber:25},this)},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ProfileTab.tsx",lineNumber:458,columnNumber:23},this)]},t.id,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ProfileTab.tsx",lineNumber:434,columnNumber:19},this))},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ProfileTab.tsx",lineNumber:432,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ProfileTab.tsx",lineNumber:404,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ProfileTab.tsx",lineNumber:403,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ProfileTab.tsx",lineNumber:371,columnNumber:7},this),x&&e.jsxDEV(Ce,{isOpen:x,onClose:()=>u(!1),onSubmit:y.mutateAsync,client:i,isSaving:y.isPending,saveError:M},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ProfileTab.tsx",lineNumber:497,columnNumber:9},this),e.jsxDEV(Ve,{isOpen:!f&&r,onClose:()=>h(!1),onSubmit:I,currentUser:o?.full_name??o?.email??"Current User"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ProfileTab.tsx",lineNumber:508,columnNumber:7},this),!f&&l&&e.jsxDEV(we,{onClose:()=>a(!1),onSubmit:_},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ProfileTab.tsx",lineNumber:517,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ProfileTab.tsx",lineNumber:208,columnNumber:5},this)}function we({onClose:i,onSubmit:m}){const[o,c]=b.useState("Authorization"),[x,u]=b.useState(""),[r,h]=b.useState("Medium"),l=a=>{a.preventDefault(),m({category:o,description:x,status:"Open",priority:r})};return e.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxDEV("div",{className:"bg-white dark:bg-dark-lighter rounded-lg shadow-xl w-full max-w-lg p-6",children:[e.jsxDEV("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"Add Issue"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ProfileTab.tsx",lineNumber:549,columnNumber:9},this),e.jsxDEV("form",{onSubmit:l,className:"space-y-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{htmlFor:"issue-category",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Category"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ProfileTab.tsx",lineNumber:555,columnNumber:13},this),e.jsxDEV("select",{id:"issue-category",value:o,onChange:a=>c(a.target.value),className:"w-full rounded-md border-gray-300 dark:border-gray-600 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-dark dark:text-gray-200",children:[e.jsxDEV("option",{value:"Authorization",children:"Authorization"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ProfileTab.tsx",lineNumber:564,columnNumber:15},this),e.jsxDEV("option",{value:"Scheduling",children:"Scheduling"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ProfileTab.tsx",lineNumber:565,columnNumber:15},this),e.jsxDEV("option",{value:"Clinical",children:"Clinical"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ProfileTab.tsx",lineNumber:566,columnNumber:15},this),e.jsxDEV("option",{value:"Billing",children:"Billing"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ProfileTab.tsx",lineNumber:567,columnNumber:15},this),e.jsxDEV("option",{value:"Other",children:"Other"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ProfileTab.tsx",lineNumber:568,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ProfileTab.tsx",lineNumber:558,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ProfileTab.tsx",lineNumber:554,columnNumber:11},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{htmlFor:"issue-description",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Description"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ProfileTab.tsx",lineNumber:573,columnNumber:13},this),e.jsxDEV("textarea",{id:"issue-description",value:x,onChange:a=>u(a.target.value),rows:3,className:"w-full rounded-md border-gray-300 dark:border-gray-600 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-dark dark:text-gray-200",placeholder:"Describe the issue...",required:!0},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ProfileTab.tsx",lineNumber:576,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ProfileTab.tsx",lineNumber:572,columnNumber:11},this),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Priority"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ProfileTab.tsx",lineNumber:588,columnNumber:13},this),e.jsxDEV("div",{className:"flex space-x-4",children:[e.jsxDEV("button",{type:"button",onClick:()=>h("Low"),className:`flex-1 py-2 rounded-md ${r==="Low"?"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-300":"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-300"}`,children:"Low"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ProfileTab.tsx",lineNumber:592,columnNumber:15},this),e.jsxDEV("button",{type:"button",onClick:()=>h("Medium"),className:`flex-1 py-2 rounded-md ${r==="Medium"?"bg-amber-100 text-amber-800 dark:bg-amber-900/20 dark:text-amber-300":"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-300"}`,children:"Medium"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ProfileTab.tsx",lineNumber:603,columnNumber:15},this),e.jsxDEV("button",{type:"button",onClick:()=>h("High"),className:`flex-1 py-2 rounded-md ${r==="High"?"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-300":"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-300"}`,children:"High"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ProfileTab.tsx",lineNumber:614,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ProfileTab.tsx",lineNumber:591,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ProfileTab.tsx",lineNumber:587,columnNumber:11},this),e.jsxDEV("div",{className:"flex justify-end space-x-3 pt-4",children:[e.jsxDEV("button",{type:"button",onClick:i,className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-dark border border-gray-300 dark:border-gray-600 rounded-md shadow-sm hover:bg-gray-50 dark:hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancel"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ProfileTab.tsx",lineNumber:630,columnNumber:13},this),e.jsxDEV("button",{type:"submit",disabled:!x.trim(),className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:"Add Issue"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ProfileTab.tsx",lineNumber:637,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ProfileTab.tsx",lineNumber:629,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ProfileTab.tsx",lineNumber:553,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ProfileTab.tsx",lineNumber:548,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ProfileTab.tsx",lineNumber:547,columnNumber:5},this)}function Se({isOpen:i,onClose:m,onSubmit:o,therapists:c,selectedAuth:x,isSaving:u=!1}){const[r,h]=b.useState(new Date().toISOString().split("T")[0]),[l,a]=b.useState("09:00"),[d,f]=b.useState("10:00"),[k,U]=b.useState("97153"),[D,T]=b.useState(""),[A,y]=b.useState([]),[V,w]=b.useState(""),[E,I]=b.useState(!1),_=()=>{y([...A,""])},S=(p,t)=>{const s=[...A];s[p]=t,y(s)},M=p=>{const t=[...A];t.splice(p,1),y(t)},z=()=>{h(new Date().toISOString().split("T")[0]),a("09:00"),f("10:00"),U("97153"),T(""),y([""]),w(""),I(!1)};if(b.useEffect(()=>{i||z()},[i]),!i)return null;const P=()=>{if(!x){v("Select an authorization before adding a session note");return}const p=A.filter(s=>s.trim()!=="");if(!r){v("Session date is required");return}if(!l){v("Start time is required");return}if(!d){v("End time is required");return}if(!k){v("Service code is required");return}if(!D){v("Therapist is required");return}if(p.length===0){v("At least one goal must be addressed");return}if(!V.trim()){v("Session notes are required");return}const t=c.find(s=>s.id===D);o({date:r,start_time:l,end_time:d,service_code:k,therapist_id:D,therapist_name:t?.full_name||"Unknown Therapist",goals_addressed:p,narrative:V,is_locked:E})};return e.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxDEV("div",{className:"bg-white dark:bg-dark-lighter rounded-lg shadow-xl w-full max-w-2xl p-6 max-h-[90vh] overflow-y-auto",children:[e.jsxDEV("div",{className:"flex justify-between items-center mb-4",children:[e.jsxDEV("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Add Session Note"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/AddSessionNoteModal.tsx",lineNumber:142,columnNumber:11},this),e.jsxDEV("button",{type:"button",onClick:m,className:"text-gray-400 hover:text-gray-500 dark:text-gray-500 dark:hover:text-gray-400",children:e.jsxDEV(W,{className:"w-5 h-5"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/AddSessionNoteModal.tsx",lineNumber:150,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/AddSessionNoteModal.tsx",lineNumber:145,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/AddSessionNoteModal.tsx",lineNumber:141,columnNumber:9},this),e.jsxDEV("div",{className:"space-y-6",children:[e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{htmlFor:"session-date",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:[e.jsxDEV(B,{className:"w-4 h-4 inline-block mr-1"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/AddSessionNoteModal.tsx",lineNumber:158,columnNumber:17},this),"Session Date"]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/AddSessionNoteModal.tsx",lineNumber:157,columnNumber:15},this),e.jsxDEV("input",{id:"session-date",type:"date",value:r,onChange:p=>h(p.target.value),className:"w-full rounded-md border-gray-300 dark:border-gray-600 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-dark dark:text-gray-200"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/AddSessionNoteModal.tsx",lineNumber:161,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/AddSessionNoteModal.tsx",lineNumber:156,columnNumber:13},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{htmlFor:"service-code",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:[e.jsxDEV(G,{className:"w-4 h-4 inline-block mr-1"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/AddSessionNoteModal.tsx",lineNumber:172,columnNumber:17},this),"Service Code"]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/AddSessionNoteModal.tsx",lineNumber:171,columnNumber:15},this),e.jsxDEV("select",{id:"service-code",value:k,onChange:p=>U(p.target.value),className:"w-full rounded-md border-gray-300 dark:border-gray-600 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-dark dark:text-gray-200",children:[e.jsxDEV("option",{value:"",children:"Select service code"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/AddSessionNoteModal.tsx",lineNumber:181,columnNumber:17},this),e.jsxDEV("option",{value:"97151",children:"97151 - Behavior identification assessment"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/AddSessionNoteModal.tsx",lineNumber:182,columnNumber:17},this),e.jsxDEV("option",{value:"97152",children:"97152 - Behavior identification supporting assessment"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/AddSessionNoteModal.tsx",lineNumber:183,columnNumber:17},this),e.jsxDEV("option",{value:"97153",children:"97153 - Adaptive behavior treatment by protocol"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/AddSessionNoteModal.tsx",lineNumber:184,columnNumber:17},this),e.jsxDEV("option",{value:"97154",children:"97154 - Group adaptive behavior treatment by protocol"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/AddSessionNoteModal.tsx",lineNumber:185,columnNumber:17},this),e.jsxDEV("option",{value:"97155",children:"97155 - Adaptive behavior treatment with protocol modification"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/AddSessionNoteModal.tsx",lineNumber:186,columnNumber:17},this),e.jsxDEV("option",{value:"97156",children:"97156 - Family adaptive behavior treatment guidance"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/AddSessionNoteModal.tsx",lineNumber:187,columnNumber:17},this),e.jsxDEV("option",{value:"97157",children:"97157 - Multiple-family group adaptive behavior treatment guidance"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/AddSessionNoteModal.tsx",lineNumber:188,columnNumber:17},this),e.jsxDEV("option",{value:"97158",children:"97158 - Group adaptive behavior treatment with protocol modification"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/AddSessionNoteModal.tsx",lineNumber:189,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/AddSessionNoteModal.tsx",lineNumber:175,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/AddSessionNoteModal.tsx",lineNumber:170,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/AddSessionNoteModal.tsx",lineNumber:155,columnNumber:11},this),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{htmlFor:"start-time",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:[e.jsxDEV(H,{className:"w-4 h-4 inline-block mr-1"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/AddSessionNoteModal.tsx",lineNumber:197,columnNumber:17},this),"Start Time"]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/AddSessionNoteModal.tsx",lineNumber:196,columnNumber:15},this),e.jsxDEV("input",{id:"start-time",type:"time",value:l,onChange:p=>a(p.target.value),className:"w-full rounded-md border-gray-300 dark:border-gray-600 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-dark dark:text-gray-200"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/AddSessionNoteModal.tsx",lineNumber:200,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/AddSessionNoteModal.tsx",lineNumber:195,columnNumber:13},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{htmlFor:"end-time",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:[e.jsxDEV(H,{className:"w-4 h-4 inline-block mr-1"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/AddSessionNoteModal.tsx",lineNumber:211,columnNumber:17},this),"End Time"]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/AddSessionNoteModal.tsx",lineNumber:210,columnNumber:15},this),e.jsxDEV("input",{id:"end-time",type:"time",value:d,onChange:p=>f(p.target.value),className:"w-full rounded-md border-gray-300 dark:border-gray-600 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-dark dark:text-gray-200"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/AddSessionNoteModal.tsx",lineNumber:214,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/AddSessionNoteModal.tsx",lineNumber:209,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/AddSessionNoteModal.tsx",lineNumber:194,columnNumber:11},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{htmlFor:"therapist-select",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Therapist"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/AddSessionNoteModal.tsx",lineNumber:225,columnNumber:13},this),e.jsxDEV("select",{id:"therapist-select",value:D,onChange:p=>T(p.target.value),className:"w-full rounded-md border-gray-300 dark:border-gray-600 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-dark dark:text-gray-200",children:[e.jsxDEV("option",{value:"",children:"Select therapist"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/AddSessionNoteModal.tsx",lineNumber:234,columnNumber:15},this),c.map(p=>e.jsxDEV("option",{value:p.id,children:[p.full_name," - ",p.title||"Therapist"]},p.id,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/AddSessionNoteModal.tsx",lineNumber:236,columnNumber:17},this))]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/AddSessionNoteModal.tsx",lineNumber:228,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/AddSessionNoteModal.tsx",lineNumber:224,columnNumber:11},this),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Goals Addressed"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/AddSessionNoteModal.tsx",lineNumber:244,columnNumber:13},this),A.map((p,t)=>e.jsxDEV("div",{className:"flex items-center mb-2",children:[e.jsxDEV("input",{type:"text",value:p,onChange:s=>S(t,s.target.value),className:"flex-1 rounded-md border-gray-300 dark:border-gray-600 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-dark dark:text-gray-200",placeholder:"Enter goal"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/AddSessionNoteModal.tsx",lineNumber:249,columnNumber:17},this),A.length>1&&e.jsxDEV("button",{type:"button",onClick:()=>M(t),className:"ml-2 text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300",children:e.jsxDEV(W,{className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/AddSessionNoteModal.tsx",lineNumber:262,columnNumber:21},this)},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/AddSessionNoteModal.tsx",lineNumber:257,columnNumber:19},this)]},t,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/AddSessionNoteModal.tsx",lineNumber:248,columnNumber:15},this)),e.jsxDEV("button",{type:"button",onClick:_,className:"mt-1 text-sm text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300",children:"+ Add another goal"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/AddSessionNoteModal.tsx",lineNumber:267,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/AddSessionNoteModal.tsx",lineNumber:243,columnNumber:11},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{htmlFor:"session-notes",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Session Notes"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/AddSessionNoteModal.tsx",lineNumber:277,columnNumber:13},this),e.jsxDEV("textarea",{id:"session-notes",value:V,onChange:p=>w(p.target.value),rows:5,className:"w-full rounded-md border-gray-300 dark:border-gray-600 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-dark dark:text-gray-200",placeholder:"Enter detailed session notes..."},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/AddSessionNoteModal.tsx",lineNumber:280,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/AddSessionNoteModal.tsx",lineNumber:276,columnNumber:11},this),e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV("input",{type:"checkbox",id:"is-locked",checked:E,onChange:p=>I(p.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/AddSessionNoteModal.tsx",lineNumber:291,columnNumber:13},this),e.jsxDEV("label",{htmlFor:"is-locked",className:"ml-2 block text-sm text-gray-900 dark:text-gray-100 flex items-center",children:[e.jsxDEV($,{className:"w-4 h-4 mr-1 text-green-500"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/AddSessionNoteModal.tsx",lineNumber:299,columnNumber:15},this),"Sign and lock note"]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/AddSessionNoteModal.tsx",lineNumber:298,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/AddSessionNoteModal.tsx",lineNumber:290,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/AddSessionNoteModal.tsx",lineNumber:154,columnNumber:9},this),e.jsxDEV("div",{className:"flex justify-end space-x-3 mt-6",children:[e.jsxDEV("button",{type:"button",onClick:m,className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-dark border border-gray-300 dark:border-gray-600 rounded-md shadow-sm hover:bg-gray-50 dark:hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancel"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/AddSessionNoteModal.tsx",lineNumber:306,columnNumber:11},this),e.jsxDEV("button",{type:"button",onClick:P,disabled:u,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:u?"Saving…":"Save Note"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/AddSessionNoteModal.tsx",lineNumber:313,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/AddSessionNoteModal.tsx",lineNumber:305,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/AddSessionNoteModal.tsx",lineNumber:140,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/AddSessionNoteModal.tsx",lineNumber:139,columnNumber:5},this)}const ae="client_session_notes",oe=(i,m)=>({id:i.id,date:i.session_date,start_time:i.start_time,end_time:i.end_time,service_code:i.service_code,therapist_id:i.therapist_id,therapist_name:m?.full_name??"Unknown Therapist",goals_addressed:i.goals_addressed??[],narrative:i.narrative,is_locked:i.is_locked,client_id:i.client_id,authorization_id:i.authorization_id,organization_id:i.organization_id,session_duration:i.session_duration,signed_at:i.signed_at,created_at:i.created_at,updated_at:i.updated_at}),Pe=async(i,m,o={})=>{if(!i)return[];if(!m)throw new Error("Organization context is required to load session notes.");const c=o.limit??100,{data:x,error:u}=await j.from(ae).select(`
        *,
        therapists:therapist_id (
          full_name,
          title
        )
      `).eq("client_id",i).eq("organization_id",m).order("session_date",{ascending:!1}).order("created_at",{ascending:!1}).limit(c);if(u)throw u;return(x??[]).map(r=>oe(r,r.therapists??null))},_e=async i=>{const{data:m,error:o}=await j.from("authorizations").select(`
        id,
        organization_id,
        status,
        start_date,
        end_date,
        services:authorization_services (
          service_code,
          approved_units
        )
      `).eq("id",i.authorizationId).single();if(o||!m)throw o??new Error("Authorization not found.");if(m.organization_id!==i.organizationId)throw new Error("Authorization does not belong to the active organization.");if(m.status!=="approved")throw new Error("Authorization must be approved before creating session notes.");const c=new Date(i.sessionDate);if(c<new Date(m.start_date)||c>new Date(m.end_date))throw new Error("Session date must be within the authorization date range.");if(!(m.services??[]).find(l=>l.service_code===i.serviceCode))throw new Error("Selected service code is not part of this authorization.");const u={authorization_id:i.authorizationId,client_id:i.clientId,therapist_id:i.therapistId,created_by:i.createdBy,organization_id:i.organizationId,service_code:i.serviceCode,session_date:i.sessionDate,start_time:i.startTime,end_time:i.endTime,session_duration:i.sessionDuration,goals_addressed:i.goalsAddressed,narrative:i.narrative,is_locked:i.isLocked,signed_at:i.isLocked?new Date().toISOString():null,session_id:i.sessionId??null},{data:r,error:h}=await j.from(ae).insert(u).select(`
        *,
        therapists:therapist_id (
          full_name,
          title
        )
      `).single();if(h||!r)throw h??new Error("Unable to create session note");return oe(r,r.therapists??null)},te=i=>i?i.length===5?`${i}:00`:i:"00:00:00",Me=(i,m)=>{const o=Date.parse(`1970-01-01T${te(i)}Z`),c=Date.parse(`1970-01-01T${te(m)}Z`);return Number.isNaN(o)||Number.isNaN(c)||c<=o?0:Math.round((c-o)/6e4)},ze=i=>!!(i&&typeof i=="object"&&"message"in i&&"code"in i);function Fe({client:i}){const m=Z(),{user:o}=Q(),c=J(),[x,u]=b.useState(!1),[r,h]=b.useState(null),[l,a]=b.useState(""),[d,f]=b.useState([]),[k,U]=b.useState("all"),{data:D=[],isLoading:T}=O({queryKey:["authorizations",i.id,c??"MISSING_ORG"],queryFn:async()=>{if(!c)throw new Error("Organization context is required to load authorizations.");const{data:t,error:s}=await j.from("authorizations").select(`
          *,
          services:authorization_services(*)
        `).eq("client_id",i.id).eq("organization_id",c).eq("status","approved");if(s)throw s;return t},enabled:!!(i.id&&c)}),{data:A=[]}=O({queryKey:["therapists"],queryFn:async()=>{const{data:t,error:s}=await j.from("therapists").select("*").order("full_name");if(s)throw s;return t}}),{data:y=[],isLoading:V,isRefetching:w}=O({queryKey:["client-session-notes",i.id,c??"MISSING_ORG"],queryFn:()=>Pe(i.id,c),enabled:!!(i.id&&c)}),E=L({mutationFn:async t=>{if(!o?.id)throw new Error("You must be signed in to create a session note.");if(!r)throw new Error("Select an authorization before adding a session note.");if(!c)throw new Error("Organization context is required to save session notes.");const s=Me(t.start_time,t.end_time);if(s<=0)throw new Error("End time must be later than start time.");return _e({authorizationId:r,clientId:i.id,createdBy:o.id,organizationId:c,therapistId:t.therapist_id,serviceCode:t.service_code,sessionDate:t.date,startTime:t.start_time,endTime:t.end_time,sessionDuration:s,goalsAddressed:t.goals_addressed,narrative:t.narrative,isLocked:t.is_locked})},onSuccess:()=>{q("Session note saved."),u(!1),m.invalidateQueries({queryKey:["client-session-notes",i.id]}).catch(()=>{})},onError:t=>{if(ze(t)){v(t.message);return}v(t instanceof Error?t.message:"Failed to save session note.")}}),I=b.useMemo(()=>{const t=l.toLowerCase().trim();return y.filter(s=>{const n=t.length===0||s.narrative.toLowerCase().includes(t)||s.therapist_name.toLowerCase().includes(t)||s.service_code.toLowerCase().includes(t)||s.goals_addressed.some(C=>C.toLowerCase().includes(t)),N=k==="all"||k==="locked"&&!!s.is_locked||k==="unlocked"&&!s.is_locked;return n&&N})},[y,l,k]),_=()=>{d.length===I.length?f([]):f(I.map(t=>t.id))},S=t=>{d.includes(t)?f(d.filter(s=>s!==t)):f([...d,t])},M=()=>{alert(`Generating PDF for notes: ${d.join(", ")}`)},z=t=>{E.mutate(t)},P=!r||!c||!o?.id,p=V||w;return e.jsxDEV("div",{className:"space-y-8",children:[e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsxDEV("div",{className:"md:col-span-1 bg-white dark:bg-dark-lighter rounded-lg border dark:border-gray-700 p-4",children:[e.jsxDEV("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Active Authorizations"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/SessionNotesTab.tsx",lineNumber:185,columnNumber:11},this),T?e.jsxDEV("div",{className:"flex justify-center py-8",children:e.jsxDEV("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/SessionNotesTab.tsx",lineNumber:191,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/SessionNotesTab.tsx",lineNumber:190,columnNumber:13},this):D.length===0?e.jsxDEV("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"No active authorizations found"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/SessionNotesTab.tsx",lineNumber:194,columnNumber:13},this):e.jsxDEV("div",{className:"space-y-3",children:D.map(t=>e.jsxDEV("button",{type:"button",onClick:()=>h(t.id),"aria-pressed":r===t.id,"aria-label":`Select authorization ${t.authorization_number}`,className:`text-left w-full p-3 rounded-lg transition-colors ${r===t.id?"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800":"bg-gray-50 dark:bg-gray-800 hover:bg-gray-100 dark:hover:bg-gray-700 border-gray-200 dark:border-gray-700"} border`,children:[e.jsxDEV("div",{className:"font-medium text-gray-900 dark:text-white",children:["Auth #",t.authorization_number]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/SessionNotesTab.tsx",lineNumber:212,columnNumber:19},this),e.jsxDEV("div",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:[new Date(t.start_date).toLocaleDateString()," - ",new Date(t.end_date).toLocaleDateString()]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/SessionNotesTab.tsx",lineNumber:215,columnNumber:19},this),e.jsxDEV("div",{className:"mt-2 space-y-1",children:t.services.map(s=>e.jsxDEV("div",{className:"text-xs",children:[e.jsxDEV("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:[s.service_code,":"]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/SessionNotesTab.tsx",lineNumber:221,columnNumber:25},this),e.jsxDEV("span",{className:"ml-1 text-gray-600 dark:text-gray-400",children:[s.approved_units," of ",s.requested_units," ",s.unit_type]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/SessionNotesTab.tsx",lineNumber:224,columnNumber:25},this)]},s.id,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/SessionNotesTab.tsx",lineNumber:220,columnNumber:23},this))},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/SessionNotesTab.tsx",lineNumber:218,columnNumber:19},this)]},t.id,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/SessionNotesTab.tsx",lineNumber:200,columnNumber:17},this))},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/SessionNotesTab.tsx",lineNumber:198,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/SessionNotesTab.tsx",lineNumber:184,columnNumber:9},this),e.jsxDEV("div",{className:"md:col-span-3 bg-white dark:bg-dark-lighter rounded-lg border dark:border-gray-700 p-6",children:[e.jsxDEV("div",{className:"flex justify-between items-center mb-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Session Notes"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/SessionNotesTab.tsx",lineNumber:240,columnNumber:15},this),e.jsxDEV("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Review and manage client session documentation"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/SessionNotesTab.tsx",lineNumber:243,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/SessionNotesTab.tsx",lineNumber:239,columnNumber:13},this),e.jsxDEV("div",{className:"flex space-x-2",children:[e.jsxDEV("button",{onClick:()=>u(!0),className:"px-3 py-1.5 text-sm font-medium text-white bg-blue-600 rounded-md shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 flex items-center",disabled:P,type:"button",children:[e.jsxDEV(R,{className:"w-4 h-4 mr-1"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/SessionNotesTab.tsx",lineNumber:254,columnNumber:17},this),"New Note"]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/SessionNotesTab.tsx",lineNumber:248,columnNumber:15},this),e.jsxDEV("button",{onClick:M,disabled:d.length===0,className:"px-3 py-1.5 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-dark border border-gray-300 dark:border-gray-600 rounded-md shadow-sm hover:bg-gray-50 dark:hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 flex items-center disabled:opacity-50",type:"button",children:[e.jsxDEV(le,{className:"w-4 h-4 mr-1"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/SessionNotesTab.tsx",lineNumber:264,columnNumber:17},this),"Generate PDF"]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/SessionNotesTab.tsx",lineNumber:258,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/SessionNotesTab.tsx",lineNumber:247,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/SessionNotesTab.tsx",lineNumber:238,columnNumber:11},this),e.jsxDEV("div",{className:"mb-4 space-y-3",children:[e.jsxDEV("div",{className:"relative",children:[e.jsxDEV(Ne,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/SessionNotesTab.tsx",lineNumber:272,columnNumber:15},this),e.jsxDEV("input",{type:"text",placeholder:"Search session notes...",value:l,onChange:t=>a(t.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-dark dark:text-gray-200"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/SessionNotesTab.tsx",lineNumber:273,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/SessionNotesTab.tsx",lineNumber:271,columnNumber:13},this),e.jsxDEV("div",{className:"flex flex-wrap gap-3 justify-between items-center bg-gray-50 dark:bg-gray-800 p-3 rounded-lg",children:[e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV("input",{type:"checkbox",id:"select-all",checked:d.length===I.length&&I.length>0,onChange:_,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/SessionNotesTab.tsx",lineNumber:284,columnNumber:17},this),e.jsxDEV("label",{htmlFor:"select-all",className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:["Select All (",I.length," notes)"]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/SessionNotesTab.tsx",lineNumber:291,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/SessionNotesTab.tsx",lineNumber:283,columnNumber:15},this),e.jsxDEV("div",{className:"flex items-center",children:e.jsxDEV("select",{value:k,onChange:t=>U(t.target.value),className:"text-sm border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 py-1 px-2 text-gray-700 dark:text-gray-300",children:[e.jsxDEV("option",{value:"all",children:"All Notes"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/SessionNotesTab.tsx",lineNumber:302,columnNumber:19},this),e.jsxDEV("option",{value:"locked",children:"Signed Only"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/SessionNotesTab.tsx",lineNumber:303,columnNumber:19},this),e.jsxDEV("option",{value:"unlocked",children:"Unsigned Only"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/SessionNotesTab.tsx",lineNumber:304,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/SessionNotesTab.tsx",lineNumber:297,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/SessionNotesTab.tsx",lineNumber:296,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/SessionNotesTab.tsx",lineNumber:282,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/SessionNotesTab.tsx",lineNumber:270,columnNumber:11},this),e.jsxDEV("div",{className:"space-y-4",children:p?e.jsxDEV("div",{className:"text-center py-12 border border-dashed border-gray-300 dark:border-gray-600 rounded-lg",children:[e.jsxDEV(se,{className:"mx-auto h-12 w-12 text-gray-400 animate-pulse"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/SessionNotesTab.tsx",lineNumber:313,columnNumber:17},this),e.jsxDEV("p",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400",children:"Loading session notes…"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/SessionNotesTab.tsx",lineNumber:314,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/SessionNotesTab.tsx",lineNumber:312,columnNumber:15},this):y.length===0?e.jsxDEV("div",{className:"text-center py-12 border border-dashed border-gray-300 dark:border-gray-600 rounded-lg",children:[e.jsxDEV(se,{className:"mx-auto h-12 w-12 text-gray-400"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/SessionNotesTab.tsx",lineNumber:318,columnNumber:17},this),e.jsxDEV("h3",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-white",children:"No session notes"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/SessionNotesTab.tsx",lineNumber:319,columnNumber:17},this),e.jsxDEV("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"No session notes have been created for this client yet"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/SessionNotesTab.tsx",lineNumber:320,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/SessionNotesTab.tsx",lineNumber:317,columnNumber:15},this):I.length===0?e.jsxDEV("div",{className:"text-center py-8 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[e.jsxDEV(Y,{className:"mx-auto h-8 w-8 text-amber-500 mb-2"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/SessionNotesTab.tsx",lineNumber:326,columnNumber:17},this),e.jsxDEV("h3",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"No matching notes"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/SessionNotesTab.tsx",lineNumber:327,columnNumber:17},this),e.jsxDEV("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Try adjusting your search criteria or filters"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/SessionNotesTab.tsx",lineNumber:328,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/SessionNotesTab.tsx",lineNumber:325,columnNumber:15},this):I.map(t=>e.jsxDEV("div",{className:`p-4 rounded-lg border ${d.includes(t.id)?"border-blue-300 dark:border-blue-700 bg-blue-50 dark:bg-blue-900/10":"border-gray-200 dark:border-gray-700 bg-white dark:bg-dark-lighter"}`,children:e.jsxDEV("div",{className:"flex items-start",children:[e.jsxDEV("input",{type:"checkbox",checked:d.includes(t.id),onChange:()=>S(t.id),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded mt-1"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/SessionNotesTab.tsx",lineNumber:343,columnNumber:21},this),e.jsxDEV("div",{className:"ml-3 flex-1",children:[e.jsxDEV("div",{className:"flex justify-between items-start",children:[e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV(B,{className:"w-4 h-4 text-gray-400 mr-1"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/SessionNotesTab.tsx",lineNumber:354,columnNumber:29},this),e.jsxDEV("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:ye(new Date(t.date),"MMMM d, yyyy")},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/SessionNotesTab.tsx",lineNumber:355,columnNumber:29},this),e.jsxDEV(H,{className:"w-4 h-4 text-gray-400 ml-3 mr-1"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/SessionNotesTab.tsx",lineNumber:358,columnNumber:29},this),e.jsxDEV("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:[t.start_time," - ",t.end_time]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/SessionNotesTab.tsx",lineNumber:359,columnNumber:29},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/SessionNotesTab.tsx",lineNumber:353,columnNumber:27},this),e.jsxDEV("div",{className:"flex items-center mt-1",children:[e.jsxDEV(K,{className:"w-4 h-4 text-gray-400 mr-1"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/SessionNotesTab.tsx",lineNumber:365,columnNumber:29},this),e.jsxDEV("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:t.therapist_name},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/SessionNotesTab.tsx",lineNumber:366,columnNumber:29},this),e.jsxDEV("span",{className:"ml-3 text-xs bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-300 px-2 py-0.5 rounded",children:t.service_code},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/SessionNotesTab.tsx",lineNumber:369,columnNumber:29},this),t.is_locked&&e.jsxDEV("span",{className:"ml-2 text-xs bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-300 px-2 py-0.5 rounded flex items-center",children:[e.jsxDEV($,{className:"w-3 h-3 mr-1"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/SessionNotesTab.tsx",lineNumber:374,columnNumber:33},this),"Signed"]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/SessionNotesTab.tsx",lineNumber:373,columnNumber:31},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/SessionNotesTab.tsx",lineNumber:364,columnNumber:27},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/SessionNotesTab.tsx",lineNumber:352,columnNumber:25},this),!t.is_locked&&e.jsxDEV("button",{className:"text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300 text-sm",type:"button",children:"Edit"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/SessionNotesTab.tsx",lineNumber:382,columnNumber:27},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/SessionNotesTab.tsx",lineNumber:351,columnNumber:23},this),e.jsxDEV("div",{className:"mt-3",children:[e.jsxDEV("div",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Goals Addressed:"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/SessionNotesTab.tsx",lineNumber:392,columnNumber:25},this),e.jsxDEV("div",{className:"flex flex-wrap gap-1 mt-1",children:t.goals_addressed.map((s,n)=>e.jsxDEV("span",{className:"text-xs bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200 px-2 py-0.5 rounded",children:s},n,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/SessionNotesTab.tsx",lineNumber:397,columnNumber:29},this))},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/SessionNotesTab.tsx",lineNumber:395,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/SessionNotesTab.tsx",lineNumber:391,columnNumber:23},this),e.jsxDEV("div",{className:"mt-3",children:[e.jsxDEV("div",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Session Notes:"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/SessionNotesTab.tsx",lineNumber:408,columnNumber:25},this),e.jsxDEV("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1 whitespace-pre-wrap",children:t.narrative},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/SessionNotesTab.tsx",lineNumber:411,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/SessionNotesTab.tsx",lineNumber:407,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/SessionNotesTab.tsx",lineNumber:350,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/SessionNotesTab.tsx",lineNumber:342,columnNumber:19},this)},t.id,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/SessionNotesTab.tsx",lineNumber:334,columnNumber:17},this))},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/SessionNotesTab.tsx",lineNumber:310,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/SessionNotesTab.tsx",lineNumber:237,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/SessionNotesTab.tsx",lineNumber:182,columnNumber:7},this),e.jsxDEV(Se,{isOpen:x,onClose:()=>u(!1),onSubmit:z,therapists:A,selectedAuth:r||void 0,isSaving:E.isLoading},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/SessionNotesTab.tsx",lineNumber:425,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/SessionNotesTab.tsx",lineNumber:181,columnNumber:5},this)}const Ge=10*1024*1024,qe=["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","image/jpeg","image/png"];function Oe({client:i}){const{user:m}=Q(),o=J(),c=Z(),[x,u]=b.useState(!1),[r,h]=b.useState(1),[l,a]=b.useState({insurance:"",insuranceProviderId:"",services:[],units:{},documents:[],planType:"",memberId:""}),[d,f]=b.useState(!1),[k,U]=b.useState(!1),D=b.useRef(null),T={97151:"Behavior identification assessment",97153:"Adaptive behavior treatment by protocol",97155:"Adaptive behavior treatment with protocol modification",97156:"Family adaptive behavior treatment guidance",97157:"Multiple-family group adaptive behavior treatment guidance",97158:"Group adaptive behavior treatment with protocol modification"},{data:A=[]}=O({queryKey:["insurance-providers"],queryFn:async()=>{const{data:s,error:n}=await j.from("insurance_providers").select("id,name").order("name");if(n)throw n;return s}}),{data:y=[],isLoading:V}=O({queryKey:["authorizations",i.id,o??"MISSING_ORG"],queryFn:async()=>{if(!o)throw new Error("Organization context is required to load authorizations.");const{data:s,error:n}=await j.from("authorizations").select(`
          *,
          services:authorization_services(*),
          insurance_provider:insurance_providers(id,name)
        `).eq("client_id",i.id).eq("organization_id",o);if(n)throw n;return s},enabled:!!(i.id&&o)}),w=s=>{switch(s.toLowerCase()){case"approved":return"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-300";case"denied":return"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-300";case"pending":return"bg-amber-100 text-amber-800 dark:bg-amber-900/20 dark:text-amber-300";case"requested":return"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-300";case"expiring":return"bg-orange-100 text-orange-800 dark:bg-orange-900/20 dark:text-orange-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-300"}},E=s=>{const n=new Date(s),N=new Date,C=Math.ceil((n.getTime()-N.getTime())/(1e3*60*60*24));return C<=30&&C>0},I=s=>{const n=s.services.reduce((C,g)=>C+(g.approved_units||0),0),N=s.services.reduce((C,g)=>C+Math.floor((g.approved_units||0)*.7),0);return n>0?N/n*100:0},_=()=>{h(s=>Math.min(s+1,5))},S=()=>{h(s=>Math.max(s-1,1))},M=async()=>{if(!o||!m?.id){v("You must be signed in with an organization selected to submit.");return}if(!l.insuranceProviderId||l.services.length===0){v("Select an insurance provider and at least one service.");return}if(!l.planType){v("Select a plan type.");return}if(l.services.some(s=>!l.units[s]||l.units[s]<=0)){v("Enter units for all selected services.");return}U(!0);try{const s=new Date,n=new Date;n.setDate(s.getDate()+180);const{id:N}=await Ie({authorization_number:`AUTH-${Date.now()}`,client_id:i.id,provider_id:m.id,insurance_provider_id:l.insuranceProviderId||null,plan_type:l.planType||null,member_id:l.memberId||null,diagnosis_code:"TBD",diagnosis_description:l.insurance||null,start_date:s.toISOString().slice(0,10),end_date:n.toISOString().slice(0,10),status:"approved",services:l.services.map(g=>({service_code:g,service_description:T[g]??"",from_date:s.toISOString().slice(0,10),to_date:n.toISOString().slice(0,10),requested_units:l.units[g],approved_units:l.units[g],unit_type:"unit",decision_status:"approved"}))}),C=[];for(const g of l.documents){const me=g.name.split(".").pop(),ce=`${Date.now()}-${Math.random().toString(36).slice(2)}.${me}`,X=`clients/${i.id}/authorizations/${N}/${ce}`,{error:ee}=await j.storage.from("client-documents").upload(X,g,{upsert:!1});if(ee)throw ee;C.push({name:g.name,path:X,size:g.size,type:g.type})}C.length>0&&await Ee({authorization_id:N,documents:C}),q("Pre-authorization submitted and approved."),await c.invalidateQueries({queryKey:["authorizations",i.id]}),u(!1),h(1),a({insurance:"",insuranceProviderId:"",services:[],units:{},documents:[],planType:"",memberId:""})}catch(s){v(s instanceof Error?s.message:"Failed to submit pre-authorization.")}finally{U(!1)}},z=s=>{a({insurance:s.insurance_provider?.name??"",insuranceProviderId:s.insurance_provider_id??"",planType:s.plan_type??"",memberId:s.member_id??"",services:s.services.map(n=>n.service_code),units:s.services.reduce((n,N)=>(n[N.service_code]=N.requested_units,n),{}),documents:[]}),u(!0)},P=s=>{if(!s?.length)return;const n=[];Array.from(s).forEach(N=>{if(!qe.includes(N.type)){v(`Unsupported file type: ${N.name}`);return}if(N.size>Ge){v(`"${N.name}" exceeds the 10MB size limit.`);return}n.push(N)}),n.length&&a(N=>({...N,documents:[...N.documents,...n]}))},p=s=>{a(n=>({...n,documents:n.documents.filter((N,C)=>C!==s)}))},t=s=>{s.preventDefault(),f(!1),P(s.dataTransfer.files)};return e.jsxDEV("div",{className:"space-y-8",children:[e.jsxDEV("div",{className:"bg-white dark:bg-dark-lighter rounded-lg border dark:border-gray-700 p-6",children:[e.jsxDEV("div",{className:"flex justify-between items-center mb-6",children:[e.jsxDEV("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Authorization Tracker"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:319,columnNumber:11},this),e.jsxDEV("button",{onClick:()=>u(!0),className:"px-3 py-1.5 text-sm font-medium text-white bg-blue-600 rounded-md shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 flex items-center",children:[e.jsxDEV(R,{className:"w-4 h-4 mr-1"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:326,columnNumber:13},this),"New Authorization"]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:322,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:318,columnNumber:9},this),V?e.jsxDEV("div",{className:"flex justify-center py-8",children:e.jsxDEV("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:333,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:332,columnNumber:11},this):y.length===0?e.jsxDEV("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"No authorizations found"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:336,columnNumber:11},this):e.jsxDEV("div",{className:"overflow-x-auto",children:e.jsxDEV("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[e.jsxDEV("thead",{className:"bg-gray-50 dark:bg-gray-800",children:e.jsxDEV("tr",{children:[e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Authorization"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:344,columnNumber:19},this),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Services"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:347,columnNumber:19},this),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Units"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:350,columnNumber:19},this),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Dates"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:353,columnNumber:19},this),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Status"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:356,columnNumber:19},this),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Actions"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:359,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:343,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:342,columnNumber:15},this),e.jsxDEV("tbody",{className:"bg-white dark:bg-dark-lighter divide-y divide-gray-200 dark:divide-gray-700",children:y.map(s=>{const n=I(s),N=E(s.end_date),C=N?"expiring":s.status;return e.jsxDEV("tr",{className:`
                      ${N?"bg-orange-50 dark:bg-orange-900/5":""}
                      ${n>=80?"bg-red-50 dark:bg-red-900/5":""}
                    `,children:[e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV(ne,{className:"h-5 w-5 text-gray-400 mr-3"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:377,columnNumber:27},this),e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:["#",s.authorization_number]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:379,columnNumber:29},this),e.jsxDEV("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"CalOptima Health"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:382,columnNumber:29},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:378,columnNumber:27},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:376,columnNumber:25},this)},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:375,columnNumber:23},this),e.jsxDEV("td",{className:"px-6 py-4",children:e.jsxDEV("div",{className:"flex flex-col space-y-1",children:s.services.map(g=>e.jsxDEV("div",{className:"text-xs",children:[e.jsxDEV("span",{className:"font-medium text-gray-900 dark:text-white",children:g.service_code},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:392,columnNumber:31},this),e.jsxDEV("span",{className:"ml-1 text-gray-500 dark:text-gray-400",children:g.service_description},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:395,columnNumber:31},this)]},g.id,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:391,columnNumber:29},this))},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:389,columnNumber:25},this)},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:388,columnNumber:23},this),e.jsxDEV("td",{className:"px-6 py-4",children:e.jsxDEV("div",{className:"flex flex-col space-y-2",children:s.services.map(g=>e.jsxDEV("div",{className:"text-xs",children:[e.jsxDEV("div",{className:"flex justify-between mb-1",children:[e.jsxDEV("span",{className:"font-medium text-gray-900 dark:text-white",children:[Math.floor((g.approved_units||0)*.7)," / ",g.approved_units||0]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:407,columnNumber:33},this),e.jsxDEV("span",{className:"text-gray-500 dark:text-gray-400",children:g.unit_type},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:411,columnNumber:33},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:406,columnNumber:31},this),e.jsxDEV("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-1.5",children:e.jsxDEV("div",{className:`h-1.5 rounded-full ${(g.approved_units||0)*.7>=g.approved_units*.8?"bg-red-600":"bg-blue-600"}`,style:{width:`${Math.min((g.approved_units||0)*.7/g.approved_units*100,100)}%`}},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:416,columnNumber:33},this)},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:415,columnNumber:31},this)]},g.id,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:405,columnNumber:29},this))},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:403,columnNumber:25},this)},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:402,columnNumber:23},this),e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV(B,{className:"w-4 h-4 text-gray-400 mr-1"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:431,columnNumber:27},this),e.jsxDEV("div",{className:"text-sm text-gray-900 dark:text-white",children:[new Date(s.start_date).toLocaleDateString()," - ",new Date(s.end_date).toLocaleDateString()]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:432,columnNumber:27},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:430,columnNumber:25},this),N&&e.jsxDEV("div",{className:"flex items-center mt-1 text-xs text-orange-600 dark:text-orange-400",children:[e.jsxDEV(F,{className:"w-3 h-3 mr-1"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:438,columnNumber:29},this),"Expires in ",Math.ceil((new Date(s.end_date).getTime()-new Date().getTime())/(1e3*60*60*24))," days"]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:437,columnNumber:27},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:429,columnNumber:23},this),e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxDEV("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${w(C)}`,children:C.charAt(0).toUpperCase()+C.slice(1)},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:444,columnNumber:25},this)},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:443,columnNumber:23},this),e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxDEV("div",{className:"flex space-x-2",children:[e.jsxDEV("button",{onClick:()=>z(s),className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300",children:"Renew"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:450,columnNumber:27},this),e.jsxDEV("button",{className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300",children:"View"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:456,columnNumber:27},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:449,columnNumber:25},this)},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:448,columnNumber:23},this)]},s.id,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:371,columnNumber:21},this)})},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:364,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:341,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:340,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:317,columnNumber:7},this),e.jsxDEV("div",{className:"bg-white dark:bg-dark-lighter rounded-lg border dark:border-gray-700 p-6",children:[e.jsxDEV("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Authorization Metrics"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:474,columnNumber:9},this),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxDEV("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4",children:[e.jsxDEV("div",{className:"text-sm font-medium text-blue-800 dark:text-blue-200 mb-1",children:"Median Approval Time"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:480,columnNumber:13},this),e.jsxDEV("div",{className:"text-2xl font-bold text-blue-900 dark:text-blue-100",children:"7 days"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:483,columnNumber:13},this),e.jsxDEV("div",{className:"text-xs text-blue-700 dark:text-blue-300 mt-1",children:"Industry average: 14 days"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:486,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:479,columnNumber:11},this),e.jsxDEV("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-lg p-4",children:[e.jsxDEV("div",{className:"text-sm font-medium text-green-800 dark:text-green-200 mb-1",children:"Approval Rate"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:492,columnNumber:13},this),e.jsxDEV("div",{className:"text-2xl font-bold text-green-900 dark:text-green-100",children:"92%"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:495,columnNumber:13},this),e.jsxDEV("div",{className:"text-xs text-green-700 dark:text-green-300 mt-1",children:"Industry average: 85%"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:498,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:491,columnNumber:11},this),e.jsxDEV("div",{className:"bg-purple-50 dark:bg-purple-900/20 rounded-lg p-4",children:[e.jsxDEV("div",{className:"text-sm font-medium text-purple-800 dark:text-purple-200 mb-1",children:"Average Units Approved"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:504,columnNumber:13},this),e.jsxDEV("div",{className:"text-2xl font-bold text-purple-900 dark:text-purple-100",children:"95%"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:507,columnNumber:13},this),e.jsxDEV("div",{className:"text-xs text-purple-700 dark:text-purple-300 mt-1",children:"Of requested units"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:510,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:503,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:478,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:473,columnNumber:7},this),x&&e.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxDEV("div",{className:"bg-white dark:bg-dark-lighter rounded-lg shadow-xl w-full max-w-2xl p-6 max-h-[90vh] overflow-y-auto",children:[e.jsxDEV("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-6",children:"Authorization Request Wizard"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:521,columnNumber:13},this),e.jsxDEV("div",{className:"mb-8",children:[e.jsxDEV("div",{className:"flex items-center justify-between",children:[1,2,3,4,5].map(s=>e.jsxDEV("div",{className:`flex items-center justify-center w-8 h-8 rounded-full ${s<r?"bg-blue-600 text-white":s===r?"bg-blue-100 dark:bg-blue-900/20 text-blue-800 dark:text-blue-200 border-2 border-blue-600":"bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400"}`,role:"button",tabIndex:0,onClick:()=>D.current?.click(),onKeyDown:n=>{(n.key==="Enter"||n.key===" ")&&(n.preventDefault(),D.current?.click())},children:s<r?e.jsxDEV($,{className:"w-5 h-5"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:549,columnNumber:23},this):e.jsxDEV("span",{children:s},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:551,columnNumber:23},this)},s,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:529,columnNumber:19},this))},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:527,columnNumber:15},this),e.jsxDEV("div",{className:"flex justify-between mt-2 text-xs text-gray-500 dark:text-gray-400",children:[e.jsxDEV("span",{children:"Insurance"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:557,columnNumber:17},this),e.jsxDEV("span",{children:"Services"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:558,columnNumber:17},this),e.jsxDEV("span",{children:"Units"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:559,columnNumber:17},this),e.jsxDEV("span",{children:"Documents"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:560,columnNumber:17},this),e.jsxDEV("span",{children:"Submit"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:561,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:556,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:526,columnNumber:13},this),e.jsxDEV("div",{className:"mb-8",children:[r===1&&e.jsxDEV("div",{children:[e.jsxDEV("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Insurance & Plan"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:569,columnNumber:19},this),e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{htmlFor:"preauth-insurance",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Insurance Provider"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:574,columnNumber:23},this),e.jsxDEV("select",{id:"preauth-insurance",value:l.insuranceProviderId,onChange:s=>{const n=s.target.value,N=A.find(C=>C.id===n);a({...l,insuranceProviderId:n,insurance:N?.name??""})},className:"w-full rounded-md border-gray-300 dark:border-gray-600 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-dark dark:text-gray-200",children:[e.jsxDEV("option",{value:"",children:"Select insurance"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:591,columnNumber:25},this),A.map(s=>e.jsxDEV("option",{value:s.id,children:s.name},s.id,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:593,columnNumber:27},this))]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:577,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:573,columnNumber:21},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{htmlFor:"preauth-plan-type",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Plan Type"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:601,columnNumber:23},this),e.jsxDEV("select",{id:"preauth-plan-type",value:l.planType,onChange:s=>a({...l,planType:s.target.value}),className:"w-full rounded-md border-gray-300 dark:border-gray-600 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-dark dark:text-gray-200",children:[e.jsxDEV("option",{value:"",children:"Select plan type"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:610,columnNumber:25},this),e.jsxDEV("option",{value:"Medical",children:"Medical"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:611,columnNumber:25},this),e.jsxDEV("option",{value:"Medicaid",children:"Medicaid"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:612,columnNumber:25},this),e.jsxDEV("option",{value:"Commercial",children:"Commercial"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:613,columnNumber:25},this),e.jsxDEV("option",{value:"Medicare",children:"Medicare"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:614,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:604,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:600,columnNumber:21},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{htmlFor:"preauth-member-id",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Member ID"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:619,columnNumber:23},this),e.jsxDEV("input",{id:"preauth-member-id",type:"text",value:l.memberId,onChange:s=>a({...l,memberId:s.target.value}),className:"w-full rounded-md border-gray-300 dark:border-gray-600 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-dark dark:text-gray-200"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:622,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:618,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:572,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:568,columnNumber:17},this),r===2&&e.jsxDEV("div",{children:[e.jsxDEV("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Requested Services"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:636,columnNumber:19},this),e.jsxDEV("div",{className:"space-y-3",children:[{code:"97151",description:"Behavior identification assessment"},{code:"97153",description:"Adaptive behavior treatment by protocol"},{code:"97155",description:"Adaptive behavior treatment with protocol modification"},{code:"97156",description:"Family adaptive behavior treatment guidance"},{code:"97157",description:"Multiple-family group adaptive behavior treatment guidance"},{code:"97158",description:"Group adaptive behavior treatment with protocol modification"}].map(s=>e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV("input",{type:"checkbox",id:`service-${s.code}`,checked:l.services.includes(s.code),onChange:n=>{n.target.checked?a({...l,services:[...l.services,s.code]}):a({...l,services:l.services.filter(N=>N!==s.code)})},className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:649,columnNumber:25},this),e.jsxDEV("label",{htmlFor:`service-${s.code}`,className:"ml-2 block text-sm text-gray-900 dark:text-gray-100",children:[e.jsxDEV("span",{className:"font-medium",children:s.code},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:669,columnNumber:27},this)," - ",s.description]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:668,columnNumber:25},this)]},s.code,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:648,columnNumber:23},this))},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:639,columnNumber:19},this),l.services.includes("97153")&&e.jsxDEV("div",{className:"mt-4 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:e.jsxDEV("div",{className:"flex items-start",children:[e.jsxDEV(G,{className:"w-5 h-5 text-blue-500 mt-0.5 mr-2"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:678,columnNumber:25},this),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-sm font-medium text-blue-800 dark:text-blue-200",children:"Required Documentation for 97153"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:680,columnNumber:27},this),e.jsxDEV("p",{className:"text-xs text-blue-700 dark:text-blue-300 mt-1",children:"Treatment plan must be uploaded with this request"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:683,columnNumber:27},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:679,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:677,columnNumber:23},this)},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:676,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:635,columnNumber:17},this),r===3&&e.jsxDEV("div",{children:[e.jsxDEV("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Units / Hours Requested"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:695,columnNumber:19},this),e.jsxDEV("div",{className:"space-y-4",children:l.services.map(s=>e.jsxDEV("div",{className:"p-4 border border-gray-200 dark:border-gray-700 rounded-lg",children:[e.jsxDEV("div",{className:"flex justify-between items-center mb-2",children:[e.jsxDEV("div",{className:"font-medium text-gray-900 dark:text-white",children:s},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:702,columnNumber:27},this),e.jsxDEV("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"1 unit = 15 minutes"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:705,columnNumber:27},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:701,columnNumber:25},this),e.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{htmlFor:`preauth-units-${s}`,className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Units Requested"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:712,columnNumber:29},this),e.jsxDEV("input",{id:`preauth-units-${s}`,type:"number",min:"1",value:l.units[s]||"",onChange:n=>a({...l,units:{...l.units,[s]:parseInt(n.target.value)||0}}),className:"w-full rounded-md border-gray-300 dark:border-gray-600 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-dark dark:text-gray-200"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:715,columnNumber:29},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:711,columnNumber:27},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{htmlFor:`preauth-hours-${s}`,className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Hours Equivalent"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:732,columnNumber:29},this),e.jsxDEV("input",{id:`preauth-hours-${s}`,type:"text",value:((l.units[s]||0)/4).toFixed(2),readOnly:!0,className:"w-full rounded-md border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-700 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:text-gray-200"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:735,columnNumber:29},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:731,columnNumber:27},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:710,columnNumber:25},this)]},s,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:700,columnNumber:23},this))},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:698,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:694,columnNumber:17},this),r===4&&e.jsxDEV("div",{children:[e.jsxDEV("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Upload Supporting Documents"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:752,columnNumber:19},this),e.jsxDEV("div",{className:`border-2 border-dashed rounded-lg p-6 text-center transition-colors ${d?"border-blue-500 bg-blue-50 dark:bg-blue-900/10":"border-gray-300 dark:border-gray-600"}`,role:"button",tabIndex:0,onDragOver:s=>{s.preventDefault(),f(!0)},onDragLeave:s=>{s.preventDefault(),f(!1)},onDrop:t,onClick:()=>D.current?.click(),onKeyDown:s=>{(s.key==="Enter"||s.key===" ")&&(s.preventDefault(),D.current?.click())},children:[e.jsxDEV(G,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:780,columnNumber:21},this),e.jsxDEV("p",{className:"text-sm text-gray-700 dark:text-gray-300 mb-2",children:"Drag and drop files here, or click to select files"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:781,columnNumber:21},this),e.jsxDEV("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-4",children:"Supported formats: PDF, DOCX, JPG, PNG (max 10MB)"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:784,columnNumber:21},this),e.jsxDEV("button",{type:"button",onClick:()=>D.current?.click(),className:"px-4 py-2 text-sm font-medium text-blue-700 dark:text-blue-300 bg-blue-100 dark:bg-blue-900/20 rounded-md hover:bg-blue-200 dark:hover:bg-blue-900/30 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Select Files"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:787,columnNumber:21},this),e.jsxDEV("input",{ref:D,type:"file",multiple:!0,accept:".pdf,.doc,.docx,.jpg,.jpeg,.png",className:"hidden",onChange:s=>{P(s.target.files),s.target.value&&(s.target.value="")}},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:794,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:755,columnNumber:19},this),l.documents.length>0&&e.jsxDEV("div",{className:"mt-4",children:[e.jsxDEV("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Uploaded Files"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:811,columnNumber:23},this),e.jsxDEV("ul",{className:"space-y-2",children:l.documents.map((s,n)=>e.jsxDEV("li",{className:"flex items-center justify-between rounded-md border border-gray-200 dark:border-gray-700 px-3 py-2 text-sm text-gray-900 dark:text-gray-100",children:[e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"font-medium",children:s.name},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:821,columnNumber:31},this),e.jsxDEV("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[(s.size/(1024*1024)).toFixed(2)," MB"]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:822,columnNumber:31},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:820,columnNumber:29},this),e.jsxDEV("button",{type:"button",onClick:()=>p(n),className:"text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300 text-xs font-medium",children:"Remove"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:826,columnNumber:29},this)]},`${s.name}-${n}`,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:816,columnNumber:27},this))},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:814,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:810,columnNumber:21},this),e.jsxDEV("div",{className:"mt-4",children:[e.jsxDEV("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Required Documents"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:840,columnNumber:21},this),e.jsxDEV("ul",{className:"text-sm text-gray-600 dark:text-gray-400 space-y-1 list-disc list-inside",children:[e.jsxDEV("li",{children:"Treatment plan"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:844,columnNumber:23},this),e.jsxDEV("li",{children:"Diagnostic evaluation"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:845,columnNumber:23},this),e.jsxDEV("li",{children:"Progress report (if renewal)"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:846,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:843,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:839,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:751,columnNumber:17},this),r===5&&e.jsxDEV("div",{children:[e.jsxDEV("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Review & Submit"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:854,columnNumber:19},this),e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("div",{className:"p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[e.jsxDEV("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Insurance & Plan"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:860,columnNumber:23},this),e.jsxDEV("p",{className:"text-sm text-gray-900 dark:text-white",children:l.insurance||"Not selected"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:863,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:859,columnNumber:21},this),e.jsxDEV("div",{className:"p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[e.jsxDEV("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Requested Services"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:869,columnNumber:23},this),e.jsxDEV("div",{className:"space-y-1",children:l.services.map(s=>e.jsxDEV("div",{className:"flex justify-between text-sm",children:[e.jsxDEV("span",{className:"text-gray-900 dark:text-white",children:s},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:875,columnNumber:29},this),e.jsxDEV("span",{className:"text-gray-600 dark:text-gray-400",children:[l.units[s]||0," units (",((l.units[s]||0)/4).toFixed(2)," hours)"]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:876,columnNumber:29},this)]},s,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:874,columnNumber:27},this))},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:872,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:868,columnNumber:21},this),e.jsxDEV("div",{className:"p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[e.jsxDEV("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Supporting Documents"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:885,columnNumber:23},this),e.jsxDEV("p",{className:"text-sm text-gray-900 dark:text-white",children:[l.documents.length," documents uploaded"]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:888,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:884,columnNumber:21},this),e.jsxDEV("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:e.jsxDEV("div",{className:"flex items-start",children:[e.jsxDEV(F,{className:"w-5 h-5 text-blue-500 mt-0.5 mr-2"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:895,columnNumber:25},this),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-sm font-medium text-blue-800 dark:text-blue-200",children:"Submission Notice"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:897,columnNumber:27},this),e.jsxDEV("p",{className:"text-xs text-blue-700 dark:text-blue-300 mt-1",children:"By submitting this request, you certify that all information is accurate and complete. The authorization will be submitted to the payer for review."},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:900,columnNumber:27},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:896,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:894,columnNumber:23},this)},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:893,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:858,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:853,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:566,columnNumber:13},this),e.jsxDEV("div",{className:"flex justify-between",children:[e.jsxDEV("button",{type:"button",onClick:()=>{r===1?u(!1):S()},className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-dark border border-gray-300 dark:border-gray-600 rounded-md shadow-sm hover:bg-gray-50 dark:hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:r===1?"Cancel":"Back"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:914,columnNumber:15},this),e.jsxDEV("button",{type:"button",onClick:r===5?M:_,disabled:k,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 flex items-center disabled:opacity-50",children:r===5?e.jsxDEV(e.Fragment,{children:k?"Submitting…":"Submit Request"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:935,columnNumber:19},this):e.jsxDEV(e.Fragment,{children:["Next ",e.jsxDEV(xe,{className:"ml-1 w-4 h-4"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:937,columnNumber:26},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:937,columnNumber:19},this)},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:928,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:913,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:520,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:519,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/PreAuthTab.tsx",lineNumber:315,columnNumber:5},this)}function Le({client:i}){const[m,o]=b.useState(!1),[c,x]=b.useState(null),[u,r]=b.useState([{id:"1",payer_name:"CalOptima Health",effective_date:"2025-01-01",termination_date:"2025-12-31",covered_cpt_codes:[{code:"97151",description:"Behavior identification assessment",rate:120},{code:"97153",description:"Adaptive behavior treatment by protocol",rate:60,modifiers:["HO"]},{code:"97155",description:"Adaptive behavior treatment with protocol modification",rate:75}],reimbursement_method:"ACH",file_url:"#",confidence_score:.92,versions:[{id:"1-1",uploaded_at:"2024-12-15T10:30:00Z",uploaded_by:"Jane Smith"}]},{id:"2",payer_name:"Anthem Blue Cross",effective_date:"2025-01-01",termination_date:"2025-12-31",covered_cpt_codes:[{code:"97151",description:"Behavior identification assessment",rate:130},{code:"97153",description:"Adaptive behavior treatment by protocol",rate:65}],reimbursement_method:"Check",file_url:"#",confidence_score:.88,versions:[{id:"2-1",uploaded_at:"2024-12-10T14:45:00Z",uploaded_by:"John Doe"}]}]),h=a=>{x(c===a?null:a)},l=a=>{alert(`Generating summary for contract ${a}`)};return e.jsxDEV("div",{className:"space-y-8",children:[e.jsxDEV("div",{className:"bg-white dark:bg-dark-lighter rounded-lg border dark:border-gray-700 p-6",children:[e.jsxDEV("div",{className:"flex justify-between items-center mb-6",children:[e.jsxDEV("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Service Contracts"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ServiceContractsTab.tsx",lineNumber:88,columnNumber:11},this),e.jsxDEV("button",{onClick:()=>o(!0),className:"px-3 py-1.5 text-sm font-medium text-white bg-blue-600 rounded-md shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 flex items-center",children:[e.jsxDEV(R,{className:"w-4 h-4 mr-1"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ServiceContractsTab.tsx",lineNumber:95,columnNumber:13},this),"Upload Contract"]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ServiceContractsTab.tsx",lineNumber:91,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ServiceContractsTab.tsx",lineNumber:87,columnNumber:9},this),u.length===0?e.jsxDEV("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"No contracts found"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ServiceContractsTab.tsx",lineNumber:101,columnNumber:11},this):e.jsxDEV("div",{className:"space-y-4",children:u.map(a=>e.jsxDEV("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg overflow-hidden",children:[e.jsxDEV("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 flex justify-between items-center cursor-pointer",role:"button",tabIndex:0,onClick:()=>h(a.id),onKeyDown:d=>{(d.key==="Enter"||d.key===" ")&&h(a.id)},children:[e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV(re,{className:"h-5 w-5 text-blue-600 dark:text-blue-400 mr-3"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ServiceContractsTab.tsx",lineNumber:119,columnNumber:21},this),e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:a.payer_name},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ServiceContractsTab.tsx",lineNumber:121,columnNumber:23},this),e.jsxDEV("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Valid: ",new Date(a.effective_date).toLocaleDateString()," - ",new Date(a.termination_date).toLocaleDateString()]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ServiceContractsTab.tsx",lineNumber:124,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ServiceContractsTab.tsx",lineNumber:120,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ServiceContractsTab.tsx",lineNumber:118,columnNumber:19},this),e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV("button",{onClick:d=>{d.stopPropagation(),l(a.id)},className:"mr-4 text-sm text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300",children:"Generate Summary"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ServiceContractsTab.tsx",lineNumber:130,columnNumber:21},this),c===a.id?e.jsxDEV(he,{className:"h-5 w-5 text-gray-400"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ServiceContractsTab.tsx",lineNumber:140,columnNumber:23},this):e.jsxDEV(ge,{className:"h-5 w-5 text-gray-400"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ServiceContractsTab.tsx",lineNumber:142,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ServiceContractsTab.tsx",lineNumber:129,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ServiceContractsTab.tsx",lineNumber:111,columnNumber:17},this),c===a.id&&e.jsxDEV("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700",children:[e.jsxDEV("div",{className:"mb-4",children:[e.jsxDEV("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Covered CPT Codes & Rates"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ServiceContractsTab.tsx",lineNumber:150,columnNumber:23},this),e.jsxDEV("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[e.jsxDEV("thead",{className:"bg-gray-50 dark:bg-gray-800",children:e.jsxDEV("tr",{children:[e.jsxDEV("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-400",children:"Code"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ServiceContractsTab.tsx",lineNumber:156,columnNumber:29},this),e.jsxDEV("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-400",children:"Description"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ServiceContractsTab.tsx",lineNumber:159,columnNumber:29},this),e.jsxDEV("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-400",children:"Rate"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ServiceContractsTab.tsx",lineNumber:162,columnNumber:29},this),e.jsxDEV("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-400",children:"Modifiers"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ServiceContractsTab.tsx",lineNumber:165,columnNumber:29},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ServiceContractsTab.tsx",lineNumber:155,columnNumber:27},this)},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ServiceContractsTab.tsx",lineNumber:154,columnNumber:25},this),e.jsxDEV("tbody",{className:"bg-white dark:bg-dark-lighter divide-y divide-gray-200 dark:divide-gray-700",children:a.covered_cpt_codes.map(d=>e.jsxDEV("tr",{children:[e.jsxDEV("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:d.code},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ServiceContractsTab.tsx",lineNumber:173,columnNumber:31},this),e.jsxDEV("td",{className:"px-4 py-2 text-sm text-gray-900 dark:text-white",children:d.description},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ServiceContractsTab.tsx",lineNumber:176,columnNumber:31},this),e.jsxDEV("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:["$",d.rate.toFixed(2)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ServiceContractsTab.tsx",lineNumber:179,columnNumber:31},this),e.jsxDEV("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-900 dark:text-white",children:d.modifiers?.join(", ")||"None"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ServiceContractsTab.tsx",lineNumber:182,columnNumber:31},this)]},d.code,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ServiceContractsTab.tsx",lineNumber:172,columnNumber:29},this))},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ServiceContractsTab.tsx",lineNumber:170,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ServiceContractsTab.tsx",lineNumber:153,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ServiceContractsTab.tsx",lineNumber:149,columnNumber:21},this),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Contract Details"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ServiceContractsTab.tsx",lineNumber:193,columnNumber:25},this),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV("div",{className:"flex justify-between text-sm",children:[e.jsxDEV("span",{className:"text-gray-500 dark:text-gray-400",children:"Reimbursement Method:"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ServiceContractsTab.tsx",lineNumber:198,columnNumber:29},this),e.jsxDEV("span",{className:"text-gray-900 dark:text-white",children:a.reimbursement_method},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ServiceContractsTab.tsx",lineNumber:199,columnNumber:29},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ServiceContractsTab.tsx",lineNumber:197,columnNumber:27},this),e.jsxDEV("div",{className:"flex justify-between text-sm",children:[e.jsxDEV("span",{className:"text-gray-500 dark:text-gray-400",children:"Confidence Score:"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ServiceContractsTab.tsx",lineNumber:202,columnNumber:29},this),e.jsxDEV("span",{className:"text-gray-900 dark:text-white",children:[(a.confidence_score*100).toFixed(0),"%"]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ServiceContractsTab.tsx",lineNumber:203,columnNumber:29},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ServiceContractsTab.tsx",lineNumber:201,columnNumber:27},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ServiceContractsTab.tsx",lineNumber:196,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ServiceContractsTab.tsx",lineNumber:192,columnNumber:23},this),e.jsxDEV("div",{children:[e.jsxDEV("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Version History"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ServiceContractsTab.tsx",lineNumber:209,columnNumber:25},this),e.jsxDEV("div",{className:"space-y-2",children:a.versions.map(d=>e.jsxDEV("div",{className:"flex justify-between text-sm",children:[e.jsxDEV("span",{className:"text-gray-500 dark:text-gray-400",children:new Date(d.uploaded_at).toLocaleDateString()},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ServiceContractsTab.tsx",lineNumber:215,columnNumber:31},this),e.jsxDEV("span",{className:"text-gray-900 dark:text-white",children:d.uploaded_by},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ServiceContractsTab.tsx",lineNumber:218,columnNumber:31},this)]},d.id,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ServiceContractsTab.tsx",lineNumber:214,columnNumber:29},this))},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ServiceContractsTab.tsx",lineNumber:212,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ServiceContractsTab.tsx",lineNumber:208,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ServiceContractsTab.tsx",lineNumber:191,columnNumber:21},this),e.jsxDEV("div",{className:"mt-4 flex justify-end",children:e.jsxDEV("button",{className:"px-3 py-1.5 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-dark border border-gray-300 dark:border-gray-600 rounded-md shadow-sm hover:bg-gray-50 dark:hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 flex items-center",children:[e.jsxDEV(le,{className:"w-4 h-4 mr-1"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ServiceContractsTab.tsx",lineNumber:229,columnNumber:25},this),"Download Original"]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ServiceContractsTab.tsx",lineNumber:226,columnNumber:23},this)},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ServiceContractsTab.tsx",lineNumber:225,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ServiceContractsTab.tsx",lineNumber:148,columnNumber:19},this)]},a.id,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ServiceContractsTab.tsx",lineNumber:107,columnNumber:15},this))},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ServiceContractsTab.tsx",lineNumber:105,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ServiceContractsTab.tsx",lineNumber:86,columnNumber:7},this),e.jsxDEV("div",{className:"bg-white dark:bg-dark-lighter rounded-lg border dark:border-gray-700 p-6",children:[e.jsxDEV("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Billing Codes & Units Helper"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ServiceContractsTab.tsx",lineNumber:243,columnNumber:9},this),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{htmlFor:"helper-cpt-code",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"CPT Code"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ServiceContractsTab.tsx",lineNumber:249,columnNumber:13},this),e.jsxDEV("select",{id:"helper-cpt-code",className:"w-full rounded-md border-gray-300 dark:border-gray-600 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-dark dark:text-gray-200",defaultValue:"",children:[e.jsxDEV("option",{value:"",children:"Select CPT code"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ServiceContractsTab.tsx",lineNumber:257,columnNumber:15},this),e.jsxDEV("option",{value:"97151",children:"97151 - Behavior identification assessment"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ServiceContractsTab.tsx",lineNumber:258,columnNumber:15},this),e.jsxDEV("option",{value:"97152",children:"97152 - Behavior identification supporting assessment"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ServiceContractsTab.tsx",lineNumber:259,columnNumber:15},this),e.jsxDEV("option",{value:"97153",children:"97153 - Adaptive behavior treatment by protocol"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ServiceContractsTab.tsx",lineNumber:260,columnNumber:15},this),e.jsxDEV("option",{value:"97154",children:"97154 - Group adaptive behavior treatment by protocol"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ServiceContractsTab.tsx",lineNumber:261,columnNumber:15},this),e.jsxDEV("option",{value:"97155",children:"97155 - Adaptive behavior treatment with protocol modification"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ServiceContractsTab.tsx",lineNumber:262,columnNumber:15},this),e.jsxDEV("option",{value:"97156",children:"97156 - Family adaptive behavior treatment guidance"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ServiceContractsTab.tsx",lineNumber:263,columnNumber:15},this),e.jsxDEV("option",{value:"97157",children:"97157 - Multiple-family group adaptive behavior treatment guidance"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ServiceContractsTab.tsx",lineNumber:264,columnNumber:15},this),e.jsxDEV("option",{value:"97158",children:"97158 - Group adaptive behavior treatment with protocol modification"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ServiceContractsTab.tsx",lineNumber:265,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ServiceContractsTab.tsx",lineNumber:252,columnNumber:13},this),e.jsxDEV("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"All codes are based on 2024 ABA CPT codes"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ServiceContractsTab.tsx",lineNumber:267,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ServiceContractsTab.tsx",lineNumber:248,columnNumber:11},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{htmlFor:"helper-units",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Units"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ServiceContractsTab.tsx",lineNumber:273,columnNumber:13},this),e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV("input",{id:"helper-units",type:"number",min:"1",defaultValue:"4",className:"w-full rounded-md border-gray-300 dark:border-gray-600 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-dark dark:text-gray-200"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ServiceContractsTab.tsx",lineNumber:277,columnNumber:15},this),e.jsxDEV("span",{className:"ml-2 text-sm text-gray-500 dark:text-gray-400",children:"= 1 hour"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ServiceContractsTab.tsx",lineNumber:284,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ServiceContractsTab.tsx",lineNumber:276,columnNumber:13},this),e.jsxDEV("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"1 unit = 15 minutes"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ServiceContractsTab.tsx",lineNumber:288,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ServiceContractsTab.tsx",lineNumber:272,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ServiceContractsTab.tsx",lineNumber:247,columnNumber:9},this),e.jsxDEV("div",{className:"mt-6 p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[e.jsxDEV("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Typical Modifiers"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ServiceContractsTab.tsx",lineNumber:295,columnNumber:11},this),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxDEV("div",{className:"text-sm",children:[e.jsxDEV("span",{className:"font-medium text-gray-900 dark:text-white",children:"HO"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ServiceContractsTab.tsx",lineNumber:300,columnNumber:15},this),e.jsxDEV("span",{className:"ml-2 text-gray-600 dark:text-gray-400",children:"Master's level provider"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ServiceContractsTab.tsx",lineNumber:301,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ServiceContractsTab.tsx",lineNumber:299,columnNumber:13},this),e.jsxDEV("div",{className:"text-sm",children:[e.jsxDEV("span",{className:"font-medium text-gray-900 dark:text-white",children:"HN"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ServiceContractsTab.tsx",lineNumber:304,columnNumber:15},this),e.jsxDEV("span",{className:"ml-2 text-gray-600 dark:text-gray-400",children:"Bachelor's level provider"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ServiceContractsTab.tsx",lineNumber:305,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ServiceContractsTab.tsx",lineNumber:303,columnNumber:13},this),e.jsxDEV("div",{className:"text-sm",children:[e.jsxDEV("span",{className:"font-medium text-gray-900 dark:text-white",children:"GT"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ServiceContractsTab.tsx",lineNumber:308,columnNumber:15},this),e.jsxDEV("span",{className:"ml-2 text-gray-600 dark:text-gray-400",children:"Via telehealth"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ServiceContractsTab.tsx",lineNumber:309,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ServiceContractsTab.tsx",lineNumber:307,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ServiceContractsTab.tsx",lineNumber:298,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ServiceContractsTab.tsx",lineNumber:294,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ServiceContractsTab.tsx",lineNumber:242,columnNumber:7},this),m&&e.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxDEV("div",{className:"bg-white dark:bg-dark-lighter rounded-lg shadow-xl w-full max-w-lg p-6",children:[e.jsxDEV("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"Upload Contract"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ServiceContractsTab.tsx",lineNumber:319,columnNumber:13},this),e.jsxDEV("div",{className:"border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg p-6 text-center",children:[e.jsxDEV(G,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ServiceContractsTab.tsx",lineNumber:324,columnNumber:15},this),e.jsxDEV("p",{className:"text-sm text-gray-700 dark:text-gray-300 mb-2",children:"Drag and drop contract file here, or click to select"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ServiceContractsTab.tsx",lineNumber:325,columnNumber:15},this),e.jsxDEV("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-4",children:"Supported formats: PDF, DOCX, JPG, PNG (max 10MB)"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ServiceContractsTab.tsx",lineNumber:328,columnNumber:15},this),e.jsxDEV("button",{type:"button",className:"px-4 py-2 text-sm font-medium text-blue-700 dark:text-blue-300 bg-blue-100 dark:bg-blue-900/20 rounded-md hover:bg-blue-200 dark:hover:bg-blue-900/30 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Select File"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ServiceContractsTab.tsx",lineNumber:331,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ServiceContractsTab.tsx",lineNumber:323,columnNumber:13},this),e.jsxDEV("div",{className:"mt-6 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:e.jsxDEV("div",{className:"flex items-start",children:[e.jsxDEV(G,{className:"w-5 h-5 text-blue-500 mt-0.5 mr-2"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ServiceContractsTab.tsx",lineNumber:341,columnNumber:17},this),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-sm font-medium text-blue-800 dark:text-blue-200",children:"Automatic Contract Parsing"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ServiceContractsTab.tsx",lineNumber:343,columnNumber:19},this),e.jsxDEV("p",{className:"text-xs text-blue-700 dark:text-blue-300 mt-1",children:"Our system will automatically extract key information from your contract, including covered CPT codes, rates, and effective dates. You'll have a chance to review and edit the extracted information before saving."},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ServiceContractsTab.tsx",lineNumber:346,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ServiceContractsTab.tsx",lineNumber:342,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ServiceContractsTab.tsx",lineNumber:340,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ServiceContractsTab.tsx",lineNumber:339,columnNumber:13},this),e.jsxDEV("div",{className:"flex justify-end space-x-3 mt-6",children:[e.jsxDEV("button",{type:"button",onClick:()=>o(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-dark border border-gray-300 dark:border-gray-600 rounded-md shadow-sm hover:bg-gray-50 dark:hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancel"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ServiceContractsTab.tsx",lineNumber:354,columnNumber:15},this),e.jsxDEV("button",{type:"button",className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Upload & Process"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ServiceContractsTab.tsx",lineNumber:361,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ServiceContractsTab.tsx",lineNumber:353,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ServiceContractsTab.tsx",lineNumber:318,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ServiceContractsTab.tsx",lineNumber:317,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/ClientDetails/ServiceContractsTab.tsx",lineNumber:84,columnNumber:5},this)}function ls(){const{clientId:i}=je(),m=Ue(),[o,c]=b.useState("profile"),{profile:x}=Q(),u=J(),{data:r,isLoading:h,error:l}=O({queryKey:["client",i,u??"MISSING_ORG"],queryFn:async()=>{if(!i)throw new Error("Client ID is required");if(!u)throw new Error("Organization context is required to view client details");return De(i,u)},enabled:!!(i&&u)}),a=[{id:"profile",name:"Profile / Notes & Issues",icon:K},{id:"session-notes",name:"Session Notes / Physical Auth",icon:G},{id:"pre-auth",name:"Pre-Authorizations",icon:ne},{id:"contracts",name:"Service Contracts",icon:re}];if(!u)return e.jsxDEV("div",{className:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-900/40 rounded-lg shadow p-8 text-amber-800 dark:text-amber-100",children:[e.jsxDEV("h2",{className:"text-xl font-semibold mb-2",children:"Organization context required"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/ClientDetails.tsx",lineNumber:43,columnNumber:9},this),e.jsxDEV("p",{className:"text-sm opacity-80",children:"We couldn't determine your active organization. Impersonate a tenant or have an administrator assign you before viewing client details."},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/ClientDetails.tsx",lineNumber:44,columnNumber:9},this),e.jsxDEV("button",{onClick:()=>m("/clients"),className:"mt-4 px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Return to Clients"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/ClientDetails.tsx",lineNumber:47,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/ClientDetails.tsx",lineNumber:42,columnNumber:7},this);if(h)return e.jsxDEV("div",{className:"flex items-center justify-center h-64",children:e.jsxDEV("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/ClientDetails.tsx",lineNumber:60,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/ClientDetails.tsx",lineNumber:59,columnNumber:7},this);if(l)return e.jsxDEV("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-900/40 rounded-lg shadow p-8 text-red-700 dark:text-red-200",children:[e.jsxDEV(F,{className:"h-12 w-12 text-red-500 mx-auto mb-4"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/ClientDetails.tsx",lineNumber:68,columnNumber:9},this),e.jsxDEV("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Client failed to load"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/ClientDetails.tsx",lineNumber:69,columnNumber:9},this),e.jsxDEV("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:l instanceof Error?l.message:String(l)},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/ClientDetails.tsx",lineNumber:70,columnNumber:9},this),e.jsxDEV("button",{onClick:()=>m("/clients"),className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Return to Clients"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/ClientDetails.tsx",lineNumber:73,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/ClientDetails.tsx",lineNumber:67,columnNumber:7},this);if(!r)return e.jsxDEV("div",{className:"bg-white dark:bg-dark-lighter rounded-lg shadow p-8 text-center",children:[e.jsxDEV(F,{className:"h-12 w-12 text-red-500 mx-auto mb-4"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/ClientDetails.tsx",lineNumber:86,columnNumber:9},this),e.jsxDEV("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Client Not Found"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/ClientDetails.tsx",lineNumber:87,columnNumber:9},this),e.jsxDEV("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"The client you're looking for doesn't exist or you don't have permission to view it."},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/ClientDetails.tsx",lineNumber:88,columnNumber:9},this),e.jsxDEV("button",{onClick:()=>m("/clients"),className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Return to Clients"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/ClientDetails.tsx",lineNumber:91,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/ClientDetails.tsx",lineNumber:85,columnNumber:7},this);const d=x?.role==="therapist",f=x?.role==="client",k=f&&r.id===x?.id,U=d?r.therapist_id===x?.id:!1;return d&&!U?e.jsxDEV("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-900/40 rounded-lg shadow p-8 text-red-700 dark:text-red-200",children:[e.jsxDEV(F,{className:"h-12 w-12 text-red-500 mx-auto mb-4"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/ClientDetails.tsx",lineNumber:111,columnNumber:9},this),e.jsxDEV("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"You are not assigned to this client"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/ClientDetails.tsx",lineNumber:112,columnNumber:9},this),e.jsxDEV("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Please return to your client list. If you believe this is an error, contact an administrator."},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/ClientDetails.tsx",lineNumber:115,columnNumber:9},this),e.jsxDEV("button",{onClick:()=>m("/clients"),className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Back to Clients"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/ClientDetails.tsx",lineNumber:118,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/ClientDetails.tsx",lineNumber:110,columnNumber:7},this):f&&!k?e.jsxDEV("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-900/40 rounded-lg shadow p-8 text-red-700 dark:text-red-200",children:[e.jsxDEV(F,{className:"h-12 w-12 text-red-500 mx-auto mb-4"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/ClientDetails.tsx",lineNumber:131,columnNumber:9},this),e.jsxDEV("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"You can only view your own record"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/ClientDetails.tsx",lineNumber:132,columnNumber:9},this),e.jsxDEV("button",{onClick:()=>m("/family"),className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Go to Family Dashboard"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/ClientDetails.tsx",lineNumber:135,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/ClientDetails.tsx",lineNumber:130,columnNumber:7},this):e.jsxDEV("div",{className:"h-full",children:[e.jsxDEV("div",{className:"flex items-center mb-6",children:[e.jsxDEV("button",{onClick:()=>m("/clients"),className:"mr-4 p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800",children:e.jsxDEV(fe,{className:"h-5 w-5 text-gray-500 dark:text-gray-400"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/ClientDetails.tsx",lineNumber:152,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/ClientDetails.tsx",lineNumber:148,columnNumber:9},this),e.jsxDEV("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["Client Records: ",r.full_name]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/ClientDetails.tsx",lineNumber:154,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/ClientDetails.tsx",lineNumber:147,columnNumber:7},this),e.jsxDEV("div",{className:"bg-white dark:bg-dark-lighter rounded-lg shadow mb-6",children:[e.jsxDEV("div",{className:"flex items-center px-4 border-b dark:border-gray-700 overflow-x-auto",children:a.map(D=>{const T=D.icon;return e.jsxDEV("button",{onClick:()=>c(D.id),className:`
                  group inline-flex items-center px-6 py-4 border-b-2 font-medium text-sm
                  ${o===D.id?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"}
                `,children:[e.jsxDEV(T,{className:`
                  -ml-1 mr-2 h-5 w-5
                  ${o===D.id?"text-blue-500 dark:text-blue-400":"text-gray-400 group-hover:text-gray-500 dark:text-gray-500 dark:group-hover:text-gray-400"}
                `},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/ClientDetails.tsx",lineNumber:176,columnNumber:17},this),D.name]},D.id,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/ClientDetails.tsx",lineNumber:164,columnNumber:15},this)})},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/ClientDetails.tsx",lineNumber:160,columnNumber:9},this),e.jsxDEV("div",{className:"p-6",children:[o==="profile"&&e.jsxDEV(Te,{client:r,viewerRole:x?.role},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/ClientDetails.tsx",lineNumber:191,columnNumber:39},this),o==="session-notes"&&e.jsxDEV(Fe,{client:r},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/ClientDetails.tsx",lineNumber:192,columnNumber:45},this),o==="pre-auth"&&e.jsxDEV(Oe,{client:r},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/ClientDetails.tsx",lineNumber:193,columnNumber:40},this),o==="contracts"&&e.jsxDEV(Le,{client:r},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/ClientDetails.tsx",lineNumber:194,columnNumber:41},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/ClientDetails.tsx",lineNumber:190,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/ClientDetails.tsx",lineNumber:159,columnNumber:7},this),e.jsxDEV("div",{className:"bg-white dark:bg-dark-lighter rounded-lg shadow p-4",children:[e.jsxDEV("h2",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Client Summary"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/ClientDetails.tsx",lineNumber:200,columnNumber:9},this),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV(B,{className:"h-8 w-8 text-blue-500 mr-3"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/ClientDetails.tsx",lineNumber:203,columnNumber:13},this),e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Next Session"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/ClientDetails.tsx",lineNumber:205,columnNumber:15},this),e.jsxDEV("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Tomorrow at 3:00 PM"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/ClientDetails.tsx",lineNumber:208,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/ClientDetails.tsx",lineNumber:204,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/ClientDetails.tsx",lineNumber:202,columnNumber:11},this),e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV(H,{className:"h-8 w-8 text-green-500 mr-3"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/ClientDetails.tsx",lineNumber:216,columnNumber:13},this),e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Authorized Hours"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/ClientDetails.tsx",lineNumber:218,columnNumber:15},this),e.jsxDEV("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[r.authorized_hours_per_month||0," hours/month"]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/ClientDetails.tsx",lineNumber:221,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/ClientDetails.tsx",lineNumber:217,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/ClientDetails.tsx",lineNumber:215,columnNumber:11},this),e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV(F,{className:"h-8 w-8 text-amber-500 mr-3"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/ClientDetails.tsx",lineNumber:228,columnNumber:13},this),e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Open Issues"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/ClientDetails.tsx",lineNumber:230,columnNumber:15},this),e.jsxDEV("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"2 issues need attention"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/ClientDetails.tsx",lineNumber:233,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/ClientDetails.tsx",lineNumber:229,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/ClientDetails.tsx",lineNumber:227,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/ClientDetails.tsx",lineNumber:201,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/ClientDetails.tsx",lineNumber:199,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/ClientDetails.tsx",lineNumber:146,columnNumber:5},this)}export{ls as default};
