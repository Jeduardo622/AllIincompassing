import{r as i,n as fe,u as Ne,_ as v,j as e,a1 as ge,a2 as xe,a3 as be,Z as Ce,a4 as K,a5 as T,w as G,a6 as H,U as ve,c as he,a7 as De,a8 as ke,x as ye,a9 as Ae,d as Ee,aa as Ie,ab as Ue,ac as je,ad as Ve}from"./vendor-CkTWaQD2.js";import{b as we,L as _e}from"./router-BMrycgU4.js";import{u as Se,s as u,a as h,f as D,t as F,l as W}from"./reports-B0fjwS8-.js";import{f as Me}from"./fetchers-BMhPL40Q.js";import{C as Fe,p as Oe,u as Le}from"./clientPayload-B4PX1WHY.js";import{C as ze}from"./CSVImport-BAFU6vgX.js";import{c as qe}from"./mutations-C9TJgpVo.js";import{u as Qe}from"./organization-IJZMqQph.js";import{f as Re,p as $e}from"./dates-C30WUoI7.js";import"./maps-DwSjqVUD.js";import"./supabase-BgfCgt6W.js";import"./select-CDRQddG6.js";import"./types-BkL5HcP5.js";import"./servicePreferences-Du7bLh4_.js";import"./validation-aamM88qh.js";const is=()=>{const[O,k]=i.useState(!1),[Z,L]=i.useState(!1),[a,y]=i.useState(),[p,J]=i.useState(""),[A,X]=i.useState("all"),[E,Y]=i.useState("all"),[f,ee]=i.useState("all"),[I,se]=i.useState("full_name"),[U,z]=i.useState("asc"),[j,te]=i.useState("active"),N=fe(),{isSuperAdmin:V}=Se(),ne=we(),o=Qe(),q=V(),m=o??null,c=q&&!m,{data:d=[],isLoading:Q,error:g}=Ne({queryKey:["clients",c?"ALL":m??"MISSING_ORG"],queryFn:async()=>{if(!c&&!m)throw new Error("Organization context is required to load clients");return Me({organizationId:c?void 0:m,allowAll:c})},enabled:c||!!m}),w=s=>(s.one_to_one_units||0)+(s.supervision_units||0)+(s.parent_consult_units||0)+(s.assessment_units||0),R=s=>s?F(s,"Client mutation failed").message:null,_=v({mutationFn:async s=>{if(!o)throw new Error("Organization context is required to create clients");const t=Oe(s,{enforceFullName:!0});return await qe(D,{...t,organization_id:o})},onSuccess:()=>{N.invalidateQueries({queryKey:["clients"]}),k(!1),y(void 0),h("Client saved successfully")},onError:s=>{u(s)}}),S=v({mutationFn:async s=>{if(!o)throw new Error("Organization context is required to update clients");if(!a?.id)throw new Error("Missing client identifier for update");return Le(D,a.id,s)},onSuccess:()=>{N.invalidateQueries({queryKey:["clients"]}),k(!1),y(void 0),h("Client saved successfully")},onError:s=>{u(s)}}),$=v({mutationFn:async({clientId:s,restore:t})=>{const{data:n,error:l}=await D.rpc("set_client_archive_state",{p_client_id:s,p_restore:t});if(l)throw l;return n},onSuccess:(s,t)=>{const n=!!t?.restore;N.invalidateQueries({queryKey:["clients"]}),h(n?"Client restored successfully":"Client archived successfully")},onError:s=>{u(s)}}),M=v({mutationFn:async s=>{const{error:t}=await D.from("clients").delete().eq("id",s);if(t)throw t},onSuccess:()=>{N.invalidateQueries({queryKey:["clients"]}),h("Client deleted successfully")},onError:(s,t)=>{W.error("Failed to delete client",{error:F(s,"Client deletion failed"),metadata:{targetClientId:t??null}}),u(s)}}),ie=async s=>{window.confirm(`Are you sure you want to archive ${s.full_name||"this client"}?`)&&await $.mutateAsync({clientId:s.id,restore:!1})},le=async s=>{window.confirm(`Restore ${s.full_name||"this client"}?`)&&await $.mutateAsync({clientId:s.id,restore:!0})},re=async s=>{if(!V()){u("Only super admins can delete clients permanently.");return}const n=`This action will permanently delete ${s.full_name||"this client"} and associated records. This cannot be undone. Continue?`;window.confirm(n)&&await M.mutateAsync(s.id)},ae=async s=>{try{a?await S.mutateAsync(s):await _.mutateAsync(s)}catch(t){W.error("Failed to submit client changes",{error:F(t,"Client mutation failed"),metadata:{hasExistingClient:!!a,targetClientId:a?.id??null}})}},oe=()=>{ne("/clients/new")},me=i.useMemo(()=>{const s=new Set;return d.forEach(t=>{if(t.email){const n=t.email.split("@")[1];n&&s.add(n)}}),Array.from(s).sort()},[d]),ce=i.useMemo(()=>{const s=new Set;return d.forEach(t=>{t.service_preference&&t.service_preference.forEach(n=>{s.add(n)})}),Array.from(s).sort()},[d]),x=s=>{I===s?z(U==="asc"?"desc":"asc"):(se(s),z("asc"))},b=s=>I!==s?null:U==="asc"?e.jsxDEV(je,{className:"w-4 h-4 inline-block ml-1"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Clients.tsx",lineNumber:287,columnNumber:7},void 0):e.jsxDEV(Ve,{className:"w-4 h-4 inline-block ml-1"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Clients.tsx",lineNumber:288,columnNumber:7},void 0),de=_.isPending||S.isPending,ue=R(a?S.error:_.error),P=d.filter(s=>{const t=(s?.full_name?.toLowerCase()||"").includes(p.toLowerCase())||(s?.email?.toLowerCase()||"").includes(p.toLowerCase())||(s?.client_id?.toLowerCase()||"").includes(p.toLowerCase()),n=A==="all"?!0:s.email&&s.email.endsWith("@"+A),l=E==="all"?!0:s.service_preference&&s.service_preference.includes(E);let r=!0;const C=w(s);f==="high"?r=C>20:f==="medium"?r=C>=10&&C<=20:f==="low"&&(r=C<10);const pe=j==="all"?!0:j==="archived"?!!s.deleted_at:!s.deleted_at;return t&&n&&l&&r&&pe}),B=[...P].sort((s,t)=>{const n=U==="asc"?1:-1;switch(I){case"full_name":return n*(s.full_name||"").localeCompare(t.full_name||"");case"contact":return n*(s.email||"").localeCompare(t.email||"");case"service_preference":{const l=s.service_preference?.join(", ")||"",r=t.service_preference?.join(", ")||"";return n*l.localeCompare(r)}case"units":{const l=w(s),r=w(t);return n*(l-r)}default:return 0}});return e.jsxDEV("div",{className:"h-full",children:[!q&&!o&&e.jsxDEV("div",{className:"mb-6 rounded-lg border border-amber-200 dark:border-amber-900/40 bg-amber-50 dark:bg-amber-900/20 px-4 py-3 text-amber-800 dark:text-amber-100",children:[e.jsxDEV("p",{className:"font-medium",children:"Select an organization to manage client records."},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Clients.tsx",lineNumber:363,columnNumber:11},void 0),e.jsxDEV("p",{className:"mt-1 text-sm opacity-80",children:"We couldn't determine your active organization. Impersonate a tenant or contact an administrator before editing client data."},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Clients.tsx",lineNumber:364,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Clients.tsx",lineNumber:362,columnNumber:9},void 0),g&&e.jsxDEV("div",{className:"mb-6 rounded-lg border border-red-200 dark:border-red-900/40 bg-red-50 dark:bg-red-900/20 px-4 py-3 text-red-700 dark:text-red-200",children:[e.jsxDEV("p",{className:"font-medium",children:"Client list failed to load."},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Clients.tsx",lineNumber:371,columnNumber:11},void 0),e.jsxDEV("p",{className:"mt-1 text-sm opacity-80",children:g instanceof Error?g.message:String(g)},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Clients.tsx",lineNumber:372,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Clients.tsx",lineNumber:370,columnNumber:9},void 0),e.jsxDEV("div",{className:"flex items-center justify-between mb-6",children:[e.jsxDEV("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Clients"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Clients.tsx",lineNumber:378,columnNumber:9},void 0),e.jsxDEV("div",{className:"flex space-x-3",children:[e.jsxDEV("button",{onClick:()=>L(!0),className:"px-4 py-2 text-sm font-medium text-white bg-purple-600 rounded-md shadow-sm hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500",children:[e.jsxDEV(ge,{className:"w-5 h-5 mr-2 inline-block"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Clients.tsx",lineNumber:384,columnNumber:13},void 0),"Import CSV"]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Clients.tsx",lineNumber:380,columnNumber:11},void 0),e.jsxDEV("button",{onClick:oe,className:"px-4 py-2 text-sm font-medium text-white bg-green-600 rounded-md shadow-sm hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:[e.jsxDEV(xe,{className:"w-5 h-5 mr-2 inline-block"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Clients.tsx",lineNumber:391,columnNumber:13},void 0),"Onboard Client"]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Clients.tsx",lineNumber:387,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Clients.tsx",lineNumber:379,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Clients.tsx",lineNumber:377,columnNumber:7},void 0),e.jsxDEV("div",{className:"bg-white dark:bg-dark-lighter rounded-lg shadow mb-6",children:[e.jsxDEV("div",{className:"p-4 border-b dark:border-gray-700",children:e.jsxDEV("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxDEV("div",{className:"relative flex-1",children:[e.jsxDEV(be,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Clients.tsx",lineNumber:401,columnNumber:15},void 0),e.jsxDEV("input",{type:"text",placeholder:"Search by name, email, or client ID...","aria-label":"Search clients",value:p,onChange:s=>J(s.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-dark dark:text-gray-200"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Clients.tsx",lineNumber:402,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Clients.tsx",lineNumber:400,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex flex-wrap gap-2",children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV(Ce,{className:"w-5 h-5 text-gray-400"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Clients.tsx",lineNumber:413,columnNumber:17},void 0),e.jsxDEV(K,{className:"w-5 h-5 text-gray-400"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Clients.tsx",lineNumber:414,columnNumber:17},void 0),e.jsxDEV("select",{value:A,onChange:s=>X(s.target.value),"aria-label":"Filter clients by email domain",className:"border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-dark dark:text-gray-200 py-2 px-3",children:[e.jsxDEV("option",{value:"all",children:"All Emails"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Clients.tsx",lineNumber:421,columnNumber:19},void 0),me.map(s=>e.jsxDEV("option",{value:s,children:["@",s]},s,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Clients.tsx",lineNumber:423,columnNumber:21},void 0))]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Clients.tsx",lineNumber:415,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Clients.tsx",lineNumber:412,columnNumber:15},void 0),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV(T,{className:"w-5 h-5 text-gray-400"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Clients.tsx",lineNumber:429,columnNumber:17},void 0),e.jsxDEV("select",{value:E,onChange:s=>Y(s.target.value),"aria-label":"Filter clients by service",className:"border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-dark dark:text-gray-200 py-2 px-3",children:[e.jsxDEV("option",{value:"all",children:"All Services"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Clients.tsx",lineNumber:436,columnNumber:19},void 0),ce.map(s=>e.jsxDEV("option",{value:s,children:s},s,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Clients.tsx",lineNumber:438,columnNumber:21},void 0))]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Clients.tsx",lineNumber:430,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Clients.tsx",lineNumber:428,columnNumber:15},void 0),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV(G,{className:"w-5 h-5 text-gray-400"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Clients.tsx",lineNumber:444,columnNumber:17},void 0),e.jsxDEV("select",{value:f,onChange:s=>ee(s.target.value),"aria-label":"Filter clients by units",className:"border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-dark dark:text-gray-200 py-2 px-3",children:[e.jsxDEV("option",{value:"all",children:"All Units"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Clients.tsx",lineNumber:451,columnNumber:19},void 0),e.jsxDEV("option",{value:"high",children:"High (>20)"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Clients.tsx",lineNumber:452,columnNumber:19},void 0),e.jsxDEV("option",{value:"medium",children:"Medium (10-20)"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Clients.tsx",lineNumber:453,columnNumber:19},void 0),e.jsxDEV("option",{value:"low",children:"Low (<10)"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Clients.tsx",lineNumber:454,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Clients.tsx",lineNumber:445,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Clients.tsx",lineNumber:443,columnNumber:15},void 0),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV(H,{className:"w-5 h-5 text-gray-400"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Clients.tsx",lineNumber:459,columnNumber:17},void 0),e.jsxDEV("select",{value:j,onChange:s=>te(s.target.value),"aria-label":"Filter clients by archive status",className:"border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-dark dark:text-gray-200 py-2 px-3",children:[e.jsxDEV("option",{value:"active",children:"Active"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Clients.tsx",lineNumber:466,columnNumber:19},void 0),e.jsxDEV("option",{value:"archived",children:"Archived"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Clients.tsx",lineNumber:467,columnNumber:19},void 0),e.jsxDEV("option",{value:"all",children:"All"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Clients.tsx",lineNumber:468,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Clients.tsx",lineNumber:460,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Clients.tsx",lineNumber:458,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Clients.tsx",lineNumber:411,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Clients.tsx",lineNumber:399,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Clients.tsx",lineNumber:398,columnNumber:9},void 0),e.jsxDEV("div",{className:"overflow-x-auto",children:e.jsxDEV("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700","aria-label":"Clients","aria-busy":Q,children:[e.jsxDEV("thead",{className:"bg-gray-50 dark:bg-gray-800",children:e.jsxDEV("tr",{className:"select-none",children:[e.jsxDEV("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700",onClick:()=>x("full_name"),children:["Client ",b("full_name")]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Clients.tsx",lineNumber:483,columnNumber:17},void 0),e.jsxDEV("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700",onClick:()=>x("contact"),children:["Contact ",b("contact")]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Clients.tsx",lineNumber:490,columnNumber:17},void 0),e.jsxDEV("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700",onClick:()=>x("service_preference"),children:["Services ",b("service_preference")]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Clients.tsx",lineNumber:497,columnNumber:17},void 0),e.jsxDEV("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700",onClick:()=>x("units"),children:["Units ",b("units")]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Clients.tsx",lineNumber:504,columnNumber:17},void 0),e.jsxDEV("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Actions"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Clients.tsx",lineNumber:511,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Clients.tsx",lineNumber:482,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Clients.tsx",lineNumber:481,columnNumber:13},void 0),e.jsxDEV("tbody",{className:"bg-white dark:bg-dark-lighter divide-y divide-gray-200 dark:divide-gray-700",children:Q?e.jsxDEV("tr",{children:e.jsxDEV("td",{colSpan:5,className:"px-6 py-4 text-center text-gray-500 dark:text-gray-400",role:"status","aria-live":"polite",children:"Loading clients..."},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Clients.tsx",lineNumber:522,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Clients.tsx",lineNumber:521,columnNumber:17},void 0):P.length===0?e.jsxDEV("tr",{children:e.jsxDEV("td",{colSpan:5,className:"px-6 py-4 text-center text-gray-500 dark:text-gray-400",role:"status","aria-live":"polite",children:"No clients found"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Clients.tsx",lineNumber:528,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Clients.tsx",lineNumber:527,columnNumber:17},void 0):B.length===0?e.jsxDEV("tr",{children:e.jsxDEV("td",{colSpan:5,className:"px-6 py-4 text-center text-gray-500 dark:text-gray-400",role:"status","aria-live":"polite",children:"No clients match your search criteria"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Clients.tsx",lineNumber:534,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Clients.tsx",lineNumber:533,columnNumber:17},void 0):B.map(s=>e.jsxDEV("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[e.jsxDEV("td",{className:"px-6 py-4",children:e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV(ve,{className:"w-8 h-8 text-gray-400 bg-gray-100 dark:bg-gray-600 rounded-full p-1"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Clients.tsx",lineNumber:543,columnNumber:25},void 0),e.jsxDEV("div",{className:"ml-4",children:[e.jsxDEV(_e,{to:`/clients/${s.id}`,className:"text-sm font-medium text-gray-900 dark:text-white hover:text-blue-600 dark:hover:text-blue-400",children:s.full_name},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Clients.tsx",lineNumber:545,columnNumber:27},void 0),s.deleted_at&&e.jsxDEV("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded-full text-xs font-semibold bg-amber-100 text-amber-800 dark:bg-amber-900 dark:text-amber-200",children:"Archived"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Clients.tsx",lineNumber:552,columnNumber:29},void 0),e.jsxDEV("div",{className:"text-xs text-gray-500 dark:text-gray-400 flex items-center",children:[e.jsxDEV(he,{className:"w-3 h-3 mr-1"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Clients.tsx",lineNumber:557,columnNumber:29},void 0),s.date_of_birth?Re($e(s.date_of_birth),"MMM d, yyyy"):"N/A"]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Clients.tsx",lineNumber:556,columnNumber:27},void 0),e.jsxDEV("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["ID: ",s.client_id]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Clients.tsx",lineNumber:560,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Clients.tsx",lineNumber:544,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Clients.tsx",lineNumber:542,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Clients.tsx",lineNumber:541,columnNumber:21},void 0),e.jsxDEV("td",{className:"px-6 py-4",children:e.jsxDEV("div",{className:"space-y-1",children:[e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV(K,{className:"w-4 h-4 text-gray-400 mr-2"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Clients.tsx",lineNumber:569,columnNumber:27},void 0),e.jsxDEV("span",{className:"text-sm text-gray-900 dark:text-gray-200",children:s.email},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Clients.tsx",lineNumber:570,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Clients.tsx",lineNumber:568,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV(De,{className:"w-4 h-4 text-gray-400 mr-2"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Clients.tsx",lineNumber:573,columnNumber:27},void 0),e.jsxDEV("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:s.gender},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Clients.tsx",lineNumber:574,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Clients.tsx",lineNumber:572,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Clients.tsx",lineNumber:567,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Clients.tsx",lineNumber:566,columnNumber:21},void 0),e.jsxDEV("td",{className:"px-6 py-4",children:e.jsxDEV("div",{className:"flex flex-wrap gap-2",children:s.service_preference?.map((t,n)=>e.jsxDEV("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200",children:[e.jsxDEV(T,{className:"w-3 h-3 mr-1"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Clients.tsx",lineNumber:585,columnNumber:29},void 0),t]},n,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Clients.tsx",lineNumber:581,columnNumber:27},void 0))},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Clients.tsx",lineNumber:579,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Clients.tsx",lineNumber:578,columnNumber:21},void 0),e.jsxDEV("td",{className:"px-6 py-4",children:e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV(ke,{className:"w-4 h-4 text-blue-500 mr-2"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Clients.tsx",lineNumber:594,columnNumber:27},void 0),e.jsxDEV("span",{className:"text-sm text-gray-900 dark:text-gray-200",children:[s.one_to_one_units||0," 1:1 units"]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Clients.tsx",lineNumber:595,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Clients.tsx",lineNumber:593,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV(ye,{className:"w-4 h-4 text-purple-500 mr-2"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Clients.tsx",lineNumber:600,columnNumber:27},void 0),e.jsxDEV("span",{className:"text-sm text-gray-900 dark:text-gray-200",children:[s.supervision_units||0," supervision units"]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Clients.tsx",lineNumber:601,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Clients.tsx",lineNumber:599,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV(G,{className:"w-4 h-4 text-green-500 mr-2"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Clients.tsx",lineNumber:606,columnNumber:27},void 0),e.jsxDEV("span",{className:"text-sm text-gray-900 dark:text-gray-200",children:[s.parent_consult_units||0," parent consult units"]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Clients.tsx",lineNumber:607,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Clients.tsx",lineNumber:605,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV(Ae,{className:"w-4 h-4 text-amber-500 mr-2"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Clients.tsx",lineNumber:612,columnNumber:27},void 0),e.jsxDEV("span",{className:"text-sm text-gray-900 dark:text-gray-200",children:[s.assessment_units||0," assessment units"]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Clients.tsx",lineNumber:613,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Clients.tsx",lineNumber:611,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV(Ee,{className:"w-4 h-4 text-gray-400 mr-2"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Clients.tsx",lineNumber:618,columnNumber:27},void 0),e.jsxDEV("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:[Object.entries(s.availability_hours||{}).filter(([t,n])=>n.start&&n.end).length," days available"]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Clients.tsx",lineNumber:619,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Clients.tsx",lineNumber:617,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Clients.tsx",lineNumber:592,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Clients.tsx",lineNumber:591,columnNumber:21},void 0),e.jsxDEV("td",{className:"px-6 py-4",children:e.jsxDEV("div",{className:"flex items-center space-x-3",children:[s.deleted_at?e.jsxDEV("button",{onClick:()=>le(s),className:"text-green-600 dark:text-green-400 hover:text-green-800 dark:hover:text-green-300",title:"Restore client","aria-label":`Restore ${s.full_name||"client"}`,type:"button",children:e.jsxDEV(Ie,{"aria-hidden":"true",className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Clients.tsx",lineNumber:635,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Clients.tsx",lineNumber:628,columnNumber:27},void 0):e.jsxDEV("button",{onClick:()=>ie(s),className:"text-red-600 dark:text-red-400 hover:text-red-900 dark:hover:text-red-300",title:"Archive client","aria-label":`Archive ${s.full_name||"client"}`,type:"button",children:e.jsxDEV(H,{"aria-hidden":"true",className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Clients.tsx",lineNumber:645,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Clients.tsx",lineNumber:638,columnNumber:27},void 0),V()&&e.jsxDEV("button",{onClick:()=>re(s),className:`text-red-700 dark:text-red-300 hover:text-red-900 dark:hover:text-red-100 ${M.isPending?"opacity-60 cursor-not-allowed":""}`,title:"Delete client","aria-label":`Delete ${s.full_name||"client"}`,type:"button",disabled:M.isPending,children:e.jsxDEV(Ue,{"aria-hidden":"true",className:"w-4 h-4"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Clients.tsx",lineNumber:659,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Clients.tsx",lineNumber:649,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Clients.tsx",lineNumber:626,columnNumber:23},void 0)},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Clients.tsx",lineNumber:625,columnNumber:21},void 0)]},s.id,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Clients.tsx",lineNumber:540,columnNumber:19},void 0))},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Clients.tsx",lineNumber:519,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Clients.tsx",lineNumber:476,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Clients.tsx",lineNumber:475,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Clients.tsx",lineNumber:397,columnNumber:7},void 0),O&&e.jsxDEV(Fe,{isOpen:O,onClose:()=>{k(!1),y(void 0)},onSubmit:ae,client:a,isSaving:de,saveError:ue},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Clients.tsx",lineNumber:673,columnNumber:9},void 0),Z&&e.jsxDEV(ze,{onClose:()=>L(!1)},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Clients.tsx",lineNumber:686,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Clients.tsx",lineNumber:360,columnNumber:5},void 0)};export{is as default};
