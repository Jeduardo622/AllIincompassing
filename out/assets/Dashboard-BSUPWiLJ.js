import{j as e,u as U,B as F,K as q,T as j,r as w,s as L,c as B,d as z,l as K}from"./vendor-CkTWaQD2.js";import{L as O}from"./router-BMrycgU4.js";import{h as T,f as R,i as W}from"./reports-B0fjwS8-.js";import{f as P}from"./fetchers-BMhPL40Q.js";import{f as i,s as M,e as $,a as _}from"./dates-C30WUoI7.js";import"./maps-DwSjqVUD.js";import"./supabase-BgfCgt6W.js";import"./select-CDRQddG6.js";function E({icon:a,title:d,value:c,trend:u,trendUp:m}){return e.jsxDEV("div",{className:"bg-white dark:bg-dark-lighter rounded-lg shadow p-6",children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-4",children:[e.jsxDEV(a,{className:"h-6 w-6 text-blue-600"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/DashboardCard.tsx",lineNumber:21,columnNumber:9},this),e.jsxDEV("span",{className:`text-sm ${m?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:u},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/DashboardCard.tsx",lineNumber:22,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/DashboardCard.tsx",lineNumber:20,columnNumber:7},this),e.jsxDEV("h3",{className:"text-gray-600 dark:text-gray-400 text-sm",children:d},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/DashboardCard.tsx",lineNumber:26,columnNumber:7},this),e.jsxDEV("p",{className:"text-2xl font-bold text-gray-900 dark:text-white mt-1",children:c},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/DashboardCard.tsx",lineNumber:27,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/DashboardCard.tsx",lineNumber:19,columnNumber:5},this)}function Q(){const a=i(M(new Date),"yyyy-MM-dd"),d=i($(new Date),"yyyy-MM-dd"),c=i(M(_(new Date,1)),"yyyy-MM-dd"),u=i($(_(new Date,1)),"yyyy-MM-dd"),{isLiveRole:m,intervalMs:g}=T(),p=m?{refetchInterval:g,refetchIntervalInBackground:!0}:{},{data:n=[]}=U({queryKey:["sessions","current-month"],queryFn:async()=>{const{data:s,error:l}=await R.from("sessions").select("*").gte("start_time",`${a}T00:00:00`).lte("start_time",`${d}T23:59:59`);if(l)throw l;return s||[]},...p??{}}),{data:r=[]}=U({queryKey:["sessions","last-month"],queryFn:async()=>{const{data:s,error:l}=await R.from("sessions").select("*").gte("start_time",`${c}T00:00:00`).lte("start_time",`${u}T23:59:59`);if(l)throw l;return s||[]},...p??{}}),{data:b=[]}=U({queryKey:["clients","dashboard-summary"],queryFn:()=>P({allowAll:!0}),...p??{}}),{data:V=[]}=U({queryKey:["therapists"],queryFn:async()=>{const{data:s,error:l}=await R.from("therapists").select("*");if(l)throw l;return s||[]},...p??{}}),o=n.length,N=r.length,v=N>0?(o-N)/N*100:100,x=n.filter(s=>s.status==="completed").length,h=r.filter(s=>s.status==="completed").length,k=h>0?(x-h)/h*100:100,y=new Set(n.map(s=>s.client_id)).size,f=new Set(r.map(s=>s.client_id)).size,C=f>0?(y-f)/f*100:100,t=new Set(n.map(s=>s.therapist_id)).size,D=new Set(r.map(s=>s.therapist_id)).size,A=D>0?(t-D)/D*100:100;return e.jsxDEV("div",{className:"bg-white dark:bg-dark-lighter rounded-lg shadow p-6",children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-6",children:[e.jsxDEV("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center",children:[e.jsxDEV(F,{className:"w-5 h-5 mr-2 text-blue-600"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/Dashboard/ReportsSummary.tsx",lineNumber:109,columnNumber:11},this),"Monthly Report Summary"]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/Dashboard/ReportsSummary.tsx",lineNumber:108,columnNumber:9},this),e.jsxDEV(O,{to:"/reports",className:"text-sm text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 flex items-center",children:["View Full Reports",e.jsxDEV(q,{className:"w-4 h-4 ml-1"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/Dashboard/ReportsSummary.tsx",lineNumber:117,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/Dashboard/ReportsSummary.tsx",lineNumber:112,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/Dashboard/ReportsSummary.tsx",lineNumber:107,columnNumber:7},this),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxDEV("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg",children:[e.jsxDEV("div",{className:"flex justify-between items-center mb-2",children:[e.jsxDEV("h3",{className:"text-sm font-medium text-blue-700 dark:text-blue-300",children:"Total Sessions"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/Dashboard/ReportsSummary.tsx",lineNumber:124,columnNumber:13},this),e.jsxDEV("span",{className:`text-xs font-medium ${v>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:[e.jsxDEV(j,{className:"w-3 h-3 inline mr-1"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/Dashboard/ReportsSummary.tsx",lineNumber:130,columnNumber:15},this),v.toFixed(1),"%"]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/Dashboard/ReportsSummary.tsx",lineNumber:125,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/Dashboard/ReportsSummary.tsx",lineNumber:123,columnNumber:11},this),e.jsxDEV("p",{className:"text-2xl font-bold text-blue-700 dark:text-blue-300",children:o},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/Dashboard/ReportsSummary.tsx",lineNumber:134,columnNumber:11},this),e.jsxDEV("p",{className:"text-xs text-blue-600 dark:text-blue-400 mt-1",children:["vs ",N," last month"]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/Dashboard/ReportsSummary.tsx",lineNumber:135,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/Dashboard/ReportsSummary.tsx",lineNumber:122,columnNumber:9},this),e.jsxDEV("div",{className:"bg-green-50 dark:bg-green-900/20 p-4 rounded-lg",children:[e.jsxDEV("div",{className:"flex justify-between items-center mb-2",children:[e.jsxDEV("h3",{className:"text-sm font-medium text-green-700 dark:text-green-300",children:"Completed Sessions"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/Dashboard/ReportsSummary.tsx",lineNumber:142,columnNumber:13},this),e.jsxDEV("span",{className:`text-xs font-medium ${k>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:[e.jsxDEV(j,{className:"w-3 h-3 inline mr-1"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/Dashboard/ReportsSummary.tsx",lineNumber:148,columnNumber:15},this),k.toFixed(1),"%"]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/Dashboard/ReportsSummary.tsx",lineNumber:143,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/Dashboard/ReportsSummary.tsx",lineNumber:141,columnNumber:11},this),e.jsxDEV("p",{className:"text-2xl font-bold text-green-700 dark:text-green-300",children:x},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/Dashboard/ReportsSummary.tsx",lineNumber:152,columnNumber:11},this),e.jsxDEV("p",{className:"text-xs text-green-600 dark:text-green-400 mt-1",children:["vs ",h," last month"]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/Dashboard/ReportsSummary.tsx",lineNumber:153,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/Dashboard/ReportsSummary.tsx",lineNumber:140,columnNumber:9},this),e.jsxDEV("div",{className:"bg-purple-50 dark:bg-purple-900/20 p-4 rounded-lg",children:[e.jsxDEV("div",{className:"flex justify-between items-center mb-2",children:[e.jsxDEV("h3",{className:"text-sm font-medium text-purple-700 dark:text-purple-300",children:"Active Clients (month)"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/Dashboard/ReportsSummary.tsx",lineNumber:160,columnNumber:13},this),e.jsxDEV("span",{className:`text-xs font-medium ${C>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:[e.jsxDEV(j,{className:"w-3 h-3 inline mr-1"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/Dashboard/ReportsSummary.tsx",lineNumber:166,columnNumber:15},this),C.toFixed(1),"%"]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/Dashboard/ReportsSummary.tsx",lineNumber:161,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/Dashboard/ReportsSummary.tsx",lineNumber:159,columnNumber:11},this),e.jsxDEV("p",{className:"text-2xl font-bold text-purple-700 dark:text-purple-300",children:y},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/Dashboard/ReportsSummary.tsx",lineNumber:170,columnNumber:11},this),e.jsxDEV("p",{className:"text-xs text-purple-600 dark:text-purple-400 mt-1",children:["of ",b.length," total clients"]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/Dashboard/ReportsSummary.tsx",lineNumber:171,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/Dashboard/ReportsSummary.tsx",lineNumber:158,columnNumber:9},this),e.jsxDEV("div",{className:"bg-amber-50 dark:bg-amber-900/20 p-4 rounded-lg",children:[e.jsxDEV("div",{className:"flex justify-between items-center mb-2",children:[e.jsxDEV("h3",{className:"text-sm font-medium text-amber-700 dark:text-amber-300",children:"Active Therapists"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/Dashboard/ReportsSummary.tsx",lineNumber:178,columnNumber:13},this),e.jsxDEV("span",{className:`text-xs font-medium ${A>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:[e.jsxDEV(j,{className:"w-3 h-3 inline mr-1"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/Dashboard/ReportsSummary.tsx",lineNumber:184,columnNumber:15},this),A.toFixed(1),"%"]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/Dashboard/ReportsSummary.tsx",lineNumber:179,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/Dashboard/ReportsSummary.tsx",lineNumber:177,columnNumber:11},this),e.jsxDEV("p",{className:"text-2xl font-bold text-amber-700 dark:text-amber-300",children:t},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/Dashboard/ReportsSummary.tsx",lineNumber:188,columnNumber:11},this),e.jsxDEV("p",{className:"text-xs text-amber-600 dark:text-amber-400 mt-1",children:["of ",V.length," total therapists"]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/Dashboard/ReportsSummary.tsx",lineNumber:189,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/Dashboard/ReportsSummary.tsx",lineNumber:176,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/Dashboard/ReportsSummary.tsx",lineNumber:121,columnNumber:7},this),e.jsxDEV("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxDEV("div",{children:[e.jsxDEV("h3",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Session Status Distribution"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/Dashboard/ReportsSummary.tsx",lineNumber:197,columnNumber:11},this),e.jsxDEV("div",{className:"flex h-4 rounded-full overflow-hidden",children:[e.jsxDEV("div",{className:"bg-green-500",style:{width:`${x/o*100}%`},title:`Completed: ${x}`},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/Dashboard/ReportsSummary.tsx",lineNumber:199,columnNumber:13},this),e.jsxDEV("div",{className:"bg-yellow-500",style:{width:`${n.filter(s=>s.status==="scheduled").length/o*100}%`},title:`Scheduled: ${n.filter(s=>s.status==="scheduled").length}`},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/Dashboard/ReportsSummary.tsx",lineNumber:204,columnNumber:13},this),e.jsxDEV("div",{className:"bg-red-500",style:{width:`${n.filter(s=>s.status==="cancelled").length/o*100}%`},title:`Cancelled: ${n.filter(s=>s.status==="cancelled").length}`},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/Dashboard/ReportsSummary.tsx",lineNumber:209,columnNumber:13},this),e.jsxDEV("div",{className:"bg-gray-500",style:{width:`${n.filter(s=>s.status==="no-show").length/o*100}%`},title:`No-show: ${n.filter(s=>s.status==="no-show").length}`},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/Dashboard/ReportsSummary.tsx",lineNumber:214,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/Dashboard/ReportsSummary.tsx",lineNumber:198,columnNumber:11},this),e.jsxDEV("div",{className:"flex justify-between mt-2 text-xs text-gray-500 dark:text-gray-400",children:[e.jsxDEV("span",{className:"flex items-center",children:[e.jsxDEV("span",{className:"w-2 h-2 bg-green-500 rounded-full mr-1"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/Dashboard/ReportsSummary.tsx",lineNumber:222,columnNumber:15},this),"Completed"]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/Dashboard/ReportsSummary.tsx",lineNumber:221,columnNumber:13},this),e.jsxDEV("span",{className:"flex items-center",children:[e.jsxDEV("span",{className:"w-2 h-2 bg-yellow-500 rounded-full mr-1"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/Dashboard/ReportsSummary.tsx",lineNumber:226,columnNumber:15},this),"Scheduled"]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/Dashboard/ReportsSummary.tsx",lineNumber:225,columnNumber:13},this),e.jsxDEV("span",{className:"flex items-center",children:[e.jsxDEV("span",{className:"w-2 h-2 bg-red-500 rounded-full mr-1"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/Dashboard/ReportsSummary.tsx",lineNumber:230,columnNumber:15},this),"Cancelled"]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/Dashboard/ReportsSummary.tsx",lineNumber:229,columnNumber:13},this),e.jsxDEV("span",{className:"flex items-center",children:[e.jsxDEV("span",{className:"w-2 h-2 bg-gray-500 rounded-full mr-1"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/Dashboard/ReportsSummary.tsx",lineNumber:234,columnNumber:15},this),"No-show"]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/Dashboard/ReportsSummary.tsx",lineNumber:233,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/Dashboard/ReportsSummary.tsx",lineNumber:220,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/Dashboard/ReportsSummary.tsx",lineNumber:196,columnNumber:9},this),e.jsxDEV("div",{children:[e.jsxDEV("h3",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Sessions by Day of Week"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/Dashboard/ReportsSummary.tsx",lineNumber:241,columnNumber:11},this),e.jsxDEV("div",{className:"space-y-2",children:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"].map(s=>{const l=n.filter(I=>{const S=new Date(I.start_time);return i(S,"EEEE")===s}).length;return e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV("span",{className:"text-xs text-gray-500 dark:text-gray-400 w-20",children:s},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/Dashboard/ReportsSummary.tsx",lineNumber:251,columnNumber:19},this),e.jsxDEV("div",{className:"flex-1 mx-2",children:e.jsxDEV("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:e.jsxDEV("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${l/Math.max(...["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"].map(I=>n.filter(S=>i(new Date(S.start_time),"EEEE")===I).length))*100}%`}},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/Dashboard/ReportsSummary.tsx",lineNumber:254,columnNumber:23},this)},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/Dashboard/ReportsSummary.tsx",lineNumber:253,columnNumber:21},this)},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/Dashboard/ReportsSummary.tsx",lineNumber:252,columnNumber:19},this),e.jsxDEV("span",{className:"text-xs font-medium text-gray-700 dark:text-gray-300 w-8 text-right",children:l},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/Dashboard/ReportsSummary.tsx",lineNumber:262,columnNumber:19},this)]},s,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/Dashboard/ReportsSummary.tsx",lineNumber:250,columnNumber:17},this)})},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/Dashboard/ReportsSummary.tsx",lineNumber:242,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/Dashboard/ReportsSummary.tsx",lineNumber:240,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/Dashboard/ReportsSummary.tsx",lineNumber:195,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/Dashboard/ReportsSummary.tsx",lineNumber:106,columnNumber:5},this)}const H=({dashboardData:a,isLoading:d,error:c,refetch:u,isLiveRole:m,intervalMs:g})=>{const[p,n]=w.useState(null);w.useEffect(()=>{a&&n(new Date)},[a]);const r=w.useMemo(()=>{const t=a?.todaySessions??[],D=a?.incompleteSessions??[],A=a?.billingAlerts??[],s=a?.clientMetrics??{total:0,active:0,totalUnits:0};return{todaySessions:t,incompleteSessions:D,billingAlerts:A,clientMetrics:s,therapistMetrics:a?.therapistMetrics||{total:0,active:0,totalHours:0}}},[a]),b=r.todaySessions.filter(t=>!t.__redacted&&new Date(t.start_time)>new Date),V=r.clientMetrics.active.toString(),o=`${r.clientMetrics.active} of ${r.clientMetrics.total} clients`,N=r.todaySessions.length.toString(),v=`${b.length} remaining`,x=b.length>0,h=r.incompleteSessions.length.toString(),k="Need notes",y=r.billingAlerts.length.toString(),f="Needs attention";if(d&&!r.todaySessions.length)return e.jsxDEV("div",{className:"h-full flex items-center justify-center",children:e.jsxDEV("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Dashboard.tsx",lineNumber:102,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Dashboard.tsx",lineNumber:101,columnNumber:7},void 0);const C=!!c;return e.jsxDEV("div",{children:[C&&e.jsxDEV("div",{className:"mb-4 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg flex items-start justify-between",children:[e.jsxDEV("div",{children:[e.jsxDEV("h2",{className:"text-sm font-semibold text-red-800 dark:text-red-200 mb-1",children:"Some dashboard data failed to load"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Dashboard.tsx",lineNumber:114,columnNumber:13},void 0),e.jsxDEV("p",{className:"text-sm text-red-700 dark:text-red-300",children:"Showing fallback values. You can retry loading the latest data."},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Dashboard.tsx",lineNumber:115,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Dashboard.tsx",lineNumber:113,columnNumber:11},void 0),e.jsxDEV("button",{type:"button",onClick:()=>u(),className:"ml-4 px-3 py-1.5 text-sm font-medium text-white bg-red-600 rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:"Retry"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Dashboard.tsx",lineNumber:117,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Dashboard.tsx",lineNumber:112,columnNumber:9},void 0),e.jsxDEV("div",{className:"flex flex-col gap-3 mb-6 md:flex-row md:items-center md:justify-between",children:[e.jsxDEV("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Dashboard"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Dashboard.tsx",lineNumber:127,columnNumber:9},void 0),e.jsxDEV("div",{className:"flex items-center gap-4 text-xs text-gray-500 dark:text-gray-400",children:[e.jsxDEV("span",{className:`inline-flex items-center rounded-full px-3 py-1 font-medium ${m?"bg-green-50 text-green-700 dark:bg-green-900/30 dark:text-green-200":"bg-slate-100 text-slate-600 dark:bg-slate-800 dark:text-slate-200"}`,children:[e.jsxDEV("span",{className:`mr-1.5 inline-block h-2 w-2 rounded-full ${m?"bg-green-500":"bg-slate-400"}`},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Dashboard.tsx",lineNumber:136,columnNumber:13},void 0),m?"Live data":"Auto refresh"]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Dashboard.tsx",lineNumber:129,columnNumber:11},void 0),e.jsxDEV("span",{children:["Updated ",p?i(p,"h:mm:ss a"):"—"," •",m?` every ${Math.round(g/1e3)}s`:" every 2 min"]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Dashboard.tsx",lineNumber:143,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Dashboard.tsx",lineNumber:128,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Dashboard.tsx",lineNumber:126,columnNumber:7},void 0),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsxDEV(E,{icon:L,title:"Active Clients",value:V,trend:o,trendUp:!0},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Dashboard.tsx",lineNumber:151,columnNumber:9},void 0),e.jsxDEV(E,{icon:B,title:"Today's Sessions",value:N,trend:v,trendUp:x},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Dashboard.tsx",lineNumber:158,columnNumber:9},void 0),e.jsxDEV(E,{icon:z,title:"Pending Documentation",value:h,trend:k,trendUp:!1},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Dashboard.tsx",lineNumber:165,columnNumber:9},void 0),e.jsxDEV(E,{icon:K,title:"Billing Alerts",value:y,trend:f,trendUp:!1},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Dashboard.tsx",lineNumber:172,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Dashboard.tsx",lineNumber:150,columnNumber:7},void 0),e.jsxDEV("div",{className:"mb-8",children:e.jsxDEV(Q,{},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Dashboard.tsx",lineNumber:183,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Dashboard.tsx",lineNumber:182,columnNumber:7},void 0),e.jsxDEV("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[e.jsxDEV("div",{className:"bg-white dark:bg-dark-lighter rounded-lg shadow",children:e.jsxDEV("div",{className:"p-6",children:[e.jsxDEV("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Upcoming Sessions"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Dashboard.tsx",lineNumber:189,columnNumber:13},void 0),e.jsxDEV("div",{className:"space-y-4",children:b.length===0?e.jsxDEV("p",{className:"text-gray-500 dark:text-gray-400 text-center py-4",children:"No more sessions scheduled for today"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Dashboard.tsx",lineNumber:196,columnNumber:17},void 0):b.map(t=>e.jsxDEV("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-dark rounded-lg",children:[e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"font-medium text-gray-900 dark:text-white",children:t.client?.full_name},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Dashboard.tsx",lineNumber:201,columnNumber:23},void 0),e.jsxDEV("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["with ",t.therapist?.full_name]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Dashboard.tsx",lineNumber:204,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Dashboard.tsx",lineNumber:200,columnNumber:21},void 0),e.jsxDEV("div",{className:"text-right",children:[e.jsxDEV("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:i(new Date(t.start_time),"h:mm a")},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Dashboard.tsx",lineNumber:209,columnNumber:23},void 0),e.jsxDEV("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:i(new Date(t.start_time),"MMM d, yyyy")},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Dashboard.tsx",lineNumber:212,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Dashboard.tsx",lineNumber:208,columnNumber:21},void 0)]},t.id,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Dashboard.tsx",lineNumber:199,columnNumber:19},void 0))},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Dashboard.tsx",lineNumber:190,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Dashboard.tsx",lineNumber:188,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Dashboard.tsx",lineNumber:187,columnNumber:9},void 0),e.jsxDEV("div",{className:"bg-white dark:bg-dark-lighter rounded-lg shadow",children:e.jsxDEV("div",{className:"p-6",children:[e.jsxDEV("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Authorized Units"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Dashboard.tsx",lineNumber:225,columnNumber:13},void 0),e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[e.jsxDEV("div",{className:"flex justify-between items-center",children:[e.jsxDEV("h3",{className:"font-medium text-blue-900 dark:text-blue-100",children:"1:1 Units"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Dashboard.tsx",lineNumber:229,columnNumber:19},void 0),e.jsxDEV("span",{className:"text-xl font-bold text-blue-600 dark:text-blue-400",children:r.clientMetrics.totalUnits},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Dashboard.tsx",lineNumber:230,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Dashboard.tsx",lineNumber:228,columnNumber:17},void 0),e.jsxDEV("div",{className:"mt-2 bg-blue-100 dark:bg-blue-800 rounded-full h-2",children:e.jsxDEV("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:"65%"}},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Dashboard.tsx",lineNumber:235,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Dashboard.tsx",lineNumber:234,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Dashboard.tsx",lineNumber:227,columnNumber:15},void 0),e.jsxDEV("div",{className:"p-4 bg-purple-50 dark:bg-purple-900/20 rounded-lg",children:[e.jsxDEV("div",{className:"flex justify-between items-center",children:[e.jsxDEV("h3",{className:"font-medium text-purple-900 dark:text-purple-100",children:"Supervision Units"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Dashboard.tsx",lineNumber:241,columnNumber:19},void 0),e.jsxDEV("span",{className:"text-xl font-bold text-purple-600 dark:text-purple-400",children:r.clientMetrics.totalUnits/2},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Dashboard.tsx",lineNumber:242,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Dashboard.tsx",lineNumber:240,columnNumber:17},void 0),e.jsxDEV("div",{className:"mt-2 bg-purple-100 dark:bg-purple-800 rounded-full h-2",children:e.jsxDEV("div",{className:"bg-purple-600 h-2 rounded-full",style:{width:"40%"}},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Dashboard.tsx",lineNumber:247,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Dashboard.tsx",lineNumber:246,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Dashboard.tsx",lineNumber:239,columnNumber:15},void 0),e.jsxDEV("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[e.jsxDEV("div",{className:"flex justify-between items-center",children:[e.jsxDEV("h3",{className:"font-medium text-green-900 dark:text-green-100",children:"Parent Consult Units"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Dashboard.tsx",lineNumber:253,columnNumber:19},void 0),e.jsxDEV("span",{className:"text-xl font-bold text-green-600 dark:text-green-400",children:r.clientMetrics.totalUnits/3},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Dashboard.tsx",lineNumber:254,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Dashboard.tsx",lineNumber:252,columnNumber:17},void 0),e.jsxDEV("div",{className:"mt-2 bg-green-100 dark:bg-green-800 rounded-full h-2",children:e.jsxDEV("div",{className:"bg-green-600 h-2 rounded-full",style:{width:"25%"}},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Dashboard.tsx",lineNumber:259,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Dashboard.tsx",lineNumber:258,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Dashboard.tsx",lineNumber:251,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Dashboard.tsx",lineNumber:226,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Dashboard.tsx",lineNumber:224,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Dashboard.tsx",lineNumber:223,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Dashboard.tsx",lineNumber:186,columnNumber:7},void 0),e.jsxDEV("div",{className:"grid grid-cols-1 gap-6",children:e.jsxDEV("div",{className:"bg-white dark:bg-dark-lighter rounded-lg shadow",children:e.jsxDEV("div",{className:"p-6",children:[e.jsxDEV("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Recent Activity"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Dashboard.tsx",lineNumber:270,columnNumber:13},void 0),e.jsxDEV("div",{className:"space-y-4",children:[r.incompleteSessions.slice(0,5).map(t=>e.jsxDEV("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-dark rounded-lg",children:[e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"font-medium text-gray-900 dark:text-white",children:"Documentation Needed"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Dashboard.tsx",lineNumber:285,columnNumber:23},void 0),e.jsxDEV("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Session with ",t.client?.full_name]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Dashboard.tsx",lineNumber:288,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Dashboard.tsx",lineNumber:284,columnNumber:21},void 0),e.jsxDEV("div",{className:"text-right",children:[e.jsxDEV("div",{className:"text-sm font-medium text-blue-600 dark:text-blue-400",children:"Add Notes"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Dashboard.tsx",lineNumber:293,columnNumber:23},void 0),e.jsxDEV("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:i(new Date(t.start_time),"MMM d, yyyy")},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Dashboard.tsx",lineNumber:296,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Dashboard.tsx",lineNumber:292,columnNumber:21},void 0)]},t.id,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Dashboard.tsx",lineNumber:283,columnNumber:19},void 0)),r.billingAlerts.slice(0,3).map(t=>e.jsxDEV("div",{className:"flex items-center justify-between p-4 bg-red-50 dark:bg-red-900/20 rounded-lg",children:[e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"font-medium text-red-900 dark:text-red-100",children:"Billing Alert"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Dashboard.tsx",lineNumber:316,columnNumber:23},void 0),e.jsxDEV("div",{className:"text-sm text-red-700 dark:text-red-300",children:["$",t.amount," - ",t.status]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Dashboard.tsx",lineNumber:319,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Dashboard.tsx",lineNumber:315,columnNumber:21},void 0),e.jsxDEV("div",{className:"text-right",children:[e.jsxDEV("div",{className:"text-sm font-medium text-red-600 dark:text-red-400",children:"Review"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Dashboard.tsx",lineNumber:324,columnNumber:23},void 0),e.jsxDEV("div",{className:"text-sm text-red-700 dark:text-red-300",children:t.created_at?i(new Date(t.created_at),"MMM d, yyyy"):"—"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Dashboard.tsx",lineNumber:327,columnNumber:23},void 0)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Dashboard.tsx",lineNumber:323,columnNumber:21},void 0)]},t.id,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Dashboard.tsx",lineNumber:314,columnNumber:19},void 0))]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Dashboard.tsx",lineNumber:271,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Dashboard.tsx",lineNumber:269,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Dashboard.tsx",lineNumber:268,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Dashboard.tsx",lineNumber:267,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Dashboard.tsx",lineNumber:110,columnNumber:5},void 0)},re=()=>{const{data:a,isLoading:d,error:c,refetch:u}=W(),{isLiveRole:m,intervalMs:g}=T();return e.jsxDEV(H,{dashboardData:a,isLoading:d,error:c,refetch:u,isLiveRole:m,intervalMs:g},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/Dashboard.tsx",lineNumber:352,columnNumber:5},void 0)};export{H as DashboardView,re as default};
