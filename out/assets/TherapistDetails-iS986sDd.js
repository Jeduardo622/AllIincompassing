import{r as o,n as Y,_ as G,j as e,U as F,a0 as me,a4 as ce,ae as de,am as H,a5 as ae,an as ue,ak as pe,P as Z,a as q,A as $,e as te,u as O,b as be,ab as he,d as Q,aj as Ne,V as xe,W as fe,c as R,a3 as le,af as ge,K as De,I as ne,l as ie,F as ke}from"./vendor-CkTWaQD2.js";import{u as J,s as K,a as W,f as C}from"./reports-B0fjwS8-.js";import{T as Te}from"./TherapistModal-BsFNRVN4.js";import{b as ve,c as Ce,f as k,d as B,p as P,i as ye}from"./dates-C30WUoI7.js";import{L as Ae,d as Ie,b as Ee}from"./router-BMrycgU4.js";import{C as re}from"./select-CDRQddG6.js";import"./maps-DwSjqVUD.js";import"./supabase-BgfCgt6W.js";import"./types-BkL5HcP5.js";import"./therapists-DqU0h6yp.js";function je({therapist:t}){const{hasRole:d}=J(),[m,u]=o.useState(!1),[p,n]=o.useState(!1),[x,N]=o.useState(!1),[c,s]=o.useState(""),[b,f]=o.useState(!1),[T,h]=o.useState("open"),[U,V]=o.useState([{id:"1",content:"Completed annual HIPAA training. All certificates updated in the system.",author:"Admin User",created_at:"2025-05-15T14:30:00Z",is_visible_to_therapist:!0,status:"resolved"},{id:"2",content:"Requested time off for the week of July 15-19. Need to reassign clients during this period.",author:"Admin User",created_at:"2025-05-10T09:15:00Z",is_visible_to_therapist:!0,status:"open"}]),[y,w]=o.useState([{id:"1",category:"Certification",description:"RBT certification expires in 30 days. Reminder sent for renewal.",status:"Open",priority:"High",date_opened:"2025-05-01T00:00:00Z",last_action:"2025-05-01T00:00:00Z"},{id:"2",category:"Scheduling",description:"Requested schedule change to accommodate additional client.",status:"In Progress",priority:"Medium",date_opened:"2025-04-28T00:00:00Z",last_action:"2025-05-05T00:00:00Z"}]),i=Y(),l=G({mutationFn:async a=>{const{data:M,error:r}=await C.from("therapists").update(a).eq("id",t.id).select().single();if(r)throw r;return M},onSuccess:()=>{i.invalidateQueries({queryKey:["therapist",t.id]}),u(!1),W("Therapist updated successfully")},onError:a=>{K(a)}}),v=()=>{const a={id:Date.now().toString(),content:c,author:"Current User",created_at:new Date().toISOString(),is_visible_to_therapist:b,status:T};V([a,...U]),s(""),f(!1),h("open"),n(!1)},g=a=>{const M={...a,id:Date.now().toString(),date_opened:new Date().toISOString(),last_action:new Date().toISOString()};w([M,...y]),N(!1)},E=(a,M)=>{w(y.map(r=>r.id===a?{...r,status:M,last_action:new Date().toISOString()}:r))},j=a=>{switch(a){case"resolved":return e.jsxDEV(q,{className:"w-5 h-5 text-green-500"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:151,columnNumber:16},this);case"open":return e.jsxDEV($,{className:"w-5 h-5 text-amber-500"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:153,columnNumber:16},this);case"follow-up":return e.jsxDEV(te,{className:"w-5 h-5 text-blue-500"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:155,columnNumber:16},this);default:return null}},S=a=>{switch(a){case"High":return"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-300";case"Medium":return"bg-amber-100 text-amber-800 dark:bg-amber-900/20 dark:text-amber-300";case"Low":return"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-300"}},_=a=>{switch(a){case"Open":return"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-300";case"In Progress":return"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-300";case"Resolved":return"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-300"}};return e.jsxDEV("div",{className:"space-y-8",children:[e.jsxDEV("div",{className:"bg-white dark:bg-dark-lighter rounded-lg border dark:border-gray-700 p-6",children:[e.jsxDEV("div",{className:"flex justify-between items-start mb-4",children:[e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV("div",{className:"h-16 w-16 rounded-full bg-blue-100 dark:bg-blue-900/20 flex items-center justify-center",children:e.jsxDEV(F,{className:"h-8 w-8 text-blue-600 dark:text-blue-400"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:194,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:193,columnNumber:13},this),e.jsxDEV("div",{className:"ml-4",children:[e.jsxDEV("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:t.full_name},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:197,columnNumber:15},this),e.jsxDEV("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:t.title||"Therapist"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:198,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:196,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:192,columnNumber:11},this),(d("admin")||isOwnProfile)&&e.jsxDEV("button",{onClick:()=>u(!0),className:"px-3 py-1.5 text-sm font-medium text-white bg-blue-600 rounded-md shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 flex items-center",children:[e.jsxDEV(me,{className:"w-4 h-4 mr-1"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:208,columnNumber:15},this),"Edit"]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:204,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:191,columnNumber:9},this),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-6",children:[e.jsxDEV("div",{className:"flex items-start",children:[e.jsxDEV(ce,{className:"w-5 h-5 text-gray-400 mt-0.5 mr-2"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:216,columnNumber:13},this),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Email"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:218,columnNumber:15},this),e.jsxDEV("p",{className:"text-sm text-gray-900 dark:text-white",children:t.email},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:219,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:217,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:215,columnNumber:11},this),e.jsxDEV("div",{className:"flex items-start",children:[e.jsxDEV(de,{className:"w-5 h-5 text-gray-400 mt-0.5 mr-2"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:224,columnNumber:13},this),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Phone"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:226,columnNumber:15},this),e.jsxDEV("p",{className:"text-sm text-gray-900 dark:text-white",children:t.phone||"N/A"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:227,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:225,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:223,columnNumber:11},this),e.jsxDEV("div",{className:"flex items-start",children:[e.jsxDEV(H,{className:"w-5 h-5 text-blue-500 mt-0.5 mr-2"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:232,columnNumber:13},this),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Specialties"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:234,columnNumber:15},this),e.jsxDEV("p",{className:"text-sm text-gray-900 dark:text-white",children:t.specialties?.join(", ")||"N/A"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:235,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:233,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:231,columnNumber:11},this),e.jsxDEV("div",{className:"flex items-start",children:[e.jsxDEV(ae,{className:"w-5 h-5 text-gray-400 mt-0.5 mr-2"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:242,columnNumber:13},this),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Address"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:244,columnNumber:15},this),e.jsxDEV("p",{className:"text-sm text-gray-900 dark:text-white",children:t.street?e.jsxDEV(e.Fragment,{children:[t.street,e.jsxDEV("br",{},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:248,columnNumber:39},this),t.city,", ",t.state," ",t.zip_code]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:247,columnNumber:19},this):"N/A"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:245,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:243,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:241,columnNumber:11},this),e.jsxDEV("div",{className:"flex items-start",children:[e.jsxDEV(ue,{className:"w-5 h-5 text-gray-400 mt-0.5 mr-2"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:259,columnNumber:13},this),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Facility"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:261,columnNumber:15},this),e.jsxDEV("p",{className:"text-sm text-gray-900 dark:text-white",children:t.facility||"N/A"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:262,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:260,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:258,columnNumber:11},this),e.jsxDEV("div",{className:"flex items-start",children:[e.jsxDEV(pe,{className:"w-5 h-5 text-gray-400 mt-0.5 mr-2"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:267,columnNumber:13},this),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Employee Type"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:269,columnNumber:15},this),e.jsxDEV("p",{className:"text-sm text-gray-900 dark:text-white",children:t.employee_type||"N/A"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:270,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:268,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:266,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:214,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:190,columnNumber:7},this),e.jsxDEV("div",{className:"bg-white dark:bg-dark-lighter rounded-lg border dark:border-gray-700 p-6",children:[e.jsxDEV("div",{className:"flex justify-between items-start mb-6",children:[e.jsxDEV("div",{children:[e.jsxDEV("h2",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Professional Notes"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:280,columnNumber:13},this),e.jsxDEV("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Internal notes about this therapist's practice and performance"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:281,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:279,columnNumber:11},this),d("admin")&&e.jsxDEV("button",{onClick:()=>n(!0),className:"px-3 py-1.5 text-sm font-medium text-white bg-blue-600 rounded-md shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 flex items-center",children:[e.jsxDEV(Z,{className:"w-4 h-4 mr-1"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:290,columnNumber:15},this),"Add Note"]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:286,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:278,columnNumber:9},this),e.jsxDEV("div",{className:"space-y-4",children:U.length===0?e.jsxDEV("p",{className:"text-center text-gray-500 dark:text-gray-400 py-8",children:"No notes found. Add your first note to get started."},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:298,columnNumber:13},this):U.map(a=>e.jsxDEV("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700",children:[e.jsxDEV("div",{className:"flex justify-between items-start mb-2",children:[e.jsxDEV("div",{className:"flex items-center",children:[j(a.status),e.jsxDEV("span",{className:"ml-2 font-medium text-gray-900 dark:text-white",children:a.author},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:310,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:308,columnNumber:19},this),e.jsxDEV("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:new Date(a.created_at).toLocaleString()},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:314,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:307,columnNumber:17},this),e.jsxDEV("p",{className:"text-gray-700 dark:text-gray-300 whitespace-pre-wrap",children:a.content},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:318,columnNumber:17},this),e.jsxDEV("div",{className:"mt-2 flex items-center",children:a.is_visible_to_therapist&&e.jsxDEV("span",{className:"text-xs bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-300 px-2 py-0.5 rounded",children:"Visible to therapist"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:323,columnNumber:21},this)},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:321,columnNumber:17},this)]},a.id,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:303,columnNumber:15},this))},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:296,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:277,columnNumber:7},this),e.jsxDEV("div",{className:"bg-white dark:bg-dark-lighter rounded-lg border dark:border-gray-700 p-6",children:[e.jsxDEV("div",{className:"flex justify-between items-start mb-6",children:[e.jsxDEV("div",{children:[e.jsxDEV("h2",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Issues Log"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:338,columnNumber:13},this),e.jsxDEV("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Track and resolve issues related to this therapist"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:339,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:337,columnNumber:11},this),d("admin")&&e.jsxDEV("button",{onClick:()=>N(!0),className:"px-3 py-1.5 text-sm font-medium text-white bg-blue-600 rounded-md shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 flex items-center",children:[e.jsxDEV(Z,{className:"w-4 h-4 mr-1"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:348,columnNumber:15},this),"Add Issue"]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:344,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:336,columnNumber:9},this),y.length===0?e.jsxDEV("div",{className:"text-center py-8 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[e.jsxDEV(q,{className:"mx-auto h-8 w-8 text-green-500 mb-2"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:356,columnNumber:13},this),e.jsxDEV("h3",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"No issues"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:357,columnNumber:13},this),e.jsxDEV("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"No issues currently logged for this therapist"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:358,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:355,columnNumber:11},this):e.jsxDEV("div",{className:"overflow-x-auto",children:e.jsxDEV("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[e.jsxDEV("thead",{className:"bg-gray-50 dark:bg-gray-800",children:e.jsxDEV("tr",{children:[e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Category"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:367,columnNumber:17},this),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Description"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:370,columnNumber:17},this),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Status"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:373,columnNumber:17},this),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Priority"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:376,columnNumber:17},this),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Date Opened"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:379,columnNumber:17},this),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Last Action"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:382,columnNumber:17},this),e.jsxDEV("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Actions"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:385,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:366,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:365,columnNumber:13},this),e.jsxDEV("tbody",{className:"bg-white dark:bg-dark-lighter divide-y divide-gray-200 dark:divide-gray-700",children:y.length===0?e.jsxDEV("tr",{children:e.jsxDEV("td",{colSpan:7,className:"px-6 py-4 text-center text-gray-500 dark:text-gray-400",children:"No issues found."},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:393,columnNumber:19},this)},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:392,columnNumber:17},this):y.map(a=>e.jsxDEV("tr",{children:[e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxDEV("span",{className:"text-sm text-gray-900 dark:text-white",children:a.category},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:401,columnNumber:23},this)},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:400,columnNumber:21},this),e.jsxDEV("td",{className:"px-6 py-4",children:e.jsxDEV("span",{className:"text-sm text-gray-900 dark:text-white",children:a.description},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:406,columnNumber:23},this)},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:405,columnNumber:21},this),e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxDEV("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${_(a.status)}`,children:a.status},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:411,columnNumber:23},this)},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:410,columnNumber:21},this),e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxDEV("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${S(a.priority)}`,children:a.priority},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:416,columnNumber:23},this)},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:415,columnNumber:21},this),e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxDEV("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:new Date(a.date_opened).toLocaleDateString()},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:421,columnNumber:23},this)},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:420,columnNumber:21},this),e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxDEV("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:new Date(a.last_action).toLocaleDateString()},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:426,columnNumber:23},this)},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:425,columnNumber:21},this),e.jsxDEV("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxDEV("div",{className:"flex space-x-2",children:[a.status!=="Open"&&e.jsxDEV("button",{onClick:()=>E(a.id,"Open"),className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300",children:"Open"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:433,columnNumber:27},this),a.status!=="In Progress"&&e.jsxDEV("button",{onClick:()=>E(a.id,"In Progress"),className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300",children:"In Progress"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:441,columnNumber:27},this),a.status!=="Resolved"&&e.jsxDEV("button",{onClick:()=>E(a.id,"Resolved"),className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300",children:"Resolve"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:449,columnNumber:27},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:431,columnNumber:23},this)},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:430,columnNumber:21},this)]},a.id,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:399,columnNumber:19},this))},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:390,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:364,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:363,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:335,columnNumber:7},this),m&&e.jsxDEV(Te,{isOpen:m,onClose:()=>u(!1),onSubmit:l.mutateAsync,therapist:t},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:469,columnNumber:9},this),p&&e.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxDEV("div",{className:"bg-white dark:bg-dark-lighter rounded-lg shadow-xl w-full max-w-lg p-6",children:[e.jsxDEV("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"Add Note"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:481,columnNumber:13},this),e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{htmlFor:"note-content",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Note Content"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:487,columnNumber:17},this),e.jsxDEV("textarea",{id:"note-content",value:c,onChange:a=>s(a.target.value),rows:5,className:"w-full rounded-md border-gray-300 dark:border-gray-600 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-dark dark:text-gray-200",placeholder:"Enter your note here..."},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:490,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:486,columnNumber:15},this),e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV("input",{type:"checkbox",id:"visible-to-therapist",checked:b,onChange:a=>f(a.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:501,columnNumber:17},this),e.jsxDEV("label",{htmlFor:"visible-to-therapist",className:"ml-2 block text-sm text-gray-900 dark:text-gray-100",children:"Visible to therapist"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:508,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:500,columnNumber:15},this),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Status"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:514,columnNumber:17},this),e.jsxDEV("div",{className:"flex space-x-4",children:[e.jsxDEV("button",{type:"button",onClick:()=>h("resolved"),className:`flex items-center px-3 py-2 rounded-md ${T==="resolved"?"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-300":"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-300"}`,children:[e.jsxDEV(q,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:527,columnNumber:21},this),"Resolved"]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:518,columnNumber:19},this),e.jsxDEV("button",{type:"button",onClick:()=>h("open"),className:`flex items-center px-3 py-2 rounded-md ${T==="open"?"bg-amber-100 text-amber-800 dark:bg-amber-900/20 dark:text-amber-300":"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-300"}`,children:[e.jsxDEV($,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:539,columnNumber:21},this),"Open Issue"]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:530,columnNumber:19},this),e.jsxDEV("button",{type:"button",onClick:()=>h("follow-up"),className:`flex items-center px-3 py-2 rounded-md ${T==="follow-up"?"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-300":"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-300"}`,children:[e.jsxDEV(te,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:551,columnNumber:21},this),"Follow-up"]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:542,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:517,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:513,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:485,columnNumber:13},this),e.jsxDEV("div",{className:"flex justify-end space-x-3 mt-6",children:[e.jsxDEV("button",{type:"button",onClick:()=>n(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-dark border border-gray-300 dark:border-gray-600 rounded-md shadow-sm hover:bg-gray-50 dark:hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancel"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:559,columnNumber:15},this),e.jsxDEV("button",{type:"button",onClick:v,disabled:!c.trim(),className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:"Add Note"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:566,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:558,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:480,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:479,columnNumber:9},this),x&&e.jsxDEV(Ue,{onClose:()=>N(!1),onSubmit:g},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:581,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:188,columnNumber:5},this)}function Ue({onClose:t,onSubmit:d}){const[m,u]=o.useState("Certification"),[p,n]=o.useState(""),[x,N]=o.useState("Medium"),c=s=>{s.preventDefault(),d({category:m,description:p,status:"Open",priority:x})};return e.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxDEV("div",{className:"bg-white dark:bg-dark-lighter rounded-lg shadow-xl w-full max-w-lg p-6",children:[e.jsxDEV("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"Add Issue"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:613,columnNumber:9},this),e.jsxDEV("form",{onSubmit:c,className:"space-y-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{htmlFor:"therapist-issue-category",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Category"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:619,columnNumber:13},this),e.jsxDEV("select",{id:"therapist-issue-category",value:m,onChange:s=>u(s.target.value),className:"w-full rounded-md border-gray-300 dark:border-gray-600 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-dark dark:text-gray-200",children:[e.jsxDEV("option",{value:"Certification",children:"Certification"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:628,columnNumber:15},this),e.jsxDEV("option",{value:"Scheduling",children:"Scheduling"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:629,columnNumber:15},this),e.jsxDEV("option",{value:"Training",children:"Training"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:630,columnNumber:15},this),e.jsxDEV("option",{value:"Performance",children:"Performance"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:631,columnNumber:15},this),e.jsxDEV("option",{value:"Other",children:"Other"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:632,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:622,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:618,columnNumber:11},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{htmlFor:"therapist-issue-description",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Description"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:637,columnNumber:13},this),e.jsxDEV("textarea",{id:"therapist-issue-description",value:p,onChange:s=>n(s.target.value),rows:3,className:"w-full rounded-md border-gray-300 dark:border-gray-600 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-dark dark:text-gray-200",placeholder:"Describe the issue...",required:!0},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:640,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:636,columnNumber:11},this),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Priority"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:652,columnNumber:13},this),e.jsxDEV("div",{className:"flex space-x-4",children:[e.jsxDEV("button",{type:"button",onClick:()=>N("Low"),className:`flex-1 py-2 rounded-md ${x==="Low"?"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-300":"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-300"}`,children:"Low"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:656,columnNumber:15},this),e.jsxDEV("button",{type:"button",onClick:()=>N("Medium"),className:`flex-1 py-2 rounded-md ${x==="Medium"?"bg-amber-100 text-amber-800 dark:bg-amber-900/20 dark:text-amber-300":"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-300"}`,children:"Medium"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:667,columnNumber:15},this),e.jsxDEV("button",{type:"button",onClick:()=>N("High"),className:`flex-1 py-2 rounded-md ${x==="High"?"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-300":"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-300"}`,children:"High"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:678,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:655,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:651,columnNumber:11},this),e.jsxDEV("div",{className:"flex justify-end space-x-3 pt-4",children:[e.jsxDEV("button",{type:"button",onClick:t,className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-dark border border-gray-300 dark:border-gray-600 rounded-md shadow-sm hover:bg-gray-50 dark:hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancel"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:693,columnNumber:13},this),e.jsxDEV("button",{type:"submit",disabled:!p.trim(),className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:"Add Issue"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:700,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:692,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:617,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:612,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ProfileTab.tsx",lineNumber:611,columnNumber:5},this)}function Ve({therapist:t}){const[d,m]=o.useState(!1),u=Y(),{data:p=[],isLoading:n}=O({queryKey:["therapist-certifications",t.id],queryFn:async()=>{const{data:s,error:b}=await C.from("therapist_certifications").select("*").eq("therapist_id",t.id).order("expiry_date",{ascending:!0});if(b)throw b;return s}}),x=G({mutationFn:async s=>{const{error:b}=await C.from("therapist_certifications").delete().eq("id",s);if(b)throw b},onSuccess:()=>{u.invalidateQueries({queryKey:["therapist-certifications",t.id]}),W("Certification deleted successfully")},onError:s=>{K(s)}}),N=async s=>{window.confirm("Are you sure you want to delete this certification?")&&await x.mutateAsync(s)},c=s=>{const b=new Date,f=s.expiry_date?new Date(s.expiry_date):null,T=f?Math.ceil((f.getTime()-b.getTime())/(1e3*60*60*24)):null;return s.status==="pending"?e.jsxDEV("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-300",children:[e.jsxDEV(Q,{className:"w-3 h-3 mr-1"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/CertificationsTab.tsx",lineNumber:82,columnNumber:11},this),"Pending"]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/CertificationsTab.tsx",lineNumber:81,columnNumber:9},this):s.status==="expired"||f&&f<b?e.jsxDEV("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-300",children:[e.jsxDEV($,{className:"w-3 h-3 mr-1"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/CertificationsTab.tsx",lineNumber:91,columnNumber:11},this),"Expired"]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/CertificationsTab.tsx",lineNumber:90,columnNumber:9},this):f&&(f.getTime()-b.getTime())/(1e3*60*60*24)<=30?e.jsxDEV("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-orange-100 text-orange-800 dark:bg-orange-900/20 dark:text-orange-300",children:[e.jsxDEV($,{className:"w-3 h-3 mr-1"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/CertificationsTab.tsx",lineNumber:101,columnNumber:11},this),"Expiring in ",T," days"]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/CertificationsTab.tsx",lineNumber:100,columnNumber:9},this):e.jsxDEV("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-300",children:[e.jsxDEV(q,{className:"w-3 h-3 mr-1"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/CertificationsTab.tsx",lineNumber:109,columnNumber:9},this),"Active"]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/CertificationsTab.tsx",lineNumber:108,columnNumber:7},this)};return e.jsxDEV("div",{className:"space-y-6",children:[e.jsxDEV("div",{className:"flex justify-between items-center",children:[e.jsxDEV("h2",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Certifications & Credentials"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/CertificationsTab.tsx",lineNumber:118,columnNumber:9},this),e.jsxDEV("button",{onClick:()=>m(!0),className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 flex items-center","aria-label":"Add Certification",children:[e.jsxDEV(Z,{className:"w-4 h-4 mr-1"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/CertificationsTab.tsx",lineNumber:124,columnNumber:11},this),"Add Certification"]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/CertificationsTab.tsx",lineNumber:119,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/CertificationsTab.tsx",lineNumber:117,columnNumber:7},this),n?e.jsxDEV("div",{className:"flex justify-center items-center py-20",children:[e.jsxDEV("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-blue-600"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/CertificationsTab.tsx",lineNumber:131,columnNumber:11},this),e.jsxDEV("span",{className:"ml-3 text-gray-600 dark:text-gray-300",children:"Loading certifications..."},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/CertificationsTab.tsx",lineNumber:132,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/CertificationsTab.tsx",lineNumber:130,columnNumber:9},this):p.length===0?e.jsxDEV("div",{className:"bg-white dark:bg-dark-lighter rounded-lg border-2 border-dashed border-gray-300 dark:border-gray-700 p-8 text-center",children:[e.jsxDEV(H,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/CertificationsTab.tsx",lineNumber:136,columnNumber:11},this),e.jsxDEV("h3",{className:"text-xl font-medium text-gray-900 dark:text-white mb-2",children:"No Certifications Found"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/CertificationsTab.tsx",lineNumber:137,columnNumber:11},this),e.jsxDEV("p",{className:"text-gray-500 dark:text-gray-400 mb-6 max-w-md mx-auto",children:"You haven't added any certifications or credentials yet. Add your professional certifications to enhance your profile."},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/CertificationsTab.tsx",lineNumber:140,columnNumber:11},this),e.jsxDEV("button",{onClick:()=>m(!0),className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Add First Certification"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/CertificationsTab.tsx",lineNumber:144,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/CertificationsTab.tsx",lineNumber:135,columnNumber:9},this):e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:p.map(s=>e.jsxDEV("div",{className:`bg-white dark:bg-dark-lighter rounded-lg border ${s.status==="expired"?"border-red-200 dark:border-red-800":s.status==="pending"?"border-yellow-200 dark:border-yellow-800":"border-green-200 dark:border-green-800"} shadow-sm overflow-hidden transition-all duration-200 hover:shadow-md`,children:[e.jsxDEV("div",{className:`p-4 ${s.status==="expired"?"bg-red-50 dark:bg-red-900/10 border-b border-red-200 dark:border-red-800":s.status==="pending"?"bg-yellow-50 dark:bg-yellow-900/10 border-b border-yellow-200 dark:border-yellow-800":"bg-green-50 dark:bg-green-900/10 border-b border-green-200 dark:border-green-800"} flex justify-between items-center`,children:[e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV(H,{className:"h-5 w-5 text-blue-600 dark:text-blue-400 mr-2"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/CertificationsTab.tsx",lineNumber:172,columnNumber:19},this),e.jsxDEV("h3",{className:"font-medium text-gray-900 dark:text-white",children:s.name},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/CertificationsTab.tsx",lineNumber:173,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/CertificationsTab.tsx",lineNumber:171,columnNumber:17},this),c(s)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/CertificationsTab.tsx",lineNumber:164,columnNumber:15},this),e.jsxDEV("div",{className:"p-4",children:[e.jsxDEV("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Type"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/CertificationsTab.tsx",lineNumber:181,columnNumber:21},this),e.jsxDEV("p",{className:"text-sm text-gray-900 dark:text-white",children:s.type},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/CertificationsTab.tsx",lineNumber:182,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/CertificationsTab.tsx",lineNumber:180,columnNumber:19},this),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Issue Date"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/CertificationsTab.tsx",lineNumber:185,columnNumber:21},this),e.jsxDEV("p",{className:"text-sm text-gray-900 dark:text-white",children:new Date(s.issue_date).toLocaleDateString()},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/CertificationsTab.tsx",lineNumber:186,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/CertificationsTab.tsx",lineNumber:184,columnNumber:19},this),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Expiry Date"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/CertificationsTab.tsx",lineNumber:191,columnNumber:21},this),e.jsxDEV("p",{className:"text-sm text-gray-900 dark:text-white",children:s.expiry_date?new Date(s.expiry_date).toLocaleDateString():"No Expiration"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/CertificationsTab.tsx",lineNumber:192,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/CertificationsTab.tsx",lineNumber:190,columnNumber:19},this),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"File Type"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/CertificationsTab.tsx",lineNumber:199,columnNumber:21},this),e.jsxDEV("p",{className:"text-sm text-gray-900 dark:text-white",children:s.file_type},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/CertificationsTab.tsx",lineNumber:200,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/CertificationsTab.tsx",lineNumber:198,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/CertificationsTab.tsx",lineNumber:179,columnNumber:17},this),s.notes&&e.jsxDEV("div",{className:"mb-4",children:[e.jsxDEV("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Notes"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/CertificationsTab.tsx",lineNumber:206,columnNumber:21},this),e.jsxDEV("p",{className:"text-sm text-gray-900 dark:text-white",children:s.notes},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/CertificationsTab.tsx",lineNumber:207,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/CertificationsTab.tsx",lineNumber:205,columnNumber:19},this),e.jsxDEV("div",{className:"flex justify-between items-center",children:[e.jsxDEV("a",{href:s.file_url,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300 flex items-center",children:[e.jsxDEV(be,{className:"w-4 h-4 mr-1"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/CertificationsTab.tsx",lineNumber:218,columnNumber:21},this),"Download"]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/CertificationsTab.tsx",lineNumber:212,columnNumber:19},this),e.jsxDEV("button",{onClick:()=>N(s.id),className:"text-sm text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300 flex items-center",children:[e.jsxDEV(he,{className:"w-4 h-4 mr-1"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/CertificationsTab.tsx",lineNumber:226,columnNumber:21},this),"Delete"]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/CertificationsTab.tsx",lineNumber:222,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/CertificationsTab.tsx",lineNumber:211,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/CertificationsTab.tsx",lineNumber:178,columnNumber:15},this)]},s.id,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/CertificationsTab.tsx",lineNumber:154,columnNumber:13},this))},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/CertificationsTab.tsx",lineNumber:152,columnNumber:9},this),d&&e.jsxDEV(we,{therapistId:t.id,onClose:()=>m(!1),onSuccess:()=>{m(!1),u.invalidateQueries({queryKey:["therapist-certifications",t.id]})}},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/CertificationsTab.tsx",lineNumber:238,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/CertificationsTab.tsx",lineNumber:116,columnNumber:5},this)}function we({therapistId:t,onClose:d,onSuccess:m}){const[u,p]=o.useState(""),[n,x]=o.useState(""),[N,c]=o.useState(""),[s,b]=o.useState(""),[f,T]=o.useState(""),[h,U]=o.useState(null),[V,y]=o.useState(!1),w=l=>{l.target.files&&l.target.files[0]&&U(l.target.files[0])},i=async l=>{if(l.preventDefault(),!h){K("Please select a file");return}y(!0);try{const v=h.name.split(".").pop(),g=`${Math.random().toString(36).substring(2,15)}.${v}`,E=`therapists/${t}/certifications/${g}`,{error:j}=await C.storage.from("therapist-documents").upload(E,h);if(j)throw j;const{data:{publicUrl:S}}=C.storage.from("therapist-documents").getPublicUrl(E),{error:_}=await C.from("therapist_certifications").insert([{therapist_id:t,name:u,type:n,issue_date:N,expiry_date:s||null,file_url:S,file_name:h.name,file_type:h.type,file_size:h.size,status:"active",notes:f||null}]);if(_)throw _;W("Certification added successfully"),m()}catch(v){K(v)}finally{y(!1)}};return e.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxDEV("div",{className:"bg-white dark:bg-dark-lighter rounded-lg shadow-xl w-full max-w-lg p-6",children:[e.jsxDEV("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"Add Certification"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/CertificationsTab.tsx",lineNumber:330,columnNumber:9},this),e.jsxDEV("form",{onSubmit:i,className:"space-y-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{htmlFor:"cert-name",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Certification Name*"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/CertificationsTab.tsx",lineNumber:336,columnNumber:13},this),e.jsxDEV("input",{id:"cert-name",type:"text",value:u,onChange:l=>p(l.target.value),required:!0,className:"w-full rounded-md border-gray-300 dark:border-gray-600 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-dark dark:text-gray-200"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/CertificationsTab.tsx",lineNumber:339,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/CertificationsTab.tsx",lineNumber:335,columnNumber:11},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{htmlFor:"cert-type",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Type*"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/CertificationsTab.tsx",lineNumber:350,columnNumber:13},this),e.jsxDEV("select",{id:"cert-type",value:n,onChange:l=>x(l.target.value),required:!0,className:"w-full rounded-md border-gray-300 dark:border-gray-600 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-dark dark:text-gray-200",children:[e.jsxDEV("option",{value:"",children:"Select type"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/CertificationsTab.tsx",lineNumber:360,columnNumber:15},this),e.jsxDEV("option",{value:"License",children:"License"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/CertificationsTab.tsx",lineNumber:361,columnNumber:15},this),e.jsxDEV("option",{value:"Certification",children:"Certification"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/CertificationsTab.tsx",lineNumber:362,columnNumber:15},this),e.jsxDEV("option",{value:"Degree",children:"Degree"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/CertificationsTab.tsx",lineNumber:363,columnNumber:15},this),e.jsxDEV("option",{value:"Training",children:"Training"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/CertificationsTab.tsx",lineNumber:364,columnNumber:15},this),e.jsxDEV("option",{value:"Other",children:"Other"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/CertificationsTab.tsx",lineNumber:365,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/CertificationsTab.tsx",lineNumber:353,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/CertificationsTab.tsx",lineNumber:349,columnNumber:11},this),e.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{htmlFor:"cert-issue",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Issue Date*"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/CertificationsTab.tsx",lineNumber:371,columnNumber:15},this),e.jsxDEV("input",{id:"cert-issue",type:"date",value:N,onChange:l=>c(l.target.value),required:!0,className:"w-full rounded-md border-gray-300 dark:border-gray-600 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-dark dark:text-gray-200"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/CertificationsTab.tsx",lineNumber:374,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/CertificationsTab.tsx",lineNumber:370,columnNumber:13},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{htmlFor:"cert-expiry",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Expiry Date"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/CertificationsTab.tsx",lineNumber:385,columnNumber:15},this),e.jsxDEV("input",{id:"cert-expiry",type:"date",value:s,onChange:l=>b(l.target.value),className:"w-full rounded-md border-gray-300 dark:border-gray-600 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-dark dark:text-gray-200"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/CertificationsTab.tsx",lineNumber:388,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/CertificationsTab.tsx",lineNumber:384,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/CertificationsTab.tsx",lineNumber:369,columnNumber:11},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{htmlFor:"cert-notes",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Notes"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/CertificationsTab.tsx",lineNumber:399,columnNumber:13},this),e.jsxDEV("textarea",{id:"cert-notes",value:f,onChange:l=>T(l.target.value),rows:3,className:"w-full rounded-md border-gray-300 dark:border-gray-600 shadow-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-dark dark:text-gray-200"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/CertificationsTab.tsx",lineNumber:402,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/CertificationsTab.tsx",lineNumber:398,columnNumber:11},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{htmlFor:"certification-file",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Upload File*"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/CertificationsTab.tsx",lineNumber:412,columnNumber:13},this),e.jsxDEV("div",{className:"mt-1 flex items-center",children:[e.jsxDEV("input",{type:"file",id:"certification-file",onChange:w,className:"hidden",required:!0},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/CertificationsTab.tsx",lineNumber:416,columnNumber:15},this),e.jsxDEV("label",{htmlFor:"certification-file",className:"px-4 py-2 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm text-sm font-medium text-gray-700 dark:text-gray-200 hover:bg-gray-50 dark:hover:bg-gray-600 cursor-pointer",children:[e.jsxDEV(Ne,{className:"w-4 h-4 inline-block mr-2"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/CertificationsTab.tsx",lineNumber:427,columnNumber:17},this),"Choose File"]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/CertificationsTab.tsx",lineNumber:423,columnNumber:15},this),e.jsxDEV("span",{className:"ml-3 text-sm text-gray-500 dark:text-gray-400",children:h?h.name:"No file chosen"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/CertificationsTab.tsx",lineNumber:430,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/CertificationsTab.tsx",lineNumber:415,columnNumber:13},this),e.jsxDEV("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"Accepted formats: PDF, JPG, PNG, DOC, DOCX"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/CertificationsTab.tsx",lineNumber:434,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/CertificationsTab.tsx",lineNumber:411,columnNumber:11},this),e.jsxDEV("div",{className:"flex justify-end space-x-3 pt-4",children:[e.jsxDEV("button",{type:"button",onClick:d,className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-dark border border-gray-300 dark:border-gray-600 rounded-md shadow-sm hover:bg-gray-50 dark:hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancel"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/CertificationsTab.tsx",lineNumber:440,columnNumber:13},this),e.jsxDEV("button",{type:"submit",disabled:V||!u||!n||!N||!h,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:V?"Uploading...":"Add Certification"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/CertificationsTab.tsx",lineNumber:447,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/CertificationsTab.tsx",lineNumber:439,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/CertificationsTab.tsx",lineNumber:334,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/CertificationsTab.tsx",lineNumber:329,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/CertificationsTab.tsx",lineNumber:328,columnNumber:5},this)}function Pe({therapist:t}){const[d,m]=o.useState(new Date),[u,p]=o.useState("week"),n=ve(d,{weekStartsOn:1}),x=Ce(d,{weekStartsOn:1}),N=new Date,c=i=>k(i,"yyyy-MM-dd")===k(N,"yyyy-MM-dd"),{data:s=[],isLoading:b}=O({queryKey:["therapist-sessions",t.id,k(n,"yyyy-MM-dd"),k(x,"yyyy-MM-dd")],queryFn:async()=>{const{data:i,error:l}=await C.from("sessions").select(`
          *,
          client:clients(id, full_name)
        `).eq("therapist_id",t.id).gte("start_time",n.toISOString()).lte("start_time",x.toISOString()).order("start_time");if(l)throw l;return i||[]}}),f=Array.from({length:20},(i,l)=>{const v=Math.floor(l/2)+8,g=l%2*30;return`${v.toString().padStart(2,"0")}:${g.toString().padStart(2,"0")}`}),T=Array.from({length:6},(i,l)=>B(n,l)),h=()=>{m(i=>B(i,-7))},U=()=>{m(i=>B(i,7))},V=()=>{m(new Date)},y=(i,l)=>{const[v,g]=l.split(":").map(Number);return s.filter(E=>{const j=P(E.start_time),S=j.getHours(),_=j.getMinutes();return ye(j,i)&&S===v&&_===g})},w=i=>{switch(i){case"completed":return"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-200";case"cancelled":return"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-200";case"no-show":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-200";default:return"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-200"}};return b?e.jsxDEV("div",{className:"flex justify-center items-center py-20",children:[e.jsxDEV("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-blue-600"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ScheduleTab.tsx",lineNumber:106,columnNumber:9},this),e.jsxDEV("span",{className:"ml-3 text-gray-600 dark:text-gray-300",children:"Loading schedule..."},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ScheduleTab.tsx",lineNumber:107,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ScheduleTab.tsx",lineNumber:105,columnNumber:7},this):e.jsxDEV("div",{className:"space-y-6",children:[e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{className:"flex items-center space-x-2",children:[e.jsxDEV("button",{onClick:h,className:"p-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-800","aria-label":"Previous week",children:e.jsxDEV(xe,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ScheduleTab.tsx",lineNumber:121,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ScheduleTab.tsx",lineNumber:116,columnNumber:11},this),e.jsxDEV("h2",{className:"text-lg font-medium text-gray-900 dark:text-white px-2",children:[k(n,"MMM d")," - ",k(x,"MMM d, yyyy")]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ScheduleTab.tsx",lineNumber:124,columnNumber:11},this),e.jsxDEV("button",{onClick:U,className:"p-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-800","aria-label":"Next week",children:e.jsxDEV(fe,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ScheduleTab.tsx",lineNumber:133,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ScheduleTab.tsx",lineNumber:128,columnNumber:11},this),e.jsxDEV("button",{onClick:V,className:"ml-2 px-3 py-1 text-sm border border-gray-300 dark:border-gray-600 rounded-md flex items-center hover:bg-gray-100 dark:hover:bg-gray-800",children:[e.jsxDEV(R,{className:"w-4 h-4 mr-1 text-blue-600 dark:text-blue-400"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ScheduleTab.tsx",lineNumber:140,columnNumber:13},this),"Today"]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ScheduleTab.tsx",lineNumber:136,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ScheduleTab.tsx",lineNumber:115,columnNumber:9},this),e.jsxDEV("div",{className:"flex space-x-2",children:[e.jsxDEV("button",{onClick:()=>p("day"),className:`px-3 py-1 text-sm rounded-md ${u==="day"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 dark:bg-gray-800 dark:text-gray-300"}`,children:"Day"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ScheduleTab.tsx",lineNumber:146,columnNumber:11},this),e.jsxDEV("button",{onClick:()=>p("week"),className:`px-3 py-1 text-sm rounded-md ${u==="week"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 dark:bg-gray-800 dark:text-gray-300"}`,children:"Week"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ScheduleTab.tsx",lineNumber:156,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ScheduleTab.tsx",lineNumber:145,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ScheduleTab.tsx",lineNumber:114,columnNumber:7},this),e.jsxDEV("div",{className:"bg-white dark:bg-dark-lighter rounded-lg shadow overflow-x-auto",children:[e.jsxDEV("div",{className:"grid grid-cols-7 border-b dark:border-gray-700 min-w-[800px]",children:[e.jsxDEV("div",{className:"py-3 px-2 text-center text-sm font-medium text-gray-500 dark:text-gray-400 border-r dark:border-gray-700",children:"Time"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ScheduleTab.tsx",lineNumber:171,columnNumber:11},this),T.map(i=>e.jsxDEV("div",{className:`py-3 px-2 text-center text-sm font-medium ${c(i)?"bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300":"text-gray-900 dark:text-white"}`,children:k(i,"EEE MMM d")},i.toISOString(),!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ScheduleTab.tsx",lineNumber:175,columnNumber:13},this))]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ScheduleTab.tsx",lineNumber:170,columnNumber:9},this),e.jsxDEV("div",{className:"grid grid-cols-7",children:[e.jsxDEV("div",{className:"border-r dark:border-gray-700",children:f.map(i=>e.jsxDEV("div",{className:"h-16 border-b dark:border-gray-700 p-2 text-sm text-gray-500 dark:text-gray-400",children:i},i,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ScheduleTab.tsx",lineNumber:191,columnNumber:15},this))},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ScheduleTab.tsx",lineNumber:189,columnNumber:11},this),T.map(i=>e.jsxDEV("div",{className:"relative",children:f.map(l=>{const v=y(i,l);return e.jsxDEV("div",{className:"h-16 border-b dark:border-gray-700 border-r dark:border-gray-700 p-2 relative",children:v.map(g=>e.jsxDEV("div",{className:`absolute inset-1 rounded p-1 text-xs ${w(g.status)}`,children:[e.jsxDEV("div",{className:"font-medium",children:g.client?.full_name},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ScheduleTab.tsx",lineNumber:215,columnNumber:25},this),e.jsxDEV("div",{className:"flex items-center mt-1",children:[e.jsxDEV(Q,{className:"w-3 h-3 mr-1"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ScheduleTab.tsx",lineNumber:219,columnNumber:27},this),k(P(g.start_time),"h:mm a")," -",k(P(g.end_time),"h:mm a")]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ScheduleTab.tsx",lineNumber:218,columnNumber:25},this)]},g.id,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ScheduleTab.tsx",lineNumber:211,columnNumber:23},this))},l,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ScheduleTab.tsx",lineNumber:206,columnNumber:19},this)})},i.toISOString(),!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ScheduleTab.tsx",lineNumber:201,columnNumber:13},this))]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ScheduleTab.tsx",lineNumber:188,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ScheduleTab.tsx",lineNumber:169,columnNumber:7},this),e.jsxDEV("div",{className:"bg-white dark:bg-dark-lighter rounded-lg shadow p-4",children:[e.jsxDEV("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Weekly Availability"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ScheduleTab.tsx",lineNumber:234,columnNumber:9},this),e.jsxDEV("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-4",children:"Your availability for scheduling client sessions"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ScheduleTab.tsx",lineNumber:237,columnNumber:9},this),e.jsxDEV("div",{className:"space-y-4",children:Object.entries(t.availability_hours||{}).map(([i,l])=>e.jsxDEV("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[e.jsxDEV("div",{className:"font-medium text-gray-900 dark:text-white capitalize",children:i},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ScheduleTab.tsx",lineNumber:244,columnNumber:15},this),e.jsxDEV("div",{className:"text-gray-600 dark:text-gray-300",children:l.start&&l.end?e.jsxDEV("span",{children:[l.start," - ",l.end]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ScheduleTab.tsx",lineNumber:249,columnNumber:19},this):e.jsxDEV("span",{className:"text-gray-400 dark:text-gray-500",children:"Not available"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ScheduleTab.tsx",lineNumber:253,columnNumber:19},this)},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ScheduleTab.tsx",lineNumber:247,columnNumber:15},this)]},i,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ScheduleTab.tsx",lineNumber:243,columnNumber:13},this))},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ScheduleTab.tsx",lineNumber:241,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ScheduleTab.tsx",lineNumber:233,columnNumber:7},this),e.jsxDEV("div",{className:"bg-white dark:bg-dark-lighter rounded-lg shadow p-4",children:[e.jsxDEV("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Upcoming Sessions"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ScheduleTab.tsx",lineNumber:262,columnNumber:9},this),s.length===0?e.jsxDEV("p",{className:"text-center text-gray-500 dark:text-gray-400 py-4",children:"No upcoming sessions scheduled"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ScheduleTab.tsx",lineNumber:267,columnNumber:11},this):e.jsxDEV("div",{className:"space-y-3",children:s.slice(0,5).map(i=>e.jsxDEV("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV(F,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 mr-2"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ScheduleTab.tsx",lineNumber:278,columnNumber:19},this),e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"font-medium text-gray-900 dark:text-white flex items-center",children:[i.client?.full_name,i.status==="scheduled"&&e.jsxDEV("span",{className:"ml-2 px-2 py-0.5 text-xs bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-300 rounded-full",children:"Upcoming"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ScheduleTab.tsx",lineNumber:283,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ScheduleTab.tsx",lineNumber:280,columnNumber:21},this),e.jsxDEV("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:k(P(i.start_time),"EEEE, MMMM d")},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ScheduleTab.tsx",lineNumber:288,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ScheduleTab.tsx",lineNumber:279,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ScheduleTab.tsx",lineNumber:277,columnNumber:17},this),e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV("div",{className:"text-right mr-4",children:[e.jsxDEV("div",{className:"font-medium text-gray-900 dark:text-white",children:k(P(i.start_time),"h:mm a")},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ScheduleTab.tsx",lineNumber:295,columnNumber:21},this),e.jsxDEV("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:k(P(i.end_time),"h:mm a")},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ScheduleTab.tsx",lineNumber:298,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ScheduleTab.tsx",lineNumber:294,columnNumber:19},this),e.jsxDEV("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${w(i.status)}`,children:i.status.charAt(0).toUpperCase()+i.status.slice(1)},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ScheduleTab.tsx",lineNumber:302,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ScheduleTab.tsx",lineNumber:293,columnNumber:17},this),i.notes&&e.jsxDEV("div",{className:"mt-2 text-xs text-gray-600 dark:text-gray-400 border-t border-gray-100 dark:border-gray-700 pt-2",children:i.notes.length>100?`${i.notes.substring(0,100)}...`:i.notes},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ScheduleTab.tsx",lineNumber:308,columnNumber:19},this)]},i.id,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ScheduleTab.tsx",lineNumber:273,columnNumber:15},this))},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ScheduleTab.tsx",lineNumber:271,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ScheduleTab.tsx",lineNumber:261,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ScheduleTab.tsx",lineNumber:113,columnNumber:5},this)}function Se({therapist:t}){const[d,m]=o.useState(""),[u,p]=o.useState(!1),[n,x]=o.useState(""),[N,c]=o.useState(null),s=Y(),{isAdmin:b,isSuperAdmin:f}=J(),T=b()||f(),{data:h=[],isLoading:U,error:V}=O({queryKey:["therapist-clients",t.id],queryFn:async()=>{const{data:r,error:D}=await C.from("clients").select(re).eq("therapist_id",t.id).order("full_name",{ascending:!0});if(D)throw D;const{data:A,error:L}=await C.from("sessions").select("client_id").eq("therapist_id",t.id).order("start_time",{ascending:!1});if(L)throw L;const oe=r??[],z=new Map(oe.map(I=>[I.id,I])),X=Array.from(new Set((A??[]).map(I=>I.client_id).filter(I=>typeof I=="string"&&I.length>0))).filter(I=>!z.has(I));if(X.length>0){const{data:I,error:ee}=await C.from("clients").select(re).in("id",X);if(ee)throw ee;(I??[]).forEach(se=>{z.set(se.id,se)})}return Array.from(z.values())}}),{data:y=[],isLoading:w,error:i}=O({queryKey:["therapist-recent-sessions",t.id],queryFn:async()=>{const{data:r,error:D}=await C.from("sessions").select(`
          *,
          client:clients(id, full_name)
        `).eq("therapist_id",t.id).order("start_time",{ascending:!1}).limit(10);if(D)throw D;return r||[]}}),l=r=>{switch(r){case"completed":return e.jsxDEV("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-200",children:[e.jsxDEV(q,{className:"w-3 h-3 mr-1"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ClientsTab.tsx",lineNumber:116,columnNumber:13},this),"Completed"]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ClientsTab.tsx",lineNumber:115,columnNumber:11},this);case"cancelled":return e.jsxDEV("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-200",children:[e.jsxDEV(ne,{className:"w-3 h-3 mr-1"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ClientsTab.tsx",lineNumber:123,columnNumber:13},this),"Cancelled"]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ClientsTab.tsx",lineNumber:122,columnNumber:11},this);case"no-show":return e.jsxDEV("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-200",children:[e.jsxDEV($,{className:"w-3 h-3 mr-1"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ClientsTab.tsx",lineNumber:130,columnNumber:13},this),"No Show"]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ClientsTab.tsx",lineNumber:129,columnNumber:11},this);default:return e.jsxDEV("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-200",children:[e.jsxDEV(Q,{className:"w-3 h-3 mr-1"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ClientsTab.tsx",lineNumber:137,columnNumber:13},this),"Scheduled"]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ClientsTab.tsx",lineNumber:136,columnNumber:11},this)}},v=o.useMemo(()=>d.trim()?h.filter(r=>{const D=(r.full_name??"").toLowerCase(),A=(r.email??"").toLowerCase(),L=d.toLowerCase();return D.includes(L)||A.includes(L)}):h,[h,d]),{data:g=[],isLoading:E}=O({queryKey:["linkable-clients",t.id],queryFn:async()=>{const{data:r,error:D}=await C.from("clients").select(`
          id,
          full_name,
          email,
          therapist_id,
          therapist:therapists(full_name)
        `).order("full_name",{ascending:!0});if(D)throw D;return(r??[]).map(A=>({id:A.id,full_name:A.full_name??"Unnamed client",email:A.email??null,therapist_id:A.therapist_id??null,therapist_name:A?.therapist?.full_name??null}))},enabled:u&&T,staleTime:3e4}),j=o.useMemo(()=>{if(!n.trim())return g;const r=n.toLowerCase();return g.filter(D=>{const A=D.full_name.toLowerCase(),L=(D.email??"").toLowerCase();return A.includes(r)||L.includes(r)})},[n,g]),S=G({mutationFn:async r=>{const{error:D}=await C.from("clients").update({therapist_id:t.id,therapist_assigned_at:new Date().toISOString()}).eq("id",r);if(D)throw D},onSuccess:()=>{W("Client linked to therapist"),s.invalidateQueries({queryKey:["therapist-clients",t.id]}),s.invalidateQueries({queryKey:["linkable-clients",t.id]})},onError:r=>{K(r)}}),_=async r=>{c(r);try{await S.mutateAsync(r)}finally{c(null)}},a=U||w,M=V||i;return a?e.jsxDEV("div",{className:"flex justify-center py-8",children:e.jsxDEV("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ClientsTab.tsx",lineNumber:232,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ClientsTab.tsx",lineNumber:231,columnNumber:7},this):M?e.jsxDEV("div",{className:"bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-300 p-4 rounded-lg",children:[e.jsxDEV("h3",{className:"font-medium mb-2",children:"Error loading data"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ClientsTab.tsx",lineNumber:240,columnNumber:9},this),e.jsxDEV("p",{className:"text-sm",children:V?.message||i?.message||"An error occurred loading the data."},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ClientsTab.tsx",lineNumber:241,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ClientsTab.tsx",lineNumber:239,columnNumber:7},this):e.jsxDEV("div",{className:"space-y-8",children:[e.jsxDEV("div",{className:"bg-white dark:bg-dark-lighter rounded-lg border dark:border-gray-700 p-6",children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-6",children:[e.jsxDEV("div",{children:[e.jsxDEV("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:["Assigned Clients (",h.length,")"]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ClientsTab.tsx",lineNumber:251,columnNumber:13},this),e.jsxDEV("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Manage your client relationships and view client information"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ClientsTab.tsx",lineNumber:254,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ClientsTab.tsx",lineNumber:250,columnNumber:11},this),e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV("div",{className:"relative",children:[e.jsxDEV(le,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ClientsTab.tsx",lineNumber:261,columnNumber:15},this),e.jsxDEV("input",{type:"text",placeholder:"Search clients...",value:d,onChange:r=>m(r.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-dark dark:text-gray-200"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ClientsTab.tsx",lineNumber:262,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ClientsTab.tsx",lineNumber:260,columnNumber:13},this),T&&e.jsxDEV("button",{type:"button",className:"inline-flex items-center rounded-md bg-blue-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",onClick:()=>p(!0),children:"Link Client"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ClientsTab.tsx",lineNumber:271,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ClientsTab.tsx",lineNumber:259,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ClientsTab.tsx",lineNumber:249,columnNumber:9},this),h.length===0?e.jsxDEV("div",{className:"text-center py-12 border border-dashed border-gray-300 dark:border-gray-600 rounded-lg",children:[e.jsxDEV(ge,{className:"mx-auto h-12 w-12 text-gray-400"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ClientsTab.tsx",lineNumber:284,columnNumber:13},this),e.jsxDEV("h3",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-white",children:"No clients assigned"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ClientsTab.tsx",lineNumber:285,columnNumber:13},this),e.jsxDEV("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"No clients have been assigned to you yet"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ClientsTab.tsx",lineNumber:286,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ClientsTab.tsx",lineNumber:283,columnNumber:11},this):v.length===0?e.jsxDEV("div",{className:"text-center py-8 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[e.jsxDEV("h3",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"No matching clients"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ClientsTab.tsx",lineNumber:292,columnNumber:13},this),e.jsxDEV("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Try adjusting your search criteria"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ClientsTab.tsx",lineNumber:293,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ClientsTab.tsx",lineNumber:291,columnNumber:11},this):e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mt-4",children:v.map(r=>e.jsxDEV(Ae,{to:`/clients/${r.id}`,className:"bg-gray-50 dark:bg-gray-800 rounded-lg p-4 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:e.jsxDEV("div",{className:"flex flex-col space-y-3",children:[e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV("div",{className:"text-right mr-3",children:e.jsxDEV(F,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ClientsTab.tsx",lineNumber:308,columnNumber:23},this)},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ClientsTab.tsx",lineNumber:307,columnNumber:21},this),e.jsxDEV("div",{className:"ml-3",children:[e.jsxDEV("h4",{className:"font-medium text-gray-900 dark:text-white",children:r.full_name},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ClientsTab.tsx",lineNumber:311,columnNumber:23},this),e.jsxDEV("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:r.email||"No email"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ClientsTab.tsx",lineNumber:312,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ClientsTab.tsx",lineNumber:310,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ClientsTab.tsx",lineNumber:306,columnNumber:19},this),e.jsxDEV("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[e.jsxDEV("div",{className:"flex items-center text-gray-600 dark:text-gray-300",children:[e.jsxDEV(R,{className:"w-4 h-4 mr-1"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ClientsTab.tsx",lineNumber:318,columnNumber:23},this),e.jsxDEV("span",{children:r.date_of_birth?k(new Date(r.date_of_birth),"MM/dd/yyyy"):"N/A"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ClientsTab.tsx",lineNumber:319,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ClientsTab.tsx",lineNumber:317,columnNumber:21},this),e.jsxDEV("div",{className:"flex items-center justify-end text-blue-600 dark:text-blue-400",children:["View Details",e.jsxDEV(De,{className:"w-4 h-4 ml-1"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ClientsTab.tsx",lineNumber:325,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ClientsTab.tsx",lineNumber:323,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ClientsTab.tsx",lineNumber:316,columnNumber:19},this),e.jsxDEV("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-2",children:e.jsxDEV("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-300",children:r.service_preference?.join(", ")||"No service preference"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ClientsTab.tsx",lineNumber:330,columnNumber:21},this)},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ClientsTab.tsx",lineNumber:329,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ClientsTab.tsx",lineNumber:305,columnNumber:17},this)},r.id,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ClientsTab.tsx",lineNumber:300,columnNumber:15},this))},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ClientsTab.tsx",lineNumber:298,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ClientsTab.tsx",lineNumber:248,columnNumber:7},this),e.jsxDEV("div",{className:"bg-white dark:bg-dark-lighter rounded-lg border dark:border-gray-700 p-6",children:[e.jsxDEV("div",{className:"mb-6",children:[e.jsxDEV("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Recent Sessions"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ClientsTab.tsx",lineNumber:343,columnNumber:11},this),e.jsxDEV("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"View your recent and upcoming client sessions"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ClientsTab.tsx",lineNumber:346,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ClientsTab.tsx",lineNumber:342,columnNumber:9},this),y.length===0?e.jsxDEV("div",{className:"text-center py-12 border border-dashed border-gray-300 dark:border-gray-600 rounded-lg",children:[e.jsxDEV(R,{className:"mx-auto h-12 w-12 text-gray-400"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ClientsTab.tsx",lineNumber:353,columnNumber:13},this),e.jsxDEV("h3",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-white",children:"No sessions"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ClientsTab.tsx",lineNumber:354,columnNumber:13},this),e.jsxDEV("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"No recent sessions found for this therapist"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ClientsTab.tsx",lineNumber:355,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ClientsTab.tsx",lineNumber:352,columnNumber:11},this):e.jsxDEV("div",{className:"space-y-4",children:y.map(r=>e.jsxDEV("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV(F,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 mr-3"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ClientsTab.tsx",lineNumber:367,columnNumber:19},this),e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"font-medium text-gray-900 dark:text-white",children:r.client?.full_name},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ClientsTab.tsx",lineNumber:369,columnNumber:21},this),e.jsxDEV("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:k(P(r.start_time),"EEEE, MMMM d, yyyy")},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ClientsTab.tsx",lineNumber:372,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ClientsTab.tsx",lineNumber:368,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ClientsTab.tsx",lineNumber:366,columnNumber:17},this),e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV("div",{className:"text-right mr-4",children:[e.jsxDEV("div",{className:"font-medium text-gray-900 dark:text-white",children:k(P(r.start_time),"h:mm a")},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ClientsTab.tsx",lineNumber:380,columnNumber:21},this),e.jsxDEV("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:k(P(r.end_time),"h:mm a")},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ClientsTab.tsx",lineNumber:383,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ClientsTab.tsx",lineNumber:379,columnNumber:19},this),l(r.status)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ClientsTab.tsx",lineNumber:378,columnNumber:17},this),e.jsxDEV("div",{className:"mt-2 text-xs text-gray-500 dark:text-gray-400 border-t border-gray-100 dark:border-gray-700 pt-2",children:r.notes||"No session notes"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ClientsTab.tsx",lineNumber:390,columnNumber:17},this)]},r.id,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ClientsTab.tsx",lineNumber:362,columnNumber:15},this))},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ClientsTab.tsx",lineNumber:360,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ClientsTab.tsx",lineNumber:341,columnNumber:7},this),e.jsxDEV(_e,{isOpen:u&&T,onClose:()=>p(!1),searchValue:n,onSearchChange:x,clients:j,isLoading:E||S.isPending,onLink:_,linkingClientId:N,therapistId:t.id},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ClientsTab.tsx",lineNumber:399,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ClientsTab.tsx",lineNumber:247,columnNumber:5},this)}const _e=({isOpen:t,onClose:d,searchValue:m,onSearchChange:u,clients:p,isLoading:n,onLink:x,linkingClientId:N,therapistId:c})=>t?e.jsxDEV("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 px-4 py-6",children:e.jsxDEV("div",{className:"w-full max-w-2xl rounded-lg bg-white shadow-xl dark:bg-dark-lighter",children:[e.jsxDEV("div",{className:"flex items-center justify-between border-b px-6 py-4 dark:border-gray-700",children:[e.jsxDEV("div",{children:[e.jsxDEV("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Link Client to Therapist"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ClientsTab.tsx",lineNumber:444,columnNumber:13},void 0),e.jsxDEV("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Select a client to associate with this therapist profile."},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ClientsTab.tsx",lineNumber:445,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ClientsTab.tsx",lineNumber:443,columnNumber:11},void 0),e.jsxDEV("button",{type:"button",onClick:d,className:"rounded-full p-2 text-gray-500 hover:bg-gray-100 hover:text-gray-700 dark:hover:bg-gray-800","aria-label":"Close link client modal",children:e.jsxDEV(ne,{className:"h-5 w-5"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ClientsTab.tsx",lineNumber:455,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ClientsTab.tsx",lineNumber:449,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ClientsTab.tsx",lineNumber:442,columnNumber:9},void 0),e.jsxDEV("div",{className:"px-6 py-4 space-y-4",children:[e.jsxDEV("div",{className:"relative",children:[e.jsxDEV(le,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ClientsTab.tsx",lineNumber:460,columnNumber:13},void 0),e.jsxDEV("input",{type:"text",value:m,onChange:s=>u(s.target.value),placeholder:"Search by client name or email...",className:"w-full rounded-md border border-gray-300 py-2 pl-10 pr-4 focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:border-gray-600 dark:bg-dark dark:text-gray-200"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ClientsTab.tsx",lineNumber:461,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ClientsTab.tsx",lineNumber:459,columnNumber:11},void 0),e.jsxDEV("div",{className:"max-h-96 overflow-y-auto",children:n?e.jsxDEV("div",{className:"flex justify-center py-8",children:e.jsxDEV("div",{className:"h-8 w-8 animate-spin rounded-full border-b-2 border-blue-600"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ClientsTab.tsx",lineNumber:473,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ClientsTab.tsx",lineNumber:472,columnNumber:15},void 0):p.length===0?e.jsxDEV("div",{className:"rounded-lg border border-dashed border-gray-300 py-8 text-center dark:border-gray-700",children:[e.jsxDEV("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"No clients available"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ClientsTab.tsx",lineNumber:477,columnNumber:17},void 0),e.jsxDEV("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"All clients are currently linked to therapists."},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ClientsTab.tsx",lineNumber:478,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ClientsTab.tsx",lineNumber:476,columnNumber:15},void 0):e.jsxDEV("ul",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:p.map(s=>{const b=s.therapist_id===c,f=N===s.id;return e.jsxDEV("li",{className:"flex items-center justify-between py-3",children:[e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"font-medium text-gray-900 dark:text-white",children:s.full_name},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ClientsTab.tsx",lineNumber:490,columnNumber:25},void 0),e.jsxDEV("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:s.email??"No email listed"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ClientsTab.tsx",lineNumber:491,columnNumber:25},void 0),s.therapist_id&&e.jsxDEV("p",{className:"text-xs text-amber-600 dark:text-amber-300",children:b?"Already linked to this therapist":`Currently linked to ${s.therapist_name??"another therapist"}`},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ClientsTab.tsx",lineNumber:493,columnNumber:27},void 0)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ClientsTab.tsx",lineNumber:489,columnNumber:23},void 0),e.jsxDEV("button",{type:"button",onClick:()=>x(s.id),disabled:b||f,className:"rounded-md border border-transparent bg-blue-600 px-4 py-2 text-sm font-medium text-white shadow-sm transition disabled:cursor-not-allowed disabled:opacity-50 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:b?"Linked":f?"Linking":"Link"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ClientsTab.tsx",lineNumber:500,columnNumber:23},void 0)]},s.id,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ClientsTab.tsx",lineNumber:488,columnNumber:21},void 0)})},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ClientsTab.tsx",lineNumber:483,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ClientsTab.tsx",lineNumber:470,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ClientsTab.tsx",lineNumber:458,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ClientsTab.tsx",lineNumber:441,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/components/TherapistDetails/ClientsTab.tsx",lineNumber:440,columnNumber:5},void 0):null;function ze(){const{therapistId:t}=Ie(),d=Ee(),[m,u]=o.useState("profile"),{profile:p}=J(),{data:n,isLoading:x}=O({queryKey:["therapist",t],queryFn:async()=>{if(!t)throw new Error("Therapist ID is required");const{data:c,error:s}=await C.from("therapists").select("*").eq("id",t).single();if(s)throw s;return c},enabled:!!t}),N=[{id:"profile",name:"Profile",icon:F},{id:"certifications",name:"Certifications",icon:H},{id:"schedule",name:"Schedule",icon:R},{id:"clients",name:"Assigned Clients",icon:ke}];return x?e.jsxDEV("div",{className:"flex items-center justify-center h-64",children:e.jsxDEV("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/TherapistDetails.tsx",lineNumber:47,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/TherapistDetails.tsx",lineNumber:46,columnNumber:7},this):n?p?.role==="therapist"&&p.id!==n.id?e.jsxDEV("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-900/40 rounded-lg shadow p-8 text-red-700 dark:text-red-200",children:[e.jsxDEV(ie,{className:"h-12 w-12 text-red-500 mx-auto mb-4"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/TherapistDetails.tsx",lineNumber:73,columnNumber:9},this),e.jsxDEV("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"You can only view your own therapist profile"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/TherapistDetails.tsx",lineNumber:74,columnNumber:9},this),e.jsxDEV("button",{onClick:()=>d("/therapists"),className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Back to Therapist List"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/TherapistDetails.tsx",lineNumber:77,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/TherapistDetails.tsx",lineNumber:72,columnNumber:7},this):e.jsxDEV("div",{className:"h-full",children:[e.jsxDEV("div",{className:"flex items-center mb-6",children:[e.jsxDEV("button",{onClick:()=>d("/therapists"),className:"mr-4 p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800",children:e.jsxDEV("svg",{className:"h-5 w-5 text-gray-500 dark:text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsxDEV("path",{d:"M19 12H5M12 19l-7-7 7-7"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/TherapistDetails.tsx",lineNumber:95,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/TherapistDetails.tsx",lineNumber:94,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/TherapistDetails.tsx",lineNumber:90,columnNumber:9},this),e.jsxDEV("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["Therapist Records: ",n.full_name]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/TherapistDetails.tsx",lineNumber:98,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/TherapistDetails.tsx",lineNumber:89,columnNumber:7},this),e.jsxDEV("div",{className:"bg-white dark:bg-dark-lighter rounded-lg shadow mb-6",children:[e.jsxDEV("div",{className:"flex items-center px-4 border-b dark:border-gray-700 overflow-x-auto",children:N.map(c=>{const s=c.icon;return e.jsxDEV("button",{onClick:()=>u(c.id),className:`
                  group inline-flex items-center px-6 py-4 border-b-2 font-medium text-sm
                  ${m===c.id?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"}
                `,children:[e.jsxDEV(s,{className:`
                  -ml-1 mr-2 h-5 w-5
                  ${m===c.id?"text-blue-500 dark:text-blue-400":"text-gray-400 group-hover:text-gray-500 dark:text-gray-500 dark:group-hover:text-gray-400"}
                `},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/TherapistDetails.tsx",lineNumber:120,columnNumber:17},this),c.name]},c.id,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/TherapistDetails.tsx",lineNumber:108,columnNumber:15},this)})},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/TherapistDetails.tsx",lineNumber:104,columnNumber:9},this),e.jsxDEV("div",{className:"p-6",children:[m==="profile"&&e.jsxDEV(je,{therapist:n},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/TherapistDetails.tsx",lineNumber:135,columnNumber:39},this),m==="certifications"&&e.jsxDEV(Ve,{therapist:n},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/TherapistDetails.tsx",lineNumber:136,columnNumber:46},this),m==="schedule"&&e.jsxDEV(Pe,{therapist:n},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/TherapistDetails.tsx",lineNumber:137,columnNumber:40},this),m==="clients"&&e.jsxDEV(Se,{therapist:n},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/TherapistDetails.tsx",lineNumber:138,columnNumber:39},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/TherapistDetails.tsx",lineNumber:134,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/TherapistDetails.tsx",lineNumber:103,columnNumber:7},this),e.jsxDEV("div",{className:"bg-white dark:bg-dark-lighter rounded-lg shadow p-4",children:[e.jsxDEV("h2",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Therapist Summary"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/TherapistDetails.tsx",lineNumber:144,columnNumber:9},this),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV(R,{className:"h-8 w-8 text-blue-500 mr-3"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/TherapistDetails.tsx",lineNumber:147,columnNumber:13},this),e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Next Session"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/TherapistDetails.tsx",lineNumber:149,columnNumber:15},this),e.jsxDEV("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Tomorrow at 3:00 PM"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/TherapistDetails.tsx",lineNumber:152,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/TherapistDetails.tsx",lineNumber:148,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/TherapistDetails.tsx",lineNumber:146,columnNumber:11},this),e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV(Q,{className:"h-8 w-8 text-green-500 mr-3"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/TherapistDetails.tsx",lineNumber:159,columnNumber:13},this),e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Weekly Hours"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/TherapistDetails.tsx",lineNumber:161,columnNumber:15},this),e.jsxDEV("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[n.weekly_hours_min," - ",n.weekly_hours_max," hours/week"]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/TherapistDetails.tsx",lineNumber:164,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/TherapistDetails.tsx",lineNumber:160,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/TherapistDetails.tsx",lineNumber:158,columnNumber:11},this),e.jsxDEV("div",{className:"flex items-center",children:[e.jsxDEV(ae,{className:"h-8 w-8 text-purple-500 mr-3"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/TherapistDetails.tsx",lineNumber:171,columnNumber:13},this),e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Service Areas"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/TherapistDetails.tsx",lineNumber:173,columnNumber:15},this),e.jsxDEV("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:n.service_type?.join(", ")||"Not specified"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/TherapistDetails.tsx",lineNumber:176,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/TherapistDetails.tsx",lineNumber:172,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/TherapistDetails.tsx",lineNumber:170,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/TherapistDetails.tsx",lineNumber:145,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/TherapistDetails.tsx",lineNumber:143,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/TherapistDetails.tsx",lineNumber:88,columnNumber:5},this):e.jsxDEV("div",{className:"bg-white dark:bg-dark-lighter rounded-lg shadow p-8 text-center",children:[e.jsxDEV(ie,{className:"h-12 w-12 text-red-500 mx-auto mb-4"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/TherapistDetails.tsx",lineNumber:55,columnNumber:9},this),e.jsxDEV("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Therapist Not Found"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/TherapistDetails.tsx",lineNumber:56,columnNumber:9},this),e.jsxDEV("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"The therapist you're looking for doesn't exist or you don't have permission to view it."},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/TherapistDetails.tsx",lineNumber:57,columnNumber:9},this),e.jsxDEV("button",{onClick:()=>d("/therapists"),className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Return to Therapists"},void 0,!1,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/TherapistDetails.tsx",lineNumber:60,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/test/Desktop/AllIincompassing/src/pages/TherapistDetails.tsx",lineNumber:54,columnNumber:7},this)}export{ze as default};
