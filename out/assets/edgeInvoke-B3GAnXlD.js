import{f as u}from"./reports-B0fjwS8-.js";import"./vendor-CkTWaQD2.js";import"./maps-DwSjqVUD.js";import"./supabase-BgfCgt6W.js";import"./dates-C30WUoI7.js";function d(s){return async function(i,t={}){const r=new Headers,o=typeof t.accessToken=="string"?t.accessToken.trim():"";if(o.length>0)r.set("Authorization",`Bearer ${o}`);else try{const{data:{session:e}}=await s.auth.getSession();e?.access_token&&r.set("Authorization",`Bearer ${e.access_token}`)}catch{}typeof t.anonKey=="string"&&t.anonKey.trim().length>0&&r.set("apikey",t.anonKey.trim());try{const e={body:t.body};r.size>0&&(e.headers=r);const{data:n,error:a}=await s.functions.invoke(i,e),c=a?.status??(a?500:200);return{data:n??null,error:a??null,status:c}}catch(e){const n=e instanceof Error?e:new Error(String(e));return{data:null,error:n,status:n?.status??500}}}}const l=d(u);export{d as createEdgeInvoke,l as edgeInvoke};
