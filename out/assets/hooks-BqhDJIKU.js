import{r as u,u as r,n as i,_ as o}from"./vendor-CkTWaQD2.js";import{u as s}from"./reports-B0fjwS8-.js";import{c,b as l,d as y,e as d,g as f}from"./fetchers-BMhPL40Q.js";const m=(e,n)=>["client-notes",e,n?.visibleToParentOnly?"parent":"all"],K=()=>{const{profile:e}=s(),n=e?.role==="client";return r({queryKey:["guardian","clients"],queryFn:async()=>n?l():[],enabled:!!n})},G=(e,n)=>{const a=u.useMemo(()=>e?m(e,n):null,[e,n?.visibleToParentOnly]);return r({queryKey:a??["client-notes","placeholder","all"],queryFn:async()=>e?y(e,n):[],enabled:!!e})},g=e=>r({queryKey:["client-issues",e??"unknown"],queryFn:async()=>e?d(e):[],enabled:!!e}),h=()=>{const{user:e}=s(),n=i();return o({mutationFn:async a=>{if(!e?.id)throw new Error("You must be signed in to confirm contact information.");return c(e.id,a)},onSuccess:(a,t)=>{n.invalidateQueries({queryKey:["guardian","clients"]}),t&&n.invalidateQueries({queryKey:["guardian","clients",t]}),e?.id&&n.invalidateQueries({queryKey:["guardian","contact",e.id]})}})},p=()=>{const{user:e,profile:n}=s(),a=n?.role==="client";return r({queryKey:["guardian","contact",e?.id??"anonymous"],queryFn:async()=>!e?.id||!a?[]:f(e.id),enabled:!!e?.id&&!!a})};export{g as a,K as b,p as c,h as d,G as u};
