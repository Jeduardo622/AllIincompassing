import os
remote_versions = set("20250101000000,20250315065232,20250315065813,20250315072159,20250315072601,20250315072725,20250315072735,20250315073854,20250315074856,20250315075408,20250317170751,20250317171031,20250317172217,20250317175223,20250318155045,20250318172727,20250318172921,20250319153129,20250319154239,20250319161824,20250319163544,20250319163811,20250319164259,20250319165058,20250319165608,20250319174915,20250319175408,20250319180706,20250319180817,20250319181308,20250319181429,20250319181554,20250319184500,20250319191611,20250319195528,20250320155906,20250320165624,20250320170909,20250324180437,20250324183514,20250325000000,20250326151217,20250326151254,20250329000956,20250501150957,20250501163612,20250501163708,20250506173705,20250506174001,20250512164301,20250512175821,20250514163813,20250521233525,20250521235127,20250522000613,20250522002250,20250522005611,20250522035224,20250522040038,20250522040403,20250522204558,20250522210330,20250523151440,20250523151458,20250523155646,20250525161332,20250527011254,20250527011302,20250527011339,20250527011421,20250530160619,20250530210102,20250530232544,20250530232645,20250601023142,20250601024254,20250602193506,20250602193536,20250602193606,20250602195334,20250602231725,20250602233030,20250602234613,20250602235012,20250602235642,20250603000511,20250603124510,20250603155501,20250603155514,20250603155615,20250603155707,20250603155719,20250603160545,20250620215714,20250620220108,20250620221605,20250620222536,20250620223045,20250620234414,20250621003654,20250622,20250626003822,20250626152029,20250626152321,20250626152346,20250626152728,20250626153756,20250630220728,20250630222159,20250630225317,20250630225359,20250630230140,20250630231321,20250630232246,20250630234331,20250630235535,20250701000152,20250702155157,20250702172857,20250702173428,20250702183056,20250702184045,20250702192750,20250706221341,20251201154159,20251201154237,20251201154245,20251201154341,20251201154655,20251201155841,20251201160348,20251201160532,20251201160627,20251201160747,20251203174707,20251203190324,20251204022105".split(','))
local = []
for name in sorted(os.listdir('supabase/migrations')):
    if name.endswith('.sql'):
        version = name.split('_', 1)[0]
        local.append((version, name))
missing = [item for item in local if item[0] not in remote_versions]
missing.sort()
print('missing_count', len(missing))
for version, fname in missing:
    print(version, fname)
